ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"at32f413_spi.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.spi_i2s_reset,"ax",%progbits
  18              		.align	1
  19              		.global	spi_i2s_reset
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	spi_i2s_reset:
  27              	.LVL0:
  28              	.LFB133:
  29              		.file 1 "./libraries/drivers/src/at32f413_spi.c"
   1:./libraries/drivers/src/at32f413_spi.c **** /**
   2:./libraries/drivers/src/at32f413_spi.c ****   **************************************************************************
   3:./libraries/drivers/src/at32f413_spi.c ****   * @file     at32f413_spi.c
   4:./libraries/drivers/src/at32f413_spi.c ****   * @version  v2.0.5
   5:./libraries/drivers/src/at32f413_spi.c ****   * @date     2022-05-20
   6:./libraries/drivers/src/at32f413_spi.c ****   * @brief    contains all the functions for the spi firmware library
   7:./libraries/drivers/src/at32f413_spi.c ****   **************************************************************************
   8:./libraries/drivers/src/at32f413_spi.c ****   *                       Copyright notice & Disclaimer
   9:./libraries/drivers/src/at32f413_spi.c ****   *
  10:./libraries/drivers/src/at32f413_spi.c ****   * The software Board Support Package (BSP) that is made available to
  11:./libraries/drivers/src/at32f413_spi.c ****   * download from Artery official website is the copyrighted work of Artery.
  12:./libraries/drivers/src/at32f413_spi.c ****   * Artery authorizes customers to use, copy, and distribute the BSP
  13:./libraries/drivers/src/at32f413_spi.c ****   * software and its related documentation for the purpose of design and
  14:./libraries/drivers/src/at32f413_spi.c ****   * development in conjunction with Artery microcontrollers. Use of the
  15:./libraries/drivers/src/at32f413_spi.c ****   * software is governed by this copyright notice and the following disclaimer.
  16:./libraries/drivers/src/at32f413_spi.c ****   *
  17:./libraries/drivers/src/at32f413_spi.c ****   * THIS SOFTWARE IS PROVIDED ON "AS IS" BASIS WITHOUT WARRANTIES,
  18:./libraries/drivers/src/at32f413_spi.c ****   * GUARANTEES OR REPRESENTATIONS OF ANY KIND. ARTERY EXPRESSLY DISCLAIMS,
  19:./libraries/drivers/src/at32f413_spi.c ****   * TO THE FULLEST EXTENT PERMITTED BY LAW, ALL EXPRESS, IMPLIED OR
  20:./libraries/drivers/src/at32f413_spi.c ****   * STATUTORY OR OTHER WARRANTIES, GUARANTEES OR REPRESENTATIONS,
  21:./libraries/drivers/src/at32f413_spi.c ****   * INCLUDING BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY,
  22:./libraries/drivers/src/at32f413_spi.c ****   * FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT.
  23:./libraries/drivers/src/at32f413_spi.c ****   *
  24:./libraries/drivers/src/at32f413_spi.c ****   **************************************************************************
  25:./libraries/drivers/src/at32f413_spi.c ****   */
  26:./libraries/drivers/src/at32f413_spi.c **** 
  27:./libraries/drivers/src/at32f413_spi.c **** #include "at32f413_conf.h"
  28:./libraries/drivers/src/at32f413_spi.c **** 
  29:./libraries/drivers/src/at32f413_spi.c **** /** @addtogroup AT32F413_periph_driver
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 2


  30:./libraries/drivers/src/at32f413_spi.c ****   * @{
  31:./libraries/drivers/src/at32f413_spi.c ****   */
  32:./libraries/drivers/src/at32f413_spi.c **** 
  33:./libraries/drivers/src/at32f413_spi.c **** /** @defgroup SPI
  34:./libraries/drivers/src/at32f413_spi.c ****   * @brief SPI driver modules
  35:./libraries/drivers/src/at32f413_spi.c ****   * @{
  36:./libraries/drivers/src/at32f413_spi.c ****   */
  37:./libraries/drivers/src/at32f413_spi.c **** 
  38:./libraries/drivers/src/at32f413_spi.c **** #ifdef SPI_MODULE_ENABLED
  39:./libraries/drivers/src/at32f413_spi.c **** 
  40:./libraries/drivers/src/at32f413_spi.c **** /** @defgroup SPI_private_functions
  41:./libraries/drivers/src/at32f413_spi.c ****   * @{
  42:./libraries/drivers/src/at32f413_spi.c ****   */
  43:./libraries/drivers/src/at32f413_spi.c **** 
  44:./libraries/drivers/src/at32f413_spi.c **** /**
  45:./libraries/drivers/src/at32f413_spi.c ****   * @brief  spi reset by crm reset register
  46:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_x: select the spi peripheral.
  47:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
  48:./libraries/drivers/src/at32f413_spi.c ****   *         SPI1, SPI2
  49:./libraries/drivers/src/at32f413_spi.c ****   * @retval none
  50:./libraries/drivers/src/at32f413_spi.c ****   */
  51:./libraries/drivers/src/at32f413_spi.c **** void spi_i2s_reset(spi_type *spi_x)
  52:./libraries/drivers/src/at32f413_spi.c **** {
  30              		.loc 1 52 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 52 1 is_stmt 0 view .LVU1
  35 0000 10B5     		push	{r4, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 4, -8
  39              		.cfi_offset 14, -4
  53:./libraries/drivers/src/at32f413_spi.c ****   if(spi_x == SPI1)
  40              		.loc 1 53 3 is_stmt 1 view .LVU2
  41              		.loc 1 53 5 is_stmt 0 view .LVU3
  42 0002 0E4B     		ldr	r3, .L7
  43 0004 9842     		cmp	r0, r3
  44 0006 03D0     		beq	.L5
  54:./libraries/drivers/src/at32f413_spi.c ****   {
  55:./libraries/drivers/src/at32f413_spi.c ****     crm_periph_reset(CRM_SPI1_PERIPH_RESET, TRUE);
  56:./libraries/drivers/src/at32f413_spi.c ****     crm_periph_reset(CRM_SPI1_PERIPH_RESET, FALSE);
  57:./libraries/drivers/src/at32f413_spi.c ****   }
  58:./libraries/drivers/src/at32f413_spi.c ****   else if(spi_x == SPI2)
  45              		.loc 1 58 8 is_stmt 1 view .LVU4
  46              		.loc 1 58 10 is_stmt 0 view .LVU5
  47 0008 0D4B     		ldr	r3, .L7+4
  48 000a 9842     		cmp	r0, r3
  49 000c 0BD0     		beq	.L6
  50              	.LVL1:
  51              	.L1:
  59:./libraries/drivers/src/at32f413_spi.c ****   {
  60:./libraries/drivers/src/at32f413_spi.c ****     crm_periph_reset(CRM_SPI2_PERIPH_RESET, TRUE);
  61:./libraries/drivers/src/at32f413_spi.c ****     crm_periph_reset(CRM_SPI2_PERIPH_RESET, FALSE);
  62:./libraries/drivers/src/at32f413_spi.c ****   }
  63:./libraries/drivers/src/at32f413_spi.c **** }
  52              		.loc 1 63 1 view .LVU6
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 3


  53 000e 10BD     		pop	{r4, pc}
  54              	.LVL2:
  55              	.L5:
  55:./libraries/drivers/src/at32f413_spi.c ****     crm_periph_reset(CRM_SPI1_PERIPH_RESET, FALSE);
  56              		.loc 1 55 5 is_stmt 1 view .LVU7
  57 0010 0121     		movs	r1, #1
  58 0012 4FF00C10 		mov	r0, #786444
  59              	.LVL3:
  55:./libraries/drivers/src/at32f413_spi.c ****     crm_periph_reset(CRM_SPI1_PERIPH_RESET, FALSE);
  60              		.loc 1 55 5 is_stmt 0 view .LVU8
  61 0016 FFF7FEFF 		bl	crm_periph_reset
  62              	.LVL4:
  56:./libraries/drivers/src/at32f413_spi.c ****   }
  63              		.loc 1 56 5 is_stmt 1 view .LVU9
  64 001a 0021     		movs	r1, #0
  65 001c 4FF00C10 		mov	r0, #786444
  66 0020 FFF7FEFF 		bl	crm_periph_reset
  67              	.LVL5:
  68 0024 F3E7     		b	.L1
  69              	.LVL6:
  70              	.L6:
  60:./libraries/drivers/src/at32f413_spi.c ****     crm_periph_reset(CRM_SPI2_PERIPH_RESET, FALSE);
  71              		.loc 1 60 5 view .LVU10
  72 0026 074C     		ldr	r4, .L7+8
  73 0028 0121     		movs	r1, #1
  74 002a 2046     		mov	r0, r4
  75              	.LVL7:
  60:./libraries/drivers/src/at32f413_spi.c ****     crm_periph_reset(CRM_SPI2_PERIPH_RESET, FALSE);
  76              		.loc 1 60 5 is_stmt 0 view .LVU11
  77 002c FFF7FEFF 		bl	crm_periph_reset
  78              	.LVL8:
  61:./libraries/drivers/src/at32f413_spi.c ****   }
  79              		.loc 1 61 5 is_stmt 1 view .LVU12
  80 0030 0021     		movs	r1, #0
  81 0032 2046     		mov	r0, r4
  82 0034 FFF7FEFF 		bl	crm_periph_reset
  83              	.LVL9:
  84              		.loc 1 63 1 is_stmt 0 view .LVU13
  85 0038 E9E7     		b	.L1
  86              	.L8:
  87 003a 00BF     		.align	2
  88              	.L7:
  89 003c 00300140 		.word	1073819648
  90 0040 00380040 		.word	1073756160
  91 0044 0E001000 		.word	1048590
  92              		.cfi_endproc
  93              	.LFE133:
  95              		.section	.text.spi_default_para_init,"ax",%progbits
  96              		.align	1
  97              		.global	spi_default_para_init
  98              		.syntax unified
  99              		.thumb
 100              		.thumb_func
 101              		.fpu fpv4-sp-d16
 103              	spi_default_para_init:
 104              	.LVL10:
 105              	.LFB134:
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 4


  64:./libraries/drivers/src/at32f413_spi.c **** 
  65:./libraries/drivers/src/at32f413_spi.c **** /**
  66:./libraries/drivers/src/at32f413_spi.c ****   * @brief  spi init config with its default value.
  67:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_init_struct : pointer to a spi_init_type structure which will
  68:./libraries/drivers/src/at32f413_spi.c ****   *         be initialized.
  69:./libraries/drivers/src/at32f413_spi.c ****   * @retval none
  70:./libraries/drivers/src/at32f413_spi.c ****   */
  71:./libraries/drivers/src/at32f413_spi.c **** void spi_default_para_init(spi_init_type* spi_init_struct)
  72:./libraries/drivers/src/at32f413_spi.c **** {
 106              		.loc 1 72 1 is_stmt 1 view -0
 107              		.cfi_startproc
 108              		@ args = 0, pretend = 0, frame = 0
 109              		@ frame_needed = 0, uses_anonymous_args = 0
 110              		@ link register save eliminated.
  73:./libraries/drivers/src/at32f413_spi.c ****   spi_init_struct->transmission_mode = SPI_TRANSMIT_FULL_DUPLEX;
 111              		.loc 1 73 3 view .LVU15
 112              		.loc 1 73 38 is_stmt 0 view .LVU16
 113 0000 0023     		movs	r3, #0
 114 0002 0370     		strb	r3, [r0]
  74:./libraries/drivers/src/at32f413_spi.c ****   spi_init_struct->master_slave_mode = SPI_MODE_SLAVE;
 115              		.loc 1 74 3 is_stmt 1 view .LVU17
 116              		.loc 1 74 38 is_stmt 0 view .LVU18
 117 0004 4370     		strb	r3, [r0, #1]
  75:./libraries/drivers/src/at32f413_spi.c ****   spi_init_struct->mclk_freq_division = SPI_MCLK_DIV_2;
 118              		.loc 1 75 3 is_stmt 1 view .LVU19
 119              		.loc 1 75 39 is_stmt 0 view .LVU20
 120 0006 8370     		strb	r3, [r0, #2]
  76:./libraries/drivers/src/at32f413_spi.c ****   spi_init_struct->first_bit_transmission = SPI_FIRST_BIT_MSB;
 121              		.loc 1 76 3 is_stmt 1 view .LVU21
 122              		.loc 1 76 43 is_stmt 0 view .LVU22
 123 0008 C370     		strb	r3, [r0, #3]
  77:./libraries/drivers/src/at32f413_spi.c ****   spi_init_struct->frame_bit_num = SPI_FRAME_8BIT;
 124              		.loc 1 77 3 is_stmt 1 view .LVU23
 125              		.loc 1 77 34 is_stmt 0 view .LVU24
 126 000a 0371     		strb	r3, [r0, #4]
  78:./libraries/drivers/src/at32f413_spi.c ****   spi_init_struct->clock_polarity = SPI_CLOCK_POLARITY_LOW;
 127              		.loc 1 78 3 is_stmt 1 view .LVU25
 128              		.loc 1 78 35 is_stmt 0 view .LVU26
 129 000c 4371     		strb	r3, [r0, #5]
  79:./libraries/drivers/src/at32f413_spi.c ****   spi_init_struct->clock_phase = SPI_CLOCK_PHASE_1EDGE;
 130              		.loc 1 79 3 is_stmt 1 view .LVU27
 131              		.loc 1 79 32 is_stmt 0 view .LVU28
 132 000e 8371     		strb	r3, [r0, #6]
  80:./libraries/drivers/src/at32f413_spi.c ****   spi_init_struct->cs_mode_selection = SPI_CS_SOFTWARE_MODE;
 133              		.loc 1 80 3 is_stmt 1 view .LVU29
 134              		.loc 1 80 38 is_stmt 0 view .LVU30
 135 0010 0123     		movs	r3, #1
 136 0012 C371     		strb	r3, [r0, #7]
  81:./libraries/drivers/src/at32f413_spi.c **** }
 137              		.loc 1 81 1 view .LVU31
 138 0014 7047     		bx	lr
 139              		.cfi_endproc
 140              	.LFE134:
 142              		.section	.text.spi_init,"ax",%progbits
 143              		.align	1
 144              		.global	spi_init
 145              		.syntax unified
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 5


 146              		.thumb
 147              		.thumb_func
 148              		.fpu fpv4-sp-d16
 150              	spi_init:
 151              	.LVL11:
 152              	.LFB135:
  82:./libraries/drivers/src/at32f413_spi.c **** 
  83:./libraries/drivers/src/at32f413_spi.c **** /**
  84:./libraries/drivers/src/at32f413_spi.c ****   * @brief  spi init config with its setting value.
  85:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_x: select the spi peripheral.
  86:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
  87:./libraries/drivers/src/at32f413_spi.c ****   *         SPI1, SPI2
  88:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_init_struct : pointer to a spi_init_type structure which will be initialized.
  89:./libraries/drivers/src/at32f413_spi.c ****   * @retval none
  90:./libraries/drivers/src/at32f413_spi.c ****   */
  91:./libraries/drivers/src/at32f413_spi.c **** void spi_init(spi_type* spi_x, spi_init_type* spi_init_struct)
  92:./libraries/drivers/src/at32f413_spi.c **** {
 153              		.loc 1 92 1 is_stmt 1 view -0
 154              		.cfi_startproc
 155              		@ args = 0, pretend = 0, frame = 0
 156              		@ frame_needed = 0, uses_anonymous_args = 0
 157              		@ link register save eliminated.
  93:./libraries/drivers/src/at32f413_spi.c ****   spi_x->i2sctrl_bit.i2smsel = FALSE;
 158              		.loc 1 93 3 view .LVU33
 159              		.loc 1 93 30 is_stmt 0 view .LVU34
 160 0000 C369     		ldr	r3, [r0, #28]
 161 0002 6FF3CB23 		bfc	r3, #11, #1
 162 0006 C361     		str	r3, [r0, #28]
  94:./libraries/drivers/src/at32f413_spi.c ****   if(spi_init_struct->transmission_mode == SPI_TRANSMIT_FULL_DUPLEX)
 163              		.loc 1 94 3 is_stmt 1 view .LVU35
 164              		.loc 1 94 21 is_stmt 0 view .LVU36
 165 0008 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 166              		.loc 1 94 5 view .LVU37
 167 000a 002B     		cmp	r3, #0
 168 000c 3DD1     		bne	.L11
  95:./libraries/drivers/src/at32f413_spi.c ****   {
  96:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.slben = FALSE;
 169              		.loc 1 96 5 is_stmt 1 view .LVU38
 170              		.loc 1 96 28 is_stmt 0 view .LVU39
 171 000e 0368     		ldr	r3, [r0]
 172 0010 6FF3CF33 		bfc	r3, #15, #1
 173 0014 0360     		str	r3, [r0]
  97:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.slbtd = FALSE;
 174              		.loc 1 97 5 is_stmt 1 view .LVU40
 175              		.loc 1 97 28 is_stmt 0 view .LVU41
 176 0016 0368     		ldr	r3, [r0]
 177 0018 6FF38E33 		bfc	r3, #14, #1
 178 001c 0360     		str	r3, [r0]
  98:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.ora = FALSE;
 179              		.loc 1 98 5 is_stmt 1 view .LVU42
 180              		.loc 1 98 26 is_stmt 0 view .LVU43
 181 001e 0368     		ldr	r3, [r0]
 182 0020 6FF38A23 		bfc	r3, #10, #1
 183 0024 0360     		str	r3, [r0]
 184              	.L12:
  99:./libraries/drivers/src/at32f413_spi.c ****   }
 100:./libraries/drivers/src/at32f413_spi.c ****   else if(spi_init_struct->transmission_mode == SPI_TRANSMIT_SIMPLEX_RX)
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 6


 101:./libraries/drivers/src/at32f413_spi.c ****   {
 102:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.slben = FALSE;
 103:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.slbtd = FALSE;
 104:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.ora = TRUE;
 105:./libraries/drivers/src/at32f413_spi.c ****   }
 106:./libraries/drivers/src/at32f413_spi.c ****   else if(spi_init_struct->transmission_mode == SPI_TRANSMIT_HALF_DUPLEX_RX)
 107:./libraries/drivers/src/at32f413_spi.c ****   {
 108:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.slben = TRUE;
 109:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.slbtd = FALSE;
 110:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.ora = FALSE;
 111:./libraries/drivers/src/at32f413_spi.c ****   }
 112:./libraries/drivers/src/at32f413_spi.c ****   else if(spi_init_struct->transmission_mode == SPI_TRANSMIT_HALF_DUPLEX_TX)
 113:./libraries/drivers/src/at32f413_spi.c ****   {
 114:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.slben = TRUE;
 115:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.slbtd = TRUE;
 116:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.ora = FALSE;
 117:./libraries/drivers/src/at32f413_spi.c ****   }
 118:./libraries/drivers/src/at32f413_spi.c **** 
 119:./libraries/drivers/src/at32f413_spi.c ****   spi_x->ctrl1_bit.swcsen = spi_init_struct->cs_mode_selection;
 185              		.loc 1 119 3 is_stmt 1 view .LVU44
 186              		.loc 1 119 44 is_stmt 0 view .LVU45
 187 0026 CA79     		ldrb	r2, [r1, #7]	@ zero_extendqisi2
 188              		.loc 1 119 27 view .LVU46
 189 0028 0368     		ldr	r3, [r0]
 190 002a 62F34923 		bfi	r3, r2, #9, #1
 191 002e 0360     		str	r3, [r0]
 120:./libraries/drivers/src/at32f413_spi.c ****   if((spi_init_struct->master_slave_mode == SPI_MODE_MASTER) && (spi_init_struct->cs_mode_selection
 192              		.loc 1 120 3 is_stmt 1 view .LVU47
 193              		.loc 1 120 22 is_stmt 0 view .LVU48
 194 0030 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 195              		.loc 1 120 5 view .LVU49
 196 0032 012B     		cmp	r3, #1
 197 0034 56D0     		beq	.L19
 198              	.L15:
 121:./libraries/drivers/src/at32f413_spi.c ****   {
 122:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.swcsil = TRUE;
 123:./libraries/drivers/src/at32f413_spi.c ****   }
 124:./libraries/drivers/src/at32f413_spi.c ****   else
 125:./libraries/drivers/src/at32f413_spi.c ****   {
 126:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.swcsil = FALSE;
 199              		.loc 1 126 5 is_stmt 1 view .LVU50
 200              		.loc 1 126 29 is_stmt 0 view .LVU51
 201 0036 0368     		ldr	r3, [r0]
 202 0038 6FF30823 		bfc	r3, #8, #1
 203 003c 0360     		str	r3, [r0]
 204              	.L16:
 127:./libraries/drivers/src/at32f413_spi.c ****   }
 128:./libraries/drivers/src/at32f413_spi.c ****   spi_x->ctrl1_bit.msten = spi_init_struct->master_slave_mode;
 205              		.loc 1 128 3 is_stmt 1 view .LVU52
 206              		.loc 1 128 43 is_stmt 0 view .LVU53
 207 003e 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
 208              		.loc 1 128 26 view .LVU54
 209 0040 0368     		ldr	r3, [r0]
 210 0042 62F38203 		bfi	r3, r2, #2, #1
 211 0046 0360     		str	r3, [r0]
 129:./libraries/drivers/src/at32f413_spi.c ****   if(spi_init_struct->mclk_freq_division > SPI_MCLK_DIV_256)
 212              		.loc 1 129 3 is_stmt 1 view .LVU55
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 7


 213              		.loc 1 129 21 is_stmt 0 view .LVU56
 214 0048 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 215              		.loc 1 129 5 view .LVU57
 216 004a 072B     		cmp	r3, #7
 217 004c 52D9     		bls	.L17
 130:./libraries/drivers/src/at32f413_spi.c ****   {
 131:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl2_bit.mdiv_h = 1;
 218              		.loc 1 131 5 is_stmt 1 view .LVU58
 219              		.loc 1 131 29 is_stmt 0 view .LVU59
 220 004e 4368     		ldr	r3, [r0, #4]
 221 0050 43F48073 		orr	r3, r3, #256
 222 0054 4360     		str	r3, [r0, #4]
 132:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.mdiv_l = spi_init_struct->mclk_freq_division & 0x7;
 223              		.loc 1 132 5 is_stmt 1 view .LVU60
 224              		.loc 1 132 46 is_stmt 0 view .LVU61
 225 0056 8A78     		ldrb	r2, [r1, #2]	@ zero_extendqisi2
 226              		.loc 1 132 29 view .LVU62
 227 0058 0368     		ldr	r3, [r0]
 228 005a 62F3C503 		bfi	r3, r2, #3, #3
 229 005e 0360     		str	r3, [r0]
 230              	.L18:
 133:./libraries/drivers/src/at32f413_spi.c ****   }
 134:./libraries/drivers/src/at32f413_spi.c ****   else
 135:./libraries/drivers/src/at32f413_spi.c ****   {
 136:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl2_bit.mdiv_h = 0;
 137:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.mdiv_l = spi_init_struct->mclk_freq_division;
 138:./libraries/drivers/src/at32f413_spi.c ****   }
 139:./libraries/drivers/src/at32f413_spi.c ****   spi_x->ctrl1_bit.ltf = spi_init_struct->first_bit_transmission;
 231              		.loc 1 139 3 is_stmt 1 view .LVU63
 232              		.loc 1 139 41 is_stmt 0 view .LVU64
 233 0060 CA78     		ldrb	r2, [r1, #3]	@ zero_extendqisi2
 234              		.loc 1 139 24 view .LVU65
 235 0062 0368     		ldr	r3, [r0]
 236 0064 62F3C713 		bfi	r3, r2, #7, #1
 237 0068 0360     		str	r3, [r0]
 140:./libraries/drivers/src/at32f413_spi.c ****   spi_x->ctrl1_bit.fbn = spi_init_struct->frame_bit_num;
 238              		.loc 1 140 3 is_stmt 1 view .LVU66
 239              		.loc 1 140 41 is_stmt 0 view .LVU67
 240 006a 0A79     		ldrb	r2, [r1, #4]	@ zero_extendqisi2
 241              		.loc 1 140 24 view .LVU68
 242 006c 0368     		ldr	r3, [r0]
 243 006e 62F3CB23 		bfi	r3, r2, #11, #1
 244 0072 0360     		str	r3, [r0]
 141:./libraries/drivers/src/at32f413_spi.c ****   spi_x->ctrl1_bit.clkpol = spi_init_struct->clock_polarity;
 245              		.loc 1 141 3 is_stmt 1 view .LVU69
 246              		.loc 1 141 44 is_stmt 0 view .LVU70
 247 0074 4A79     		ldrb	r2, [r1, #5]	@ zero_extendqisi2
 248              		.loc 1 141 27 view .LVU71
 249 0076 0368     		ldr	r3, [r0]
 250 0078 62F34103 		bfi	r3, r2, #1, #1
 251 007c 0360     		str	r3, [r0]
 142:./libraries/drivers/src/at32f413_spi.c ****   spi_x->ctrl1_bit.clkpha = spi_init_struct->clock_phase;
 252              		.loc 1 142 3 is_stmt 1 view .LVU72
 253              		.loc 1 142 44 is_stmt 0 view .LVU73
 254 007e 8A79     		ldrb	r2, [r1, #6]	@ zero_extendqisi2
 255              		.loc 1 142 27 view .LVU74
 256 0080 0368     		ldr	r3, [r0]
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 8


 257 0082 62F30003 		bfi	r3, r2, #0, #1
 258 0086 0360     		str	r3, [r0]
 143:./libraries/drivers/src/at32f413_spi.c **** }
 259              		.loc 1 143 1 view .LVU75
 260 0088 7047     		bx	lr
 261              	.L11:
 100:./libraries/drivers/src/at32f413_spi.c ****   {
 262              		.loc 1 100 8 is_stmt 1 view .LVU76
 100:./libraries/drivers/src/at32f413_spi.c ****   {
 263              		.loc 1 100 10 is_stmt 0 view .LVU77
 264 008a 012B     		cmp	r3, #1
 265 008c 10D0     		beq	.L20
 106:./libraries/drivers/src/at32f413_spi.c ****   {
 266              		.loc 1 106 8 is_stmt 1 view .LVU78
 106:./libraries/drivers/src/at32f413_spi.c ****   {
 267              		.loc 1 106 10 is_stmt 0 view .LVU79
 268 008e 022B     		cmp	r3, #2
 269 0090 1BD0     		beq	.L21
 112:./libraries/drivers/src/at32f413_spi.c ****   {
 270              		.loc 1 112 8 is_stmt 1 view .LVU80
 112:./libraries/drivers/src/at32f413_spi.c ****   {
 271              		.loc 1 112 10 is_stmt 0 view .LVU81
 272 0092 032B     		cmp	r3, #3
 273 0094 C7D1     		bne	.L12
 114:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.slbtd = TRUE;
 274              		.loc 1 114 5 is_stmt 1 view .LVU82
 114:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.slbtd = TRUE;
 275              		.loc 1 114 28 is_stmt 0 view .LVU83
 276 0096 0368     		ldr	r3, [r0]
 277 0098 43F40043 		orr	r3, r3, #32768
 278 009c 0360     		str	r3, [r0]
 115:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.ora = FALSE;
 279              		.loc 1 115 5 is_stmt 1 view .LVU84
 115:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.ora = FALSE;
 280              		.loc 1 115 28 is_stmt 0 view .LVU85
 281 009e 0368     		ldr	r3, [r0]
 282 00a0 43F48043 		orr	r3, r3, #16384
 283 00a4 0360     		str	r3, [r0]
 116:./libraries/drivers/src/at32f413_spi.c ****   }
 284              		.loc 1 116 5 is_stmt 1 view .LVU86
 116:./libraries/drivers/src/at32f413_spi.c ****   }
 285              		.loc 1 116 26 is_stmt 0 view .LVU87
 286 00a6 0368     		ldr	r3, [r0]
 287 00a8 6FF38A23 		bfc	r3, #10, #1
 288 00ac 0360     		str	r3, [r0]
 289 00ae BAE7     		b	.L12
 290              	.L20:
 102:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.slbtd = FALSE;
 291              		.loc 1 102 5 is_stmt 1 view .LVU88
 102:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.slbtd = FALSE;
 292              		.loc 1 102 28 is_stmt 0 view .LVU89
 293 00b0 0368     		ldr	r3, [r0]
 294 00b2 6FF3CF33 		bfc	r3, #15, #1
 295 00b6 0360     		str	r3, [r0]
 103:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.ora = TRUE;
 296              		.loc 1 103 5 is_stmt 1 view .LVU90
 103:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.ora = TRUE;
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 9


 297              		.loc 1 103 28 is_stmt 0 view .LVU91
 298 00b8 0368     		ldr	r3, [r0]
 299 00ba 6FF38E33 		bfc	r3, #14, #1
 300 00be 0360     		str	r3, [r0]
 104:./libraries/drivers/src/at32f413_spi.c ****   }
 301              		.loc 1 104 5 is_stmt 1 view .LVU92
 104:./libraries/drivers/src/at32f413_spi.c ****   }
 302              		.loc 1 104 26 is_stmt 0 view .LVU93
 303 00c0 0368     		ldr	r3, [r0]
 304 00c2 43F48063 		orr	r3, r3, #1024
 305 00c6 0360     		str	r3, [r0]
 306 00c8 ADE7     		b	.L12
 307              	.L21:
 108:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.slbtd = FALSE;
 308              		.loc 1 108 5 is_stmt 1 view .LVU94
 108:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.slbtd = FALSE;
 309              		.loc 1 108 28 is_stmt 0 view .LVU95
 310 00ca 0368     		ldr	r3, [r0]
 311 00cc 43F40043 		orr	r3, r3, #32768
 312 00d0 0360     		str	r3, [r0]
 109:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.ora = FALSE;
 313              		.loc 1 109 5 is_stmt 1 view .LVU96
 109:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.ora = FALSE;
 314              		.loc 1 109 28 is_stmt 0 view .LVU97
 315 00d2 0368     		ldr	r3, [r0]
 316 00d4 6FF38E33 		bfc	r3, #14, #1
 317 00d8 0360     		str	r3, [r0]
 110:./libraries/drivers/src/at32f413_spi.c ****   }
 318              		.loc 1 110 5 is_stmt 1 view .LVU98
 110:./libraries/drivers/src/at32f413_spi.c ****   }
 319              		.loc 1 110 26 is_stmt 0 view .LVU99
 320 00da 0368     		ldr	r3, [r0]
 321 00dc 6FF38A23 		bfc	r3, #10, #1
 322 00e0 0360     		str	r3, [r0]
 323 00e2 A0E7     		b	.L12
 324              	.L19:
 120:./libraries/drivers/src/at32f413_spi.c ****   {
 325              		.loc 1 120 81 discriminator 1 view .LVU100
 326 00e4 CB79     		ldrb	r3, [r1, #7]	@ zero_extendqisi2
 120:./libraries/drivers/src/at32f413_spi.c ****   {
 327              		.loc 1 120 62 discriminator 1 view .LVU101
 328 00e6 012B     		cmp	r3, #1
 329 00e8 A5D1     		bne	.L15
 122:./libraries/drivers/src/at32f413_spi.c ****   }
 330              		.loc 1 122 5 is_stmt 1 view .LVU102
 122:./libraries/drivers/src/at32f413_spi.c ****   }
 331              		.loc 1 122 29 is_stmt 0 view .LVU103
 332 00ea 0368     		ldr	r3, [r0]
 333 00ec 43F48073 		orr	r3, r3, #256
 334 00f0 0360     		str	r3, [r0]
 335 00f2 A4E7     		b	.L16
 336              	.L17:
 136:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.mdiv_l = spi_init_struct->mclk_freq_division;
 337              		.loc 1 136 5 is_stmt 1 view .LVU104
 136:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.mdiv_l = spi_init_struct->mclk_freq_division;
 338              		.loc 1 136 29 is_stmt 0 view .LVU105
 339 00f4 4368     		ldr	r3, [r0, #4]
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 10


 340 00f6 6FF30823 		bfc	r3, #8, #1
 341 00fa 4360     		str	r3, [r0, #4]
 137:./libraries/drivers/src/at32f413_spi.c ****   }
 342              		.loc 1 137 5 is_stmt 1 view .LVU106
 137:./libraries/drivers/src/at32f413_spi.c ****   }
 343              		.loc 1 137 46 is_stmt 0 view .LVU107
 344 00fc 8A78     		ldrb	r2, [r1, #2]	@ zero_extendqisi2
 137:./libraries/drivers/src/at32f413_spi.c ****   }
 345              		.loc 1 137 29 view .LVU108
 346 00fe 0368     		ldr	r3, [r0]
 347 0100 62F3C503 		bfi	r3, r2, #3, #3
 348 0104 0360     		str	r3, [r0]
 349 0106 ABE7     		b	.L18
 350              		.cfi_endproc
 351              	.LFE135:
 353              		.section	.text.spi_crc_next_transmit,"ax",%progbits
 354              		.align	1
 355              		.global	spi_crc_next_transmit
 356              		.syntax unified
 357              		.thumb
 358              		.thumb_func
 359              		.fpu fpv4-sp-d16
 361              	spi_crc_next_transmit:
 362              	.LVL12:
 363              	.LFB136:
 144:./libraries/drivers/src/at32f413_spi.c **** 
 145:./libraries/drivers/src/at32f413_spi.c **** /**
 146:./libraries/drivers/src/at32f413_spi.c ****   * @brief  spi next transmit crc for the spi peripheral.
 147:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_x: select the spi peripheral.
 148:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
 149:./libraries/drivers/src/at32f413_spi.c ****   *         SPI1, SPI2
 150:./libraries/drivers/src/at32f413_spi.c ****   * @retval none
 151:./libraries/drivers/src/at32f413_spi.c ****   */
 152:./libraries/drivers/src/at32f413_spi.c **** void spi_crc_next_transmit(spi_type* spi_x)
 153:./libraries/drivers/src/at32f413_spi.c **** {
 364              		.loc 1 153 1 is_stmt 1 view -0
 365              		.cfi_startproc
 366              		@ args = 0, pretend = 0, frame = 0
 367              		@ frame_needed = 0, uses_anonymous_args = 0
 368              		@ link register save eliminated.
 154:./libraries/drivers/src/at32f413_spi.c ****   spi_x->ctrl1_bit.ntc = TRUE;
 369              		.loc 1 154 3 view .LVU110
 370              		.loc 1 154 24 is_stmt 0 view .LVU111
 371 0000 0368     		ldr	r3, [r0]
 372 0002 43F48053 		orr	r3, r3, #4096
 373 0006 0360     		str	r3, [r0]
 155:./libraries/drivers/src/at32f413_spi.c **** }
 374              		.loc 1 155 1 view .LVU112
 375 0008 7047     		bx	lr
 376              		.cfi_endproc
 377              	.LFE136:
 379              		.section	.text.spi_crc_polynomial_set,"ax",%progbits
 380              		.align	1
 381              		.global	spi_crc_polynomial_set
 382              		.syntax unified
 383              		.thumb
 384              		.thumb_func
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 11


 385              		.fpu fpv4-sp-d16
 387              	spi_crc_polynomial_set:
 388              	.LVL13:
 389              	.LFB137:
 156:./libraries/drivers/src/at32f413_spi.c **** 
 157:./libraries/drivers/src/at32f413_spi.c **** /**
 158:./libraries/drivers/src/at32f413_spi.c ****   * @brief  set the crc polynomial value for the spi peripheral.
 159:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_x: select the spi peripheral.
 160:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
 161:./libraries/drivers/src/at32f413_spi.c ****   *         SPI1, SPI2
 162:./libraries/drivers/src/at32f413_spi.c ****   * @param  crc_poly: crc polynomial value.
 163:./libraries/drivers/src/at32f413_spi.c ****   * @retval none
 164:./libraries/drivers/src/at32f413_spi.c ****   */
 165:./libraries/drivers/src/at32f413_spi.c **** void spi_crc_polynomial_set(spi_type* spi_x, uint16_t crc_poly)
 166:./libraries/drivers/src/at32f413_spi.c **** {
 390              		.loc 1 166 1 is_stmt 1 view -0
 391              		.cfi_startproc
 392              		@ args = 0, pretend = 0, frame = 0
 393              		@ frame_needed = 0, uses_anonymous_args = 0
 394              		@ link register save eliminated.
 167:./libraries/drivers/src/at32f413_spi.c ****   spi_x->cpoly_bit.cpoly = crc_poly;
 395              		.loc 1 167 3 view .LVU114
 396              		.loc 1 167 26 is_stmt 0 view .LVU115
 397 0000 0369     		ldr	r3, [r0, #16]
 398              	.LVL14:
 399              		.loc 1 167 26 view .LVU116
 400 0002 61F30F03 		bfi	r3, r1, #0, #16
 401 0006 0361     		str	r3, [r0, #16]
 168:./libraries/drivers/src/at32f413_spi.c **** }
 402              		.loc 1 168 1 view .LVU117
 403 0008 7047     		bx	lr
 404              		.cfi_endproc
 405              	.LFE137:
 407              		.section	.text.spi_crc_polynomial_get,"ax",%progbits
 408              		.align	1
 409              		.global	spi_crc_polynomial_get
 410              		.syntax unified
 411              		.thumb
 412              		.thumb_func
 413              		.fpu fpv4-sp-d16
 415              	spi_crc_polynomial_get:
 416              	.LVL15:
 417              	.LFB138:
 169:./libraries/drivers/src/at32f413_spi.c **** 
 170:./libraries/drivers/src/at32f413_spi.c **** /**
 171:./libraries/drivers/src/at32f413_spi.c ****   * @brief  return the crc polynomial register value for the spi peripheral.
 172:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_x: select the spi peripheral.
 173:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
 174:./libraries/drivers/src/at32f413_spi.c ****   *         SPI1, SPI2
 175:./libraries/drivers/src/at32f413_spi.c ****   * @retval the select crc polynomial register value
 176:./libraries/drivers/src/at32f413_spi.c ****   */
 177:./libraries/drivers/src/at32f413_spi.c **** uint16_t spi_crc_polynomial_get(spi_type* spi_x)
 178:./libraries/drivers/src/at32f413_spi.c **** {
 418              		.loc 1 178 1 is_stmt 1 view -0
 419              		.cfi_startproc
 420              		@ args = 0, pretend = 0, frame = 0
 421              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 12


 422              		@ link register save eliminated.
 179:./libraries/drivers/src/at32f413_spi.c ****   return spi_x->cpoly_bit.cpoly;
 423              		.loc 1 179 3 view .LVU119
 424              		.loc 1 179 26 is_stmt 0 view .LVU120
 425 0000 0069     		ldr	r0, [r0, #16]
 426              	.LVL16:
 180:./libraries/drivers/src/at32f413_spi.c **** }
 427              		.loc 1 180 1 view .LVU121
 428 0002 80B2     		uxth	r0, r0
 429 0004 7047     		bx	lr
 430              		.cfi_endproc
 431              	.LFE138:
 433              		.section	.text.spi_crc_enable,"ax",%progbits
 434              		.align	1
 435              		.global	spi_crc_enable
 436              		.syntax unified
 437              		.thumb
 438              		.thumb_func
 439              		.fpu fpv4-sp-d16
 441              	spi_crc_enable:
 442              	.LVL17:
 443              	.LFB139:
 181:./libraries/drivers/src/at32f413_spi.c **** 
 182:./libraries/drivers/src/at32f413_spi.c **** /**
 183:./libraries/drivers/src/at32f413_spi.c ****   * @brief  enable or disable the hardware crc calculation for the spi peripheral.
 184:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_x: select the spi peripheral.
 185:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
 186:./libraries/drivers/src/at32f413_spi.c ****   *         SPI1, SPI2
 187:./libraries/drivers/src/at32f413_spi.c ****   * @param  new_state: new state of crc calculation.
 188:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be: TRUE or FALSE.
 189:./libraries/drivers/src/at32f413_spi.c ****   * @retval none
 190:./libraries/drivers/src/at32f413_spi.c ****   */
 191:./libraries/drivers/src/at32f413_spi.c **** void spi_crc_enable(spi_type* spi_x, confirm_state new_state)
 192:./libraries/drivers/src/at32f413_spi.c **** {
 444              		.loc 1 192 1 is_stmt 1 view -0
 445              		.cfi_startproc
 446              		@ args = 0, pretend = 0, frame = 0
 447              		@ frame_needed = 0, uses_anonymous_args = 0
 448              		@ link register save eliminated.
 193:./libraries/drivers/src/at32f413_spi.c ****   spi_x->ctrl1_bit.ccen = new_state;
 449              		.loc 1 193 3 view .LVU123
 450              		.loc 1 193 25 is_stmt 0 view .LVU124
 451 0000 0368     		ldr	r3, [r0]
 452 0002 61F34D33 		bfi	r3, r1, #13, #1
 453 0006 0360     		str	r3, [r0]
 194:./libraries/drivers/src/at32f413_spi.c **** }
 454              		.loc 1 194 1 view .LVU125
 455 0008 7047     		bx	lr
 456              		.cfi_endproc
 457              	.LFE139:
 459              		.section	.text.spi_crc_value_get,"ax",%progbits
 460              		.align	1
 461              		.global	spi_crc_value_get
 462              		.syntax unified
 463              		.thumb
 464              		.thumb_func
 465              		.fpu fpv4-sp-d16
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 13


 467              	spi_crc_value_get:
 468              	.LVL18:
 469              	.LFB140:
 195:./libraries/drivers/src/at32f413_spi.c **** 
 196:./libraries/drivers/src/at32f413_spi.c **** /**
 197:./libraries/drivers/src/at32f413_spi.c ****   * @brief  return the transmit or the receive crc value for the spi peripheral.
 198:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_x: select the spi peripheral.
 199:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
 200:./libraries/drivers/src/at32f413_spi.c ****   *         SPI1, SPI2
 201:./libraries/drivers/src/at32f413_spi.c ****   * @param  crc_direction: select transmit or receive crc value to be read
 202:./libraries/drivers/src/at32f413_spi.c ****   *         - SPI_CRC_RX
 203:./libraries/drivers/src/at32f413_spi.c ****   *         - SPI_CRC_TX
 204:./libraries/drivers/src/at32f413_spi.c ****   * @retval the select crc register value
 205:./libraries/drivers/src/at32f413_spi.c ****   */
 206:./libraries/drivers/src/at32f413_spi.c **** uint16_t spi_crc_value_get(spi_type* spi_x, spi_crc_direction_type crc_direction)
 207:./libraries/drivers/src/at32f413_spi.c **** {
 470              		.loc 1 207 1 is_stmt 1 view -0
 471              		.cfi_startproc
 472              		@ args = 0, pretend = 0, frame = 0
 473              		@ frame_needed = 0, uses_anonymous_args = 0
 474              		@ link register save eliminated.
 208:./libraries/drivers/src/at32f413_spi.c ****   if(crc_direction == SPI_CRC_RX)
 475              		.loc 1 208 3 view .LVU127
 476              		.loc 1 208 5 is_stmt 0 view .LVU128
 477 0000 1429     		cmp	r1, #20
 478 0002 02D0     		beq	.L29
 209:./libraries/drivers/src/at32f413_spi.c ****     return  spi_x->rcrc_bit.rcrc;
 210:./libraries/drivers/src/at32f413_spi.c ****   else
 211:./libraries/drivers/src/at32f413_spi.c ****     return  spi_x->tcrc_bit.tcrc;
 479              		.loc 1 211 5 is_stmt 1 view .LVU129
 480              		.loc 1 211 28 is_stmt 0 view .LVU130
 481 0004 8069     		ldr	r0, [r0, #24]
 482              	.LVL19:
 483              		.loc 1 211 28 view .LVU131
 484 0006 80B2     		uxth	r0, r0
 212:./libraries/drivers/src/at32f413_spi.c **** }
 485              		.loc 1 212 1 view .LVU132
 486 0008 7047     		bx	lr
 487              	.LVL20:
 488              	.L29:
 209:./libraries/drivers/src/at32f413_spi.c ****     return  spi_x->rcrc_bit.rcrc;
 489              		.loc 1 209 5 is_stmt 1 view .LVU133
 209:./libraries/drivers/src/at32f413_spi.c ****     return  spi_x->rcrc_bit.rcrc;
 490              		.loc 1 209 28 is_stmt 0 view .LVU134
 491 000a 4069     		ldr	r0, [r0, #20]
 492              	.LVL21:
 209:./libraries/drivers/src/at32f413_spi.c ****     return  spi_x->rcrc_bit.rcrc;
 493              		.loc 1 209 28 view .LVU135
 494 000c 80B2     		uxth	r0, r0
 495 000e 7047     		bx	lr
 496              		.cfi_endproc
 497              	.LFE140:
 499              		.section	.text.spi_hardware_cs_output_enable,"ax",%progbits
 500              		.align	1
 501              		.global	spi_hardware_cs_output_enable
 502              		.syntax unified
 503              		.thumb
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 14


 504              		.thumb_func
 505              		.fpu fpv4-sp-d16
 507              	spi_hardware_cs_output_enable:
 508              	.LVL22:
 509              	.LFB141:
 213:./libraries/drivers/src/at32f413_spi.c **** 
 214:./libraries/drivers/src/at32f413_spi.c **** /**
 215:./libraries/drivers/src/at32f413_spi.c ****   * @brief  enable or disable the hardware cs output for the spi peripheral.
 216:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_x: select the spi peripheral.
 217:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
 218:./libraries/drivers/src/at32f413_spi.c ****   *         SPI1, SPI2
 219:./libraries/drivers/src/at32f413_spi.c ****   * @param  new_state: new state of spi master cs output.
 220:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be: TRUE or FALSE.
 221:./libraries/drivers/src/at32f413_spi.c ****   *         note:the bit only use in spi master mode
 222:./libraries/drivers/src/at32f413_spi.c ****   * @retval none
 223:./libraries/drivers/src/at32f413_spi.c ****   */
 224:./libraries/drivers/src/at32f413_spi.c **** void spi_hardware_cs_output_enable(spi_type* spi_x, confirm_state new_state)
 225:./libraries/drivers/src/at32f413_spi.c **** {
 510              		.loc 1 225 1 is_stmt 1 view -0
 511              		.cfi_startproc
 512              		@ args = 0, pretend = 0, frame = 0
 513              		@ frame_needed = 0, uses_anonymous_args = 0
 514              		@ link register save eliminated.
 226:./libraries/drivers/src/at32f413_spi.c ****   spi_x->ctrl2_bit.hwcsoe = new_state;
 515              		.loc 1 226 3 view .LVU137
 516              		.loc 1 226 27 is_stmt 0 view .LVU138
 517 0000 4368     		ldr	r3, [r0, #4]
 518 0002 61F38203 		bfi	r3, r1, #2, #1
 519 0006 4360     		str	r3, [r0, #4]
 227:./libraries/drivers/src/at32f413_spi.c **** }
 520              		.loc 1 227 1 view .LVU139
 521 0008 7047     		bx	lr
 522              		.cfi_endproc
 523              	.LFE141:
 525              		.section	.text.spi_software_cs_internal_level_set,"ax",%progbits
 526              		.align	1
 527              		.global	spi_software_cs_internal_level_set
 528              		.syntax unified
 529              		.thumb
 530              		.thumb_func
 531              		.fpu fpv4-sp-d16
 533              	spi_software_cs_internal_level_set:
 534              	.LVL23:
 535              	.LFB142:
 228:./libraries/drivers/src/at32f413_spi.c **** 
 229:./libraries/drivers/src/at32f413_spi.c **** /**
 230:./libraries/drivers/src/at32f413_spi.c ****   * @brief  set the software cs internal level for the spi peripheral.
 231:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_x: select the spi peripheral.
 232:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
 233:./libraries/drivers/src/at32f413_spi.c ****   *         SPI1, SPI2
 234:./libraries/drivers/src/at32f413_spi.c ****   * @param  level: set the state of spi cs level.
 235:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
 236:./libraries/drivers/src/at32f413_spi.c ****   *         - SPI_SWCS_INTERNAL_LEVEL_LOW
 237:./libraries/drivers/src/at32f413_spi.c ****   *         - SPI_SWCS_INTERNAL_LEVEL_HIGHT
 238:./libraries/drivers/src/at32f413_spi.c ****   *         note:the bit only use when swcsen bit is set.
 239:./libraries/drivers/src/at32f413_spi.c ****   *         note:when use this bit,io operation on the cs pin are invalid.
 240:./libraries/drivers/src/at32f413_spi.c ****   * @retval none
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 15


 241:./libraries/drivers/src/at32f413_spi.c ****   */
 242:./libraries/drivers/src/at32f413_spi.c **** void spi_software_cs_internal_level_set(spi_type* spi_x, spi_software_cs_level_type level)
 243:./libraries/drivers/src/at32f413_spi.c **** {
 536              		.loc 1 243 1 is_stmt 1 view -0
 537              		.cfi_startproc
 538              		@ args = 0, pretend = 0, frame = 0
 539              		@ frame_needed = 0, uses_anonymous_args = 0
 540              		@ link register save eliminated.
 244:./libraries/drivers/src/at32f413_spi.c ****   spi_x->ctrl1_bit.swcsil = level;
 541              		.loc 1 244 3 view .LVU141
 542              		.loc 1 244 27 is_stmt 0 view .LVU142
 543 0000 0368     		ldr	r3, [r0]
 544 0002 61F30823 		bfi	r3, r1, #8, #1
 545 0006 0360     		str	r3, [r0]
 245:./libraries/drivers/src/at32f413_spi.c **** }
 546              		.loc 1 245 1 view .LVU143
 547 0008 7047     		bx	lr
 548              		.cfi_endproc
 549              	.LFE142:
 551              		.section	.text.spi_frame_bit_num_set,"ax",%progbits
 552              		.align	1
 553              		.global	spi_frame_bit_num_set
 554              		.syntax unified
 555              		.thumb
 556              		.thumb_func
 557              		.fpu fpv4-sp-d16
 559              	spi_frame_bit_num_set:
 560              	.LVL24:
 561              	.LFB143:
 246:./libraries/drivers/src/at32f413_spi.c **** 
 247:./libraries/drivers/src/at32f413_spi.c **** /**
 248:./libraries/drivers/src/at32f413_spi.c ****   * @brief  set the data frame bit num for the spi peripheral.
 249:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_x: select the spi peripheral.
 250:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
 251:./libraries/drivers/src/at32f413_spi.c ****   *         SPI1, SPI2
 252:./libraries/drivers/src/at32f413_spi.c ****   * @param  bit_num: set the data frame size
 253:./libraries/drivers/src/at32f413_spi.c ****   *         - SPI_FRAME_8BIT
 254:./libraries/drivers/src/at32f413_spi.c ****   *         - SPI_FRAME_16BIT
 255:./libraries/drivers/src/at32f413_spi.c ****   * @retval none
 256:./libraries/drivers/src/at32f413_spi.c ****   */
 257:./libraries/drivers/src/at32f413_spi.c **** void spi_frame_bit_num_set(spi_type* spi_x, spi_frame_bit_num_type bit_num)
 258:./libraries/drivers/src/at32f413_spi.c **** {
 562              		.loc 1 258 1 is_stmt 1 view -0
 563              		.cfi_startproc
 564              		@ args = 0, pretend = 0, frame = 0
 565              		@ frame_needed = 0, uses_anonymous_args = 0
 566              		@ link register save eliminated.
 259:./libraries/drivers/src/at32f413_spi.c ****   spi_x->ctrl1_bit.fbn = bit_num;
 567              		.loc 1 259 3 view .LVU145
 568              		.loc 1 259 24 is_stmt 0 view .LVU146
 569 0000 0368     		ldr	r3, [r0]
 570 0002 61F3CB23 		bfi	r3, r1, #11, #1
 571 0006 0360     		str	r3, [r0]
 260:./libraries/drivers/src/at32f413_spi.c **** }
 572              		.loc 1 260 1 view .LVU147
 573 0008 7047     		bx	lr
 574              		.cfi_endproc
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 16


 575              	.LFE143:
 577              		.section	.text.spi_half_duplex_direction_set,"ax",%progbits
 578              		.align	1
 579              		.global	spi_half_duplex_direction_set
 580              		.syntax unified
 581              		.thumb
 582              		.thumb_func
 583              		.fpu fpv4-sp-d16
 585              	spi_half_duplex_direction_set:
 586              	.LVL25:
 587              	.LFB144:
 261:./libraries/drivers/src/at32f413_spi.c **** 
 262:./libraries/drivers/src/at32f413_spi.c **** /**
 263:./libraries/drivers/src/at32f413_spi.c ****   * @brief  set the data transmission direction in single line bidirectiona half duplex mode of the
 264:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_x: select the spi peripheral.
 265:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
 266:./libraries/drivers/src/at32f413_spi.c ****   *         SPI1, SPI2
 267:./libraries/drivers/src/at32f413_spi.c ****   * @param  direction: data transfer direction
 268:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
 269:./libraries/drivers/src/at32f413_spi.c ****   *         - SPI_HALF_DUPLEX_DIRECTION_RX
 270:./libraries/drivers/src/at32f413_spi.c ****   *         - SPI_HALF_DUPLEX_DIRECTION_TX
 271:./libraries/drivers/src/at32f413_spi.c ****   * @retval none
 272:./libraries/drivers/src/at32f413_spi.c ****   */
 273:./libraries/drivers/src/at32f413_spi.c **** void spi_half_duplex_direction_set(spi_type* spi_x, spi_half_duplex_direction_type direction)
 274:./libraries/drivers/src/at32f413_spi.c **** {
 588              		.loc 1 274 1 is_stmt 1 view -0
 589              		.cfi_startproc
 590              		@ args = 0, pretend = 0, frame = 0
 591              		@ frame_needed = 0, uses_anonymous_args = 0
 592              		@ link register save eliminated.
 275:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1_bit.slbtd = direction;
 593              		.loc 1 275 5 view .LVU149
 594              		.loc 1 275 28 is_stmt 0 view .LVU150
 595 0000 0368     		ldr	r3, [r0]
 596 0002 61F38E33 		bfi	r3, r1, #14, #1
 597 0006 0360     		str	r3, [r0]
 276:./libraries/drivers/src/at32f413_spi.c **** }
 598              		.loc 1 276 1 view .LVU151
 599 0008 7047     		bx	lr
 600              		.cfi_endproc
 601              	.LFE144:
 603              		.section	.text.spi_enable,"ax",%progbits
 604              		.align	1
 605              		.global	spi_enable
 606              		.syntax unified
 607              		.thumb
 608              		.thumb_func
 609              		.fpu fpv4-sp-d16
 611              	spi_enable:
 612              	.LVL26:
 613              	.LFB145:
 277:./libraries/drivers/src/at32f413_spi.c **** 
 278:./libraries/drivers/src/at32f413_spi.c **** /**
 279:./libraries/drivers/src/at32f413_spi.c ****   * @brief  enable or disable spi.
 280:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_x: select the spi peripheral.
 281:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
 282:./libraries/drivers/src/at32f413_spi.c ****   *         SPI1, SPI2
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 17


 283:./libraries/drivers/src/at32f413_spi.c ****   * @param  new_state: new state of spi.
 284:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be: TRUE or FALSE.
 285:./libraries/drivers/src/at32f413_spi.c ****   * @retval none
 286:./libraries/drivers/src/at32f413_spi.c ****   */
 287:./libraries/drivers/src/at32f413_spi.c **** void spi_enable(spi_type* spi_x, confirm_state new_state)
 288:./libraries/drivers/src/at32f413_spi.c **** {
 614              		.loc 1 288 1 is_stmt 1 view -0
 615              		.cfi_startproc
 616              		@ args = 0, pretend = 0, frame = 0
 617              		@ frame_needed = 0, uses_anonymous_args = 0
 618              		@ link register save eliminated.
 289:./libraries/drivers/src/at32f413_spi.c ****   spi_x->ctrl1_bit.spien = new_state;
 619              		.loc 1 289 3 view .LVU153
 620              		.loc 1 289 26 is_stmt 0 view .LVU154
 621 0000 0368     		ldr	r3, [r0]
 622 0002 61F38613 		bfi	r3, r1, #6, #1
 623 0006 0360     		str	r3, [r0]
 290:./libraries/drivers/src/at32f413_spi.c **** }
 624              		.loc 1 290 1 view .LVU155
 625 0008 7047     		bx	lr
 626              		.cfi_endproc
 627              	.LFE145:
 629              		.section	.text.i2s_default_para_init,"ax",%progbits
 630              		.align	1
 631              		.global	i2s_default_para_init
 632              		.syntax unified
 633              		.thumb
 634              		.thumb_func
 635              		.fpu fpv4-sp-d16
 637              	i2s_default_para_init:
 638              	.LVL27:
 639              	.LFB146:
 291:./libraries/drivers/src/at32f413_spi.c **** 
 292:./libraries/drivers/src/at32f413_spi.c **** /**
 293:./libraries/drivers/src/at32f413_spi.c ****   * @brief  i2s init config with its default value.
 294:./libraries/drivers/src/at32f413_spi.c ****   * @param  i2s_init_struct : pointer to a i2s_init_type structure which will
 295:./libraries/drivers/src/at32f413_spi.c ****   *         be initialized.
 296:./libraries/drivers/src/at32f413_spi.c ****   * @retval none
 297:./libraries/drivers/src/at32f413_spi.c ****   */
 298:./libraries/drivers/src/at32f413_spi.c **** void i2s_default_para_init(i2s_init_type* i2s_init_struct)
 299:./libraries/drivers/src/at32f413_spi.c **** {
 640              		.loc 1 299 1 is_stmt 1 view -0
 641              		.cfi_startproc
 642              		@ args = 0, pretend = 0, frame = 0
 643              		@ frame_needed = 0, uses_anonymous_args = 0
 644              		@ link register save eliminated.
 300:./libraries/drivers/src/at32f413_spi.c ****   i2s_init_struct->operation_mode = I2S_MODE_SLAVE_TX;
 645              		.loc 1 300 3 view .LVU157
 646              		.loc 1 300 35 is_stmt 0 view .LVU158
 647 0000 0023     		movs	r3, #0
 648 0002 0370     		strb	r3, [r0]
 301:./libraries/drivers/src/at32f413_spi.c ****   i2s_init_struct->audio_protocol = I2S_AUDIO_PROTOCOL_PHILLIPS;
 649              		.loc 1 301 3 is_stmt 1 view .LVU159
 650              		.loc 1 301 35 is_stmt 0 view .LVU160
 651 0004 4370     		strb	r3, [r0, #1]
 302:./libraries/drivers/src/at32f413_spi.c ****   i2s_init_struct->audio_sampling_freq = I2S_AUDIO_FREQUENCY_DEFAULT;
 652              		.loc 1 302 3 is_stmt 1 view .LVU161
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 18


 653              		.loc 1 302 40 is_stmt 0 view .LVU162
 654 0006 0222     		movs	r2, #2
 655 0008 4260     		str	r2, [r0, #4]
 303:./libraries/drivers/src/at32f413_spi.c ****   i2s_init_struct->data_channel_format = I2S_DATA_16BIT_CHANNEL_16BIT;
 656              		.loc 1 303 3 is_stmt 1 view .LVU163
 657              		.loc 1 303 40 is_stmt 0 view .LVU164
 658 000a 0122     		movs	r2, #1
 659 000c 0272     		strb	r2, [r0, #8]
 304:./libraries/drivers/src/at32f413_spi.c ****   i2s_init_struct->clock_polarity = I2S_CLOCK_POLARITY_LOW;
 660              		.loc 1 304 3 is_stmt 1 view .LVU165
 661              		.loc 1 304 35 is_stmt 0 view .LVU166
 662 000e 4372     		strb	r3, [r0, #9]
 305:./libraries/drivers/src/at32f413_spi.c ****   i2s_init_struct->mclk_output_enable = FALSE;
 663              		.loc 1 305 3 is_stmt 1 view .LVU167
 664              		.loc 1 305 39 is_stmt 0 view .LVU168
 665 0010 8372     		strb	r3, [r0, #10]
 306:./libraries/drivers/src/at32f413_spi.c **** }
 666              		.loc 1 306 1 view .LVU169
 667 0012 7047     		bx	lr
 668              		.cfi_endproc
 669              	.LFE146:
 671              		.section	.text.i2s_init,"ax",%progbits
 672              		.align	1
 673              		.global	i2s_init
 674              		.syntax unified
 675              		.thumb
 676              		.thumb_func
 677              		.fpu fpv4-sp-d16
 679              	i2s_init:
 680              	.LVL28:
 681              	.LFB147:
 307:./libraries/drivers/src/at32f413_spi.c **** 
 308:./libraries/drivers/src/at32f413_spi.c **** /**
 309:./libraries/drivers/src/at32f413_spi.c ****   * @brief  i2s init config with its setting value.
 310:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_x: select the spi peripheral.
 311:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
 312:./libraries/drivers/src/at32f413_spi.c ****   *         SPI1, SPI2
 313:./libraries/drivers/src/at32f413_spi.c ****   * @param  i2s_init_struct : pointer to a i2s_init_type structure which will be initialized.
 314:./libraries/drivers/src/at32f413_spi.c ****   * @retval none
 315:./libraries/drivers/src/at32f413_spi.c ****   */
 316:./libraries/drivers/src/at32f413_spi.c **** void i2s_init(spi_type* spi_x, i2s_init_type* i2s_init_struct)
 317:./libraries/drivers/src/at32f413_spi.c **** {
 682              		.loc 1 317 1 is_stmt 1 view -0
 683              		.cfi_startproc
 684              		@ args = 0, pretend = 0, frame = 24
 685              		@ frame_needed = 0, uses_anonymous_args = 0
 686              		.loc 1 317 1 is_stmt 0 view .LVU171
 687 0000 30B5     		push	{r4, r5, lr}
 688              	.LCFI1:
 689              		.cfi_def_cfa_offset 12
 690              		.cfi_offset 4, -12
 691              		.cfi_offset 5, -8
 692              		.cfi_offset 14, -4
 693 0002 87B0     		sub	sp, sp, #28
 694              	.LCFI2:
 695              		.cfi_def_cfa_offset 40
 696 0004 0446     		mov	r4, r0
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 19


 697 0006 0D46     		mov	r5, r1
 318:./libraries/drivers/src/at32f413_spi.c ****   crm_clocks_freq_type clocks_freq;
 698              		.loc 1 318 3 is_stmt 1 view .LVU172
 319:./libraries/drivers/src/at32f413_spi.c ****   uint32_t i2s_sclk_index = 0;
 699              		.loc 1 319 3 view .LVU173
 700              	.LVL29:
 320:./libraries/drivers/src/at32f413_spi.c ****   uint32_t i2sdiv_index = 2, i2sodd_index = 0, frequency_index = 0;
 701              		.loc 1 320 3 view .LVU174
 321:./libraries/drivers/src/at32f413_spi.c **** 
 322:./libraries/drivers/src/at32f413_spi.c ****   /* i2s audio frequency config */
 323:./libraries/drivers/src/at32f413_spi.c ****   if(i2s_init_struct->audio_sampling_freq == I2S_AUDIO_FREQUENCY_DEFAULT)
 702              		.loc 1 323 3 view .LVU175
 703              		.loc 1 323 21 is_stmt 0 view .LVU176
 704 0008 4B68     		ldr	r3, [r1, #4]
 705              		.loc 1 323 5 view .LVU177
 706 000a 022B     		cmp	r3, #2
 707 000c 37D1     		bne	.L58
 320:./libraries/drivers/src/at32f413_spi.c ****   uint32_t i2sdiv_index = 2, i2sodd_index = 0, frequency_index = 0;
 708              		.loc 1 320 48 view .LVU178
 709 000e 0023     		movs	r3, #0
 710              	.LVL30:
 711              	.L37:
 324:./libraries/drivers/src/at32f413_spi.c ****   {
 325:./libraries/drivers/src/at32f413_spi.c ****     i2sodd_index = 0;
 326:./libraries/drivers/src/at32f413_spi.c ****     i2sdiv_index = 2;
 327:./libraries/drivers/src/at32f413_spi.c ****   }
 328:./libraries/drivers/src/at32f413_spi.c ****   else
 329:./libraries/drivers/src/at32f413_spi.c ****   {
 330:./libraries/drivers/src/at32f413_spi.c ****     crm_clocks_freq_get(&clocks_freq);
 331:./libraries/drivers/src/at32f413_spi.c ****     i2s_sclk_index = clocks_freq.sclk_freq;
 332:./libraries/drivers/src/at32f413_spi.c ****     if((i2s_init_struct->audio_protocol == I2S_AUDIO_PROTOCOL_PCM_SHORT) || (i2s_init_struct->audio
 333:./libraries/drivers/src/at32f413_spi.c ****     {
 334:./libraries/drivers/src/at32f413_spi.c ****       if(i2s_init_struct->mclk_output_enable == TRUE)
 335:./libraries/drivers/src/at32f413_spi.c ****       {
 336:./libraries/drivers/src/at32f413_spi.c ****         frequency_index = (((i2s_sclk_index / 128) * 10) / i2s_init_struct->audio_sampling_freq) + 
 337:./libraries/drivers/src/at32f413_spi.c ****       }
 338:./libraries/drivers/src/at32f413_spi.c ****       else
 339:./libraries/drivers/src/at32f413_spi.c ****       {
 340:./libraries/drivers/src/at32f413_spi.c ****         if(i2s_init_struct->data_channel_format == I2S_DATA_16BIT_CHANNEL_16BIT)
 341:./libraries/drivers/src/at32f413_spi.c ****           frequency_index = (((i2s_sclk_index / 16) * 10) / i2s_init_struct->audio_sampling_freq) +
 342:./libraries/drivers/src/at32f413_spi.c ****         else
 343:./libraries/drivers/src/at32f413_spi.c ****           frequency_index = (((i2s_sclk_index / 32) * 10) / i2s_init_struct->audio_sampling_freq) +
 344:./libraries/drivers/src/at32f413_spi.c ****       }
 345:./libraries/drivers/src/at32f413_spi.c ****     }
 346:./libraries/drivers/src/at32f413_spi.c ****     else
 347:./libraries/drivers/src/at32f413_spi.c ****     {
 348:./libraries/drivers/src/at32f413_spi.c ****       if(i2s_init_struct->mclk_output_enable == TRUE)
 349:./libraries/drivers/src/at32f413_spi.c ****       {
 350:./libraries/drivers/src/at32f413_spi.c ****         frequency_index = (((i2s_sclk_index / 256) * 10) / i2s_init_struct->audio_sampling_freq) + 
 351:./libraries/drivers/src/at32f413_spi.c ****       }
 352:./libraries/drivers/src/at32f413_spi.c ****       else
 353:./libraries/drivers/src/at32f413_spi.c ****       {
 354:./libraries/drivers/src/at32f413_spi.c ****         if(i2s_init_struct->data_channel_format == I2S_DATA_16BIT_CHANNEL_16BIT)
 355:./libraries/drivers/src/at32f413_spi.c ****           frequency_index = (((i2s_sclk_index / 32) * 10) / i2s_init_struct->audio_sampling_freq) +
 356:./libraries/drivers/src/at32f413_spi.c ****         else
 357:./libraries/drivers/src/at32f413_spi.c ****           frequency_index = (((i2s_sclk_index / 64) * 10) / i2s_init_struct->audio_sampling_freq) +
 358:./libraries/drivers/src/at32f413_spi.c ****       }
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 20


 359:./libraries/drivers/src/at32f413_spi.c ****     }
 360:./libraries/drivers/src/at32f413_spi.c ****   }
 361:./libraries/drivers/src/at32f413_spi.c ****   frequency_index = frequency_index / 10;
 712              		.loc 1 361 3 is_stmt 1 view .LVU179
 713              		.loc 1 361 19 is_stmt 0 view .LVU180
 714 0010 794A     		ldr	r2, .L71
 715 0012 A2FB0323 		umull	r2, r3, r2, r3
 716              	.LVL31:
 362:./libraries/drivers/src/at32f413_spi.c ****   i2sodd_index = frequency_index & (uint16_t)0x0001;
 717              		.loc 1 362 3 is_stmt 1 view .LVU181
 718              		.loc 1 362 16 is_stmt 0 view .LVU182
 719 0016 C3F3C002 		ubfx	r2, r3, #3, #1
 720              	.LVL32:
 363:./libraries/drivers/src/at32f413_spi.c ****   i2sdiv_index = (frequency_index - i2sodd_index) / 2;
 721              		.loc 1 363 3 is_stmt 1 view .LVU183
 722              		.loc 1 363 35 is_stmt 0 view .LVU184
 723 001a C2EBD303 		rsb	r3, r2, r3, lsr #3
 724              	.LVL33:
 725              		.loc 1 363 16 view .LVU185
 726 001e 5B08     		lsrs	r3, r3, #1
 727              	.LVL34:
 364:./libraries/drivers/src/at32f413_spi.c ****   if((i2sdiv_index < 2) || (i2sdiv_index > 0x03FF))
 728              		.loc 1 364 3 is_stmt 1 view .LVU186
 729              		.loc 1 364 25 is_stmt 0 view .LVU187
 730 0020 981E     		subs	r0, r3, #2
 731              		.loc 1 364 5 view .LVU188
 732 0022 40F2FD31 		movw	r1, #1021
 733 0026 8842     		cmp	r0, r1
 734 0028 01D9     		bls	.L43
 365:./libraries/drivers/src/at32f413_spi.c ****   {
 366:./libraries/drivers/src/at32f413_spi.c ****     i2sodd_index = 0;
 735              		.loc 1 366 18 view .LVU189
 736 002a 0022     		movs	r2, #0
 737              	.LVL35:
 367:./libraries/drivers/src/at32f413_spi.c ****     i2sdiv_index = 2;
 738              		.loc 1 367 18 view .LVU190
 739 002c 0223     		movs	r3, #2
 740              	.LVL36:
 741              	.L43:
 368:./libraries/drivers/src/at32f413_spi.c ****   }
 369:./libraries/drivers/src/at32f413_spi.c ****   spi_x->i2sclk_bit.i2sodd = i2sodd_index;
 742              		.loc 1 369 3 is_stmt 1 view .LVU191
 743              		.loc 1 369 28 is_stmt 0 view .LVU192
 744 002e 216A     		ldr	r1, [r4, #32]
 745 0030 62F30821 		bfi	r1, r2, #8, #1
 746 0034 2162     		str	r1, [r4, #32]
 370:./libraries/drivers/src/at32f413_spi.c ****   if(i2sdiv_index > 0x00FF)
 747              		.loc 1 370 3 is_stmt 1 view .LVU193
 748              		.loc 1 370 5 is_stmt 0 view .LVU194
 749 0036 FF2B     		cmp	r3, #255
 750 0038 6CD9     		bls	.L44
 371:./libraries/drivers/src/at32f413_spi.c ****   {
 372:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sclk_bit.i2sdiv_h = (i2sdiv_index >> 8) & 0x0003;
 751              		.loc 1 372 5 is_stmt 1 view .LVU195
 752              		.loc 1 372 54 is_stmt 0 view .LVU196
 753 003a C3F30121 		ubfx	r1, r3, #8, #2
 754              		.loc 1 372 32 view .LVU197
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 21


 755 003e 226A     		ldr	r2, [r4, #32]
 756              	.LVL37:
 757              		.loc 1 372 32 view .LVU198
 758 0040 61F38B22 		bfi	r2, r1, #10, #2
 759 0044 2262     		str	r2, [r4, #32]
 373:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sclk_bit.i2sdiv_l = i2sdiv_index & 0x00FF;
 760              		.loc 1 373 5 is_stmt 1 view .LVU199
 761              		.loc 1 373 32 is_stmt 0 view .LVU200
 762 0046 DBB2     		uxtb	r3, r3
 763              	.LVL38:
 764              		.loc 1 373 32 view .LVU201
 765 0048 226A     		ldr	r2, [r4, #32]
 766 004a 63F30702 		bfi	r2, r3, #0, #8
 767 004e 2262     		str	r2, [r4, #32]
 768              	.L45:
 374:./libraries/drivers/src/at32f413_spi.c ****   }
 375:./libraries/drivers/src/at32f413_spi.c ****   else
 376:./libraries/drivers/src/at32f413_spi.c ****   {
 377:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sclk_bit.i2sdiv_h = 0;
 378:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sclk_bit.i2sdiv_l = i2sdiv_index;
 379:./libraries/drivers/src/at32f413_spi.c ****   }
 380:./libraries/drivers/src/at32f413_spi.c **** 
 381:./libraries/drivers/src/at32f413_spi.c ****   /* i2s audio_protocol set*/
 382:./libraries/drivers/src/at32f413_spi.c ****   if(i2s_init_struct->audio_protocol == I2S_AUDIO_PROTOCOL_PCM_LONG)
 769              		.loc 1 382 3 is_stmt 1 view .LVU202
 770              		.loc 1 382 21 is_stmt 0 view .LVU203
 771 0050 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 772              		.loc 1 382 5 view .LVU204
 773 0052 042B     		cmp	r3, #4
 774 0054 68D0     		beq	.L59
 383:./libraries/drivers/src/at32f413_spi.c ****   {
 384:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.pcmfssel = 1;
 385:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.stdsel = 3;
 386:./libraries/drivers/src/at32f413_spi.c ****   }
 387:./libraries/drivers/src/at32f413_spi.c ****   else if(i2s_init_struct->audio_protocol == I2S_AUDIO_PROTOCOL_PCM_SHORT)
 775              		.loc 1 387 8 is_stmt 1 view .LVU205
 776              		.loc 1 387 10 is_stmt 0 view .LVU206
 777 0056 032B     		cmp	r3, #3
 778 0058 00F08180 		beq	.L60
 388:./libraries/drivers/src/at32f413_spi.c ****   {
 389:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.pcmfssel = 0;
 390:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.stdsel = 3;
 391:./libraries/drivers/src/at32f413_spi.c ****   }
 392:./libraries/drivers/src/at32f413_spi.c ****   else if(i2s_init_struct->audio_protocol == I2S_AUDIO_PROTOCOL_LSB)
 779              		.loc 1 392 8 is_stmt 1 view .LVU207
 780              		.loc 1 392 10 is_stmt 0 view .LVU208
 781 005c 022B     		cmp	r3, #2
 782 005e 00F08780 		beq	.L61
 393:./libraries/drivers/src/at32f413_spi.c ****   {
 394:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.pcmfssel = 0;
 395:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.stdsel = 2;
 396:./libraries/drivers/src/at32f413_spi.c ****   }
 397:./libraries/drivers/src/at32f413_spi.c ****   else if(i2s_init_struct->audio_protocol == I2S_AUDIO_PROTOCOL_MSB)
 783              		.loc 1 397 8 is_stmt 1 view .LVU209
 784              		.loc 1 397 10 is_stmt 0 view .LVU210
 785 0062 012B     		cmp	r3, #1
 786 0064 00F08E80 		beq	.L62
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 22


 398:./libraries/drivers/src/at32f413_spi.c ****   {
 399:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.pcmfssel = 0;
 400:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.stdsel = 1;
 401:./libraries/drivers/src/at32f413_spi.c ****   }
 402:./libraries/drivers/src/at32f413_spi.c ****   else if(i2s_init_struct->audio_protocol == I2S_AUDIO_PROTOCOL_PHILLIPS)
 787              		.loc 1 402 8 is_stmt 1 view .LVU211
 788              		.loc 1 402 10 is_stmt 0 view .LVU212
 789 0068 002B     		cmp	r3, #0
 790 006a 65D1     		bne	.L47
 403:./libraries/drivers/src/at32f413_spi.c ****   {
 404:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.pcmfssel = 0;
 791              		.loc 1 404 5 is_stmt 1 view .LVU213
 792              		.loc 1 404 33 is_stmt 0 view .LVU214
 793 006c E369     		ldr	r3, [r4, #28]
 794 006e 6FF3C713 		bfc	r3, #7, #1
 795 0072 E361     		str	r3, [r4, #28]
 405:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.stdsel = 0;
 796              		.loc 1 405 5 is_stmt 1 view .LVU215
 797              		.loc 1 405 31 is_stmt 0 view .LVU216
 798 0074 E369     		ldr	r3, [r4, #28]
 799 0076 6FF30513 		bfc	r3, #4, #2
 800 007a E361     		str	r3, [r4, #28]
 801 007c 5CE0     		b	.L47
 802              	.LVL39:
 803              	.L58:
 330:./libraries/drivers/src/at32f413_spi.c ****     i2s_sclk_index = clocks_freq.sclk_freq;
 804              		.loc 1 330 5 is_stmt 1 view .LVU217
 805 007e 01A8     		add	r0, sp, #4
 806              	.LVL40:
 330:./libraries/drivers/src/at32f413_spi.c ****     i2s_sclk_index = clocks_freq.sclk_freq;
 807              		.loc 1 330 5 is_stmt 0 view .LVU218
 808 0080 FFF7FEFF 		bl	crm_clocks_freq_get
 809              	.LVL41:
 331:./libraries/drivers/src/at32f413_spi.c ****     if((i2s_init_struct->audio_protocol == I2S_AUDIO_PROTOCOL_PCM_SHORT) || (i2s_init_struct->audio
 810              		.loc 1 331 5 is_stmt 1 view .LVU219
 331:./libraries/drivers/src/at32f413_spi.c ****     if((i2s_init_struct->audio_protocol == I2S_AUDIO_PROTOCOL_PCM_SHORT) || (i2s_init_struct->audio
 811              		.loc 1 331 20 is_stmt 0 view .LVU220
 812 0084 019B     		ldr	r3, [sp, #4]
 813              	.LVL42:
 332:./libraries/drivers/src/at32f413_spi.c ****     {
 814              		.loc 1 332 5 is_stmt 1 view .LVU221
 332:./libraries/drivers/src/at32f413_spi.c ****     {
 815              		.loc 1 332 24 is_stmt 0 view .LVU222
 816 0086 6A78     		ldrb	r2, [r5, #1]	@ zero_extendqisi2
 332:./libraries/drivers/src/at32f413_spi.c ****     {
 817              		.loc 1 332 74 view .LVU223
 818 0088 033A     		subs	r2, r2, #3
 819 008a D2B2     		uxtb	r2, r2
 332:./libraries/drivers/src/at32f413_spi.c ****     {
 820              		.loc 1 332 7 view .LVU224
 821 008c 012A     		cmp	r2, #1
 822 008e 0ED9     		bls	.L63
 348:./libraries/drivers/src/at32f413_spi.c ****       {
 823              		.loc 1 348 7 is_stmt 1 view .LVU225
 348:./libraries/drivers/src/at32f413_spi.c ****       {
 824              		.loc 1 348 25 is_stmt 0 view .LVU226
 825 0090 AA7A     		ldrb	r2, [r5, #10]	@ zero_extendqisi2
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 23


 348:./libraries/drivers/src/at32f413_spi.c ****       {
 826              		.loc 1 348 9 view .LVU227
 827 0092 012A     		cmp	r2, #1
 828 0094 2CD0     		beq	.L64
 354:./libraries/drivers/src/at32f413_spi.c ****           frequency_index = (((i2s_sclk_index / 32) * 10) / i2s_init_struct->audio_sampling_freq) +
 829              		.loc 1 354 9 is_stmt 1 view .LVU228
 354:./libraries/drivers/src/at32f413_spi.c ****           frequency_index = (((i2s_sclk_index / 32) * 10) / i2s_init_struct->audio_sampling_freq) +
 830              		.loc 1 354 27 is_stmt 0 view .LVU229
 831 0096 2A7A     		ldrb	r2, [r5, #8]	@ zero_extendqisi2
 354:./libraries/drivers/src/at32f413_spi.c ****           frequency_index = (((i2s_sclk_index / 32) * 10) / i2s_init_struct->audio_sampling_freq) +
 832              		.loc 1 354 11 view .LVU230
 833 0098 012A     		cmp	r2, #1
 834 009a 32D0     		beq	.L65
 357:./libraries/drivers/src/at32f413_spi.c ****       }
 835              		.loc 1 357 11 is_stmt 1 view .LVU231
 357:./libraries/drivers/src/at32f413_spi.c ****       }
 836              		.loc 1 357 47 is_stmt 0 view .LVU232
 837 009c 9B09     		lsrs	r3, r3, #6
 838              	.LVL43:
 357:./libraries/drivers/src/at32f413_spi.c ****       }
 839              		.loc 1 357 53 view .LVU233
 840 009e 03EB8303 		add	r3, r3, r3, lsl #2
 841 00a2 5B00     		lsls	r3, r3, #1
 357:./libraries/drivers/src/at32f413_spi.c ****       }
 842              		.loc 1 357 76 view .LVU234
 843 00a4 6A68     		ldr	r2, [r5, #4]
 357:./libraries/drivers/src/at32f413_spi.c ****       }
 844              		.loc 1 357 59 view .LVU235
 845 00a6 B3FBF2F3 		udiv	r3, r3, r2
 357:./libraries/drivers/src/at32f413_spi.c ****       }
 846              		.loc 1 357 27 view .LVU236
 847 00aa 0533     		adds	r3, r3, #5
 848              	.LVL44:
 357:./libraries/drivers/src/at32f413_spi.c ****       }
 849              		.loc 1 357 27 view .LVU237
 850 00ac B0E7     		b	.L37
 851              	.LVL45:
 852              	.L63:
 334:./libraries/drivers/src/at32f413_spi.c ****       {
 853              		.loc 1 334 7 is_stmt 1 view .LVU238
 334:./libraries/drivers/src/at32f413_spi.c ****       {
 854              		.loc 1 334 25 is_stmt 0 view .LVU239
 855 00ae AA7A     		ldrb	r2, [r5, #10]	@ zero_extendqisi2
 334:./libraries/drivers/src/at32f413_spi.c ****       {
 856              		.loc 1 334 9 view .LVU240
 857 00b0 012A     		cmp	r2, #1
 858 00b2 0BD0     		beq	.L66
 340:./libraries/drivers/src/at32f413_spi.c ****           frequency_index = (((i2s_sclk_index / 16) * 10) / i2s_init_struct->audio_sampling_freq) +
 859              		.loc 1 340 9 is_stmt 1 view .LVU241
 340:./libraries/drivers/src/at32f413_spi.c ****           frequency_index = (((i2s_sclk_index / 16) * 10) / i2s_init_struct->audio_sampling_freq) +
 860              		.loc 1 340 27 is_stmt 0 view .LVU242
 861 00b4 2A7A     		ldrb	r2, [r5, #8]	@ zero_extendqisi2
 340:./libraries/drivers/src/at32f413_spi.c ****           frequency_index = (((i2s_sclk_index / 16) * 10) / i2s_init_struct->audio_sampling_freq) +
 862              		.loc 1 340 11 view .LVU243
 863 00b6 012A     		cmp	r2, #1
 864 00b8 11D0     		beq	.L67
 343:./libraries/drivers/src/at32f413_spi.c ****       }
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 24


 865              		.loc 1 343 11 is_stmt 1 view .LVU244
 343:./libraries/drivers/src/at32f413_spi.c ****       }
 866              		.loc 1 343 47 is_stmt 0 view .LVU245
 867 00ba 5B09     		lsrs	r3, r3, #5
 868              	.LVL46:
 343:./libraries/drivers/src/at32f413_spi.c ****       }
 869              		.loc 1 343 53 view .LVU246
 870 00bc 03EB8303 		add	r3, r3, r3, lsl #2
 871 00c0 5B00     		lsls	r3, r3, #1
 343:./libraries/drivers/src/at32f413_spi.c ****       }
 872              		.loc 1 343 76 view .LVU247
 873 00c2 6A68     		ldr	r2, [r5, #4]
 343:./libraries/drivers/src/at32f413_spi.c ****       }
 874              		.loc 1 343 59 view .LVU248
 875 00c4 B3FBF2F3 		udiv	r3, r3, r2
 343:./libraries/drivers/src/at32f413_spi.c ****       }
 876              		.loc 1 343 27 view .LVU249
 877 00c8 0533     		adds	r3, r3, #5
 878              	.LVL47:
 343:./libraries/drivers/src/at32f413_spi.c ****       }
 879              		.loc 1 343 27 view .LVU250
 880 00ca A1E7     		b	.L37
 881              	.LVL48:
 882              	.L66:
 336:./libraries/drivers/src/at32f413_spi.c ****       }
 883              		.loc 1 336 9 is_stmt 1 view .LVU251
 336:./libraries/drivers/src/at32f413_spi.c ****       }
 884              		.loc 1 336 45 is_stmt 0 view .LVU252
 885 00cc DB09     		lsrs	r3, r3, #7
 886              	.LVL49:
 336:./libraries/drivers/src/at32f413_spi.c ****       }
 887              		.loc 1 336 52 view .LVU253
 888 00ce 03EB8303 		add	r3, r3, r3, lsl #2
 889 00d2 5B00     		lsls	r3, r3, #1
 336:./libraries/drivers/src/at32f413_spi.c ****       }
 890              		.loc 1 336 75 view .LVU254
 891 00d4 6A68     		ldr	r2, [r5, #4]
 336:./libraries/drivers/src/at32f413_spi.c ****       }
 892              		.loc 1 336 58 view .LVU255
 893 00d6 B3FBF2F3 		udiv	r3, r3, r2
 336:./libraries/drivers/src/at32f413_spi.c ****       }
 894              		.loc 1 336 25 view .LVU256
 895 00da 0533     		adds	r3, r3, #5
 896              	.LVL50:
 336:./libraries/drivers/src/at32f413_spi.c ****       }
 897              		.loc 1 336 25 view .LVU257
 898 00dc 98E7     		b	.L37
 899              	.LVL51:
 900              	.L67:
 341:./libraries/drivers/src/at32f413_spi.c ****         else
 901              		.loc 1 341 11 is_stmt 1 view .LVU258
 341:./libraries/drivers/src/at32f413_spi.c ****         else
 902              		.loc 1 341 47 is_stmt 0 view .LVU259
 903 00de 1B09     		lsrs	r3, r3, #4
 904              	.LVL52:
 341:./libraries/drivers/src/at32f413_spi.c ****         else
 905              		.loc 1 341 53 view .LVU260
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 25


 906 00e0 03EB8303 		add	r3, r3, r3, lsl #2
 907 00e4 5B00     		lsls	r3, r3, #1
 341:./libraries/drivers/src/at32f413_spi.c ****         else
 908              		.loc 1 341 76 view .LVU261
 909 00e6 6A68     		ldr	r2, [r5, #4]
 341:./libraries/drivers/src/at32f413_spi.c ****         else
 910              		.loc 1 341 59 view .LVU262
 911 00e8 B3FBF2F3 		udiv	r3, r3, r2
 341:./libraries/drivers/src/at32f413_spi.c ****         else
 912              		.loc 1 341 27 view .LVU263
 913 00ec 0533     		adds	r3, r3, #5
 914              	.LVL53:
 341:./libraries/drivers/src/at32f413_spi.c ****         else
 915              		.loc 1 341 27 view .LVU264
 916 00ee 8FE7     		b	.L37
 917              	.LVL54:
 918              	.L64:
 350:./libraries/drivers/src/at32f413_spi.c ****       }
 919              		.loc 1 350 9 is_stmt 1 view .LVU265
 350:./libraries/drivers/src/at32f413_spi.c ****       }
 920              		.loc 1 350 45 is_stmt 0 view .LVU266
 921 00f0 1B0A     		lsrs	r3, r3, #8
 922              	.LVL55:
 350:./libraries/drivers/src/at32f413_spi.c ****       }
 923              		.loc 1 350 52 view .LVU267
 924 00f2 03EB8303 		add	r3, r3, r3, lsl #2
 925 00f6 5B00     		lsls	r3, r3, #1
 350:./libraries/drivers/src/at32f413_spi.c ****       }
 926              		.loc 1 350 75 view .LVU268
 927 00f8 6A68     		ldr	r2, [r5, #4]
 350:./libraries/drivers/src/at32f413_spi.c ****       }
 928              		.loc 1 350 58 view .LVU269
 929 00fa B3FBF2F3 		udiv	r3, r3, r2
 350:./libraries/drivers/src/at32f413_spi.c ****       }
 930              		.loc 1 350 25 view .LVU270
 931 00fe 0533     		adds	r3, r3, #5
 932              	.LVL56:
 350:./libraries/drivers/src/at32f413_spi.c ****       }
 933              		.loc 1 350 25 view .LVU271
 934 0100 86E7     		b	.L37
 935              	.LVL57:
 936              	.L65:
 355:./libraries/drivers/src/at32f413_spi.c ****         else
 937              		.loc 1 355 11 is_stmt 1 view .LVU272
 355:./libraries/drivers/src/at32f413_spi.c ****         else
 938              		.loc 1 355 47 is_stmt 0 view .LVU273
 939 0102 5B09     		lsrs	r3, r3, #5
 940              	.LVL58:
 355:./libraries/drivers/src/at32f413_spi.c ****         else
 941              		.loc 1 355 53 view .LVU274
 942 0104 03EB8303 		add	r3, r3, r3, lsl #2
 943 0108 5B00     		lsls	r3, r3, #1
 355:./libraries/drivers/src/at32f413_spi.c ****         else
 944              		.loc 1 355 76 view .LVU275
 945 010a 6A68     		ldr	r2, [r5, #4]
 355:./libraries/drivers/src/at32f413_spi.c ****         else
 946              		.loc 1 355 59 view .LVU276
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 26


 947 010c B3FBF2F3 		udiv	r3, r3, r2
 355:./libraries/drivers/src/at32f413_spi.c ****         else
 948              		.loc 1 355 27 view .LVU277
 949 0110 0533     		adds	r3, r3, #5
 950              	.LVL59:
 355:./libraries/drivers/src/at32f413_spi.c ****         else
 951              		.loc 1 355 27 view .LVU278
 952 0112 7DE7     		b	.L37
 953              	.LVL60:
 954              	.L44:
 377:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sclk_bit.i2sdiv_l = i2sdiv_index;
 955              		.loc 1 377 5 is_stmt 1 view .LVU279
 377:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sclk_bit.i2sdiv_l = i2sdiv_index;
 956              		.loc 1 377 32 is_stmt 0 view .LVU280
 957 0114 226A     		ldr	r2, [r4, #32]
 958              	.LVL61:
 377:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sclk_bit.i2sdiv_l = i2sdiv_index;
 959              		.loc 1 377 32 view .LVU281
 960 0116 6FF38B22 		bfc	r2, #10, #2
 961 011a 2262     		str	r2, [r4, #32]
 378:./libraries/drivers/src/at32f413_spi.c ****   }
 962              		.loc 1 378 5 is_stmt 1 view .LVU282
 378:./libraries/drivers/src/at32f413_spi.c ****   }
 963              		.loc 1 378 32 is_stmt 0 view .LVU283
 964 011c DBB2     		uxtb	r3, r3
 965              	.LVL62:
 378:./libraries/drivers/src/at32f413_spi.c ****   }
 966              		.loc 1 378 32 view .LVU284
 967 011e 226A     		ldr	r2, [r4, #32]
 968 0120 63F30702 		bfi	r2, r3, #0, #8
 969 0124 2262     		str	r2, [r4, #32]
 970 0126 93E7     		b	.L45
 971              	.L59:
 384:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.stdsel = 3;
 972              		.loc 1 384 5 is_stmt 1 view .LVU285
 384:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.stdsel = 3;
 973              		.loc 1 384 33 is_stmt 0 view .LVU286
 974 0128 E369     		ldr	r3, [r4, #28]
 975 012a 43F08003 		orr	r3, r3, #128
 976 012e E361     		str	r3, [r4, #28]
 385:./libraries/drivers/src/at32f413_spi.c ****   }
 977              		.loc 1 385 5 is_stmt 1 view .LVU287
 385:./libraries/drivers/src/at32f413_spi.c ****   }
 978              		.loc 1 385 31 is_stmt 0 view .LVU288
 979 0130 E369     		ldr	r3, [r4, #28]
 980 0132 43F03003 		orr	r3, r3, #48
 981 0136 E361     		str	r3, [r4, #28]
 982              	.L47:
 406:./libraries/drivers/src/at32f413_spi.c ****   }
 407:./libraries/drivers/src/at32f413_spi.c **** 
 408:./libraries/drivers/src/at32f413_spi.c ****   /* i2s data_channel_format set*/
 409:./libraries/drivers/src/at32f413_spi.c ****   if(i2s_init_struct->data_channel_format == I2S_DATA_16BIT_CHANNEL_16BIT)
 983              		.loc 1 409 3 is_stmt 1 view .LVU289
 984              		.loc 1 409 21 is_stmt 0 view .LVU290
 985 0138 2B7A     		ldrb	r3, [r5, #8]	@ zero_extendqisi2
 986              		.loc 1 409 5 view .LVU291
 987 013a 012B     		cmp	r3, #1
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 27


 988 013c 2CD0     		beq	.L68
 410:./libraries/drivers/src/at32f413_spi.c ****   {
 411:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.i2scbn = 0;
 412:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.i2sdbn = 0;
 413:./libraries/drivers/src/at32f413_spi.c ****   }
 414:./libraries/drivers/src/at32f413_spi.c ****   else if(i2s_init_struct->data_channel_format == I2S_DATA_16BIT_CHANNEL_32BIT)
 989              		.loc 1 414 8 is_stmt 1 view .LVU292
 990              		.loc 1 414 10 is_stmt 0 view .LVU293
 991 013e 022B     		cmp	r3, #2
 992 0140 47D0     		beq	.L69
 415:./libraries/drivers/src/at32f413_spi.c ****   {
 416:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.i2scbn = 1;
 417:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.i2sdbn = 0;
 418:./libraries/drivers/src/at32f413_spi.c ****   }
 419:./libraries/drivers/src/at32f413_spi.c ****   else if(i2s_init_struct->data_channel_format == I2S_DATA_24BIT_CHANNEL_32BIT)
 993              		.loc 1 419 8 is_stmt 1 view .LVU294
 994              		.loc 1 419 10 is_stmt 0 view .LVU295
 995 0142 032B     		cmp	r3, #3
 996 0144 4ED0     		beq	.L70
 420:./libraries/drivers/src/at32f413_spi.c ****   {
 421:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.i2scbn = 1;
 422:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.i2sdbn = 1;
 423:./libraries/drivers/src/at32f413_spi.c ****   }
 424:./libraries/drivers/src/at32f413_spi.c ****   else if(i2s_init_struct->data_channel_format == I2S_DATA_32BIT_CHANNEL_32BIT)
 997              		.loc 1 424 8 is_stmt 1 view .LVU296
 998              		.loc 1 424 10 is_stmt 0 view .LVU297
 999 0146 042B     		cmp	r3, #4
 1000 0148 2ED1     		bne	.L52
 425:./libraries/drivers/src/at32f413_spi.c ****   {
 426:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.i2scbn = 1;
 1001              		.loc 1 426 5 is_stmt 1 view .LVU298
 1002              		.loc 1 426 31 is_stmt 0 view .LVU299
 1003 014a E369     		ldr	r3, [r4, #28]
 1004 014c 43F00103 		orr	r3, r3, #1
 1005 0150 E361     		str	r3, [r4, #28]
 427:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.i2sdbn = 2;
 1006              		.loc 1 427 5 is_stmt 1 view .LVU300
 1007              		.loc 1 427 31 is_stmt 0 view .LVU301
 1008 0152 E369     		ldr	r3, [r4, #28]
 1009 0154 0222     		movs	r2, #2
 1010 0156 62F34203 		bfi	r3, r2, #1, #2
 1011 015a E361     		str	r3, [r4, #28]
 1012 015c 24E0     		b	.L52
 1013              	.L60:
 389:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.stdsel = 3;
 1014              		.loc 1 389 5 is_stmt 1 view .LVU302
 389:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.stdsel = 3;
 1015              		.loc 1 389 33 is_stmt 0 view .LVU303
 1016 015e E369     		ldr	r3, [r4, #28]
 1017 0160 6FF3C713 		bfc	r3, #7, #1
 1018 0164 E361     		str	r3, [r4, #28]
 390:./libraries/drivers/src/at32f413_spi.c ****   }
 1019              		.loc 1 390 5 is_stmt 1 view .LVU304
 390:./libraries/drivers/src/at32f413_spi.c ****   }
 1020              		.loc 1 390 31 is_stmt 0 view .LVU305
 1021 0166 E369     		ldr	r3, [r4, #28]
 1022 0168 43F03003 		orr	r3, r3, #48
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 28


 1023 016c E361     		str	r3, [r4, #28]
 1024 016e E3E7     		b	.L47
 1025              	.L61:
 394:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.stdsel = 2;
 1026              		.loc 1 394 5 is_stmt 1 view .LVU306
 394:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.stdsel = 2;
 1027              		.loc 1 394 33 is_stmt 0 view .LVU307
 1028 0170 E369     		ldr	r3, [r4, #28]
 1029 0172 6FF3C713 		bfc	r3, #7, #1
 1030 0176 E361     		str	r3, [r4, #28]
 395:./libraries/drivers/src/at32f413_spi.c ****   }
 1031              		.loc 1 395 5 is_stmt 1 view .LVU308
 395:./libraries/drivers/src/at32f413_spi.c ****   }
 1032              		.loc 1 395 31 is_stmt 0 view .LVU309
 1033 0178 E369     		ldr	r3, [r4, #28]
 1034 017a 0222     		movs	r2, #2
 1035 017c 62F30513 		bfi	r3, r2, #4, #2
 1036 0180 E361     		str	r3, [r4, #28]
 1037 0182 D9E7     		b	.L47
 1038              	.L62:
 399:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.stdsel = 1;
 1039              		.loc 1 399 5 is_stmt 1 view .LVU310
 399:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.stdsel = 1;
 1040              		.loc 1 399 33 is_stmt 0 view .LVU311
 1041 0184 E369     		ldr	r3, [r4, #28]
 1042 0186 6FF3C713 		bfc	r3, #7, #1
 1043 018a E361     		str	r3, [r4, #28]
 400:./libraries/drivers/src/at32f413_spi.c ****   }
 1044              		.loc 1 400 5 is_stmt 1 view .LVU312
 400:./libraries/drivers/src/at32f413_spi.c ****   }
 1045              		.loc 1 400 31 is_stmt 0 view .LVU313
 1046 018c E369     		ldr	r3, [r4, #28]
 1047 018e 0122     		movs	r2, #1
 1048 0190 62F30513 		bfi	r3, r2, #4, #2
 1049 0194 E361     		str	r3, [r4, #28]
 1050 0196 CFE7     		b	.L47
 1051              	.L68:
 411:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.i2sdbn = 0;
 1052              		.loc 1 411 5 is_stmt 1 view .LVU314
 411:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.i2sdbn = 0;
 1053              		.loc 1 411 31 is_stmt 0 view .LVU315
 1054 0198 E369     		ldr	r3, [r4, #28]
 1055 019a 6FF30003 		bfc	r3, #0, #1
 1056 019e E361     		str	r3, [r4, #28]
 412:./libraries/drivers/src/at32f413_spi.c ****   }
 1057              		.loc 1 412 5 is_stmt 1 view .LVU316
 412:./libraries/drivers/src/at32f413_spi.c ****   }
 1058              		.loc 1 412 31 is_stmt 0 view .LVU317
 1059 01a0 E369     		ldr	r3, [r4, #28]
 1060 01a2 6FF34203 		bfc	r3, #1, #2
 1061 01a6 E361     		str	r3, [r4, #28]
 1062              	.L52:
 428:./libraries/drivers/src/at32f413_spi.c ****   }
 429:./libraries/drivers/src/at32f413_spi.c **** 
 430:./libraries/drivers/src/at32f413_spi.c ****   spi_x->i2sctrl_bit.i2sclkpol = i2s_init_struct->clock_polarity;
 1063              		.loc 1 430 3 is_stmt 1 view .LVU318
 1064              		.loc 1 430 49 is_stmt 0 view .LVU319
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 29


 1065 01a8 6A7A     		ldrb	r2, [r5, #9]	@ zero_extendqisi2
 1066              		.loc 1 430 32 view .LVU320
 1067 01aa E369     		ldr	r3, [r4, #28]
 1068 01ac 62F3C303 		bfi	r3, r2, #3, #1
 1069 01b0 E361     		str	r3, [r4, #28]
 431:./libraries/drivers/src/at32f413_spi.c ****   spi_x->i2sclk_bit.i2smclkoe = i2s_init_struct->mclk_output_enable;
 1070              		.loc 1 431 3 is_stmt 1 view .LVU321
 1071              		.loc 1 431 48 is_stmt 0 view .LVU322
 1072 01b2 AA7A     		ldrb	r2, [r5, #10]	@ zero_extendqisi2
 1073              		.loc 1 431 31 view .LVU323
 1074 01b4 236A     		ldr	r3, [r4, #32]
 1075 01b6 62F34923 		bfi	r3, r2, #9, #1
 1076 01ba 2362     		str	r3, [r4, #32]
 432:./libraries/drivers/src/at32f413_spi.c ****   spi_x->i2sctrl_bit.opersel = i2s_init_struct->operation_mode;
 1077              		.loc 1 432 3 is_stmt 1 view .LVU324
 1078              		.loc 1 432 47 is_stmt 0 view .LVU325
 1079 01bc 2A78     		ldrb	r2, [r5]	@ zero_extendqisi2
 1080              		.loc 1 432 30 view .LVU326
 1081 01be E369     		ldr	r3, [r4, #28]
 1082 01c0 62F30923 		bfi	r3, r2, #8, #2
 1083 01c4 E361     		str	r3, [r4, #28]
 433:./libraries/drivers/src/at32f413_spi.c ****   spi_x->i2sctrl_bit.i2smsel = TRUE;
 1084              		.loc 1 433 3 is_stmt 1 view .LVU327
 1085              		.loc 1 433 30 is_stmt 0 view .LVU328
 1086 01c6 E369     		ldr	r3, [r4, #28]
 1087 01c8 43F40063 		orr	r3, r3, #2048
 1088 01cc E361     		str	r3, [r4, #28]
 434:./libraries/drivers/src/at32f413_spi.c **** }
 1089              		.loc 1 434 1 view .LVU329
 1090 01ce 07B0     		add	sp, sp, #28
 1091              	.LCFI3:
 1092              		.cfi_remember_state
 1093              		.cfi_def_cfa_offset 12
 1094              		@ sp needed
 1095 01d0 30BD     		pop	{r4, r5, pc}
 1096              	.LVL63:
 1097              	.L69:
 1098              	.LCFI4:
 1099              		.cfi_restore_state
 416:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.i2sdbn = 0;
 1100              		.loc 1 416 5 is_stmt 1 view .LVU330
 416:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.i2sdbn = 0;
 1101              		.loc 1 416 31 is_stmt 0 view .LVU331
 1102 01d2 E369     		ldr	r3, [r4, #28]
 1103 01d4 43F00103 		orr	r3, r3, #1
 1104 01d8 E361     		str	r3, [r4, #28]
 417:./libraries/drivers/src/at32f413_spi.c ****   }
 1105              		.loc 1 417 5 is_stmt 1 view .LVU332
 417:./libraries/drivers/src/at32f413_spi.c ****   }
 1106              		.loc 1 417 31 is_stmt 0 view .LVU333
 1107 01da E369     		ldr	r3, [r4, #28]
 1108 01dc 6FF34203 		bfc	r3, #1, #2
 1109 01e0 E361     		str	r3, [r4, #28]
 1110 01e2 E1E7     		b	.L52
 1111              	.L70:
 421:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.i2sdbn = 1;
 1112              		.loc 1 421 5 is_stmt 1 view .LVU334
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 30


 421:./libraries/drivers/src/at32f413_spi.c ****     spi_x->i2sctrl_bit.i2sdbn = 1;
 1113              		.loc 1 421 31 is_stmt 0 view .LVU335
 1114 01e4 E369     		ldr	r3, [r4, #28]
 1115 01e6 43F00103 		orr	r3, r3, #1
 1116 01ea E361     		str	r3, [r4, #28]
 422:./libraries/drivers/src/at32f413_spi.c ****   }
 1117              		.loc 1 422 5 is_stmt 1 view .LVU336
 422:./libraries/drivers/src/at32f413_spi.c ****   }
 1118              		.loc 1 422 31 is_stmt 0 view .LVU337
 1119 01ec E369     		ldr	r3, [r4, #28]
 1120 01ee 0122     		movs	r2, #1
 1121 01f0 62F34203 		bfi	r3, r2, #1, #2
 1122 01f4 E361     		str	r3, [r4, #28]
 1123 01f6 D7E7     		b	.L52
 1124              	.L72:
 1125              		.align	2
 1126              	.L71:
 1127 01f8 CDCCCCCC 		.word	-858993459
 1128              		.cfi_endproc
 1129              	.LFE147:
 1131              		.section	.text.i2s_enable,"ax",%progbits
 1132              		.align	1
 1133              		.global	i2s_enable
 1134              		.syntax unified
 1135              		.thumb
 1136              		.thumb_func
 1137              		.fpu fpv4-sp-d16
 1139              	i2s_enable:
 1140              	.LVL64:
 1141              	.LFB148:
 435:./libraries/drivers/src/at32f413_spi.c **** 
 436:./libraries/drivers/src/at32f413_spi.c **** /**
 437:./libraries/drivers/src/at32f413_spi.c ****   * @brief  enable or disable i2s.
 438:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_x: select the i2s peripheral.
 439:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
 440:./libraries/drivers/src/at32f413_spi.c ****   *         SPI1, SPI2
 441:./libraries/drivers/src/at32f413_spi.c ****   * @param  new_state: new state of i2s.
 442:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be: TRUE or FALSE.
 443:./libraries/drivers/src/at32f413_spi.c ****   * @retval none
 444:./libraries/drivers/src/at32f413_spi.c ****   */
 445:./libraries/drivers/src/at32f413_spi.c **** void i2s_enable(spi_type* spi_x, confirm_state new_state)
 446:./libraries/drivers/src/at32f413_spi.c **** {
 1142              		.loc 1 446 1 is_stmt 1 view -0
 1143              		.cfi_startproc
 1144              		@ args = 0, pretend = 0, frame = 0
 1145              		@ frame_needed = 0, uses_anonymous_args = 0
 1146              		@ link register save eliminated.
 447:./libraries/drivers/src/at32f413_spi.c ****   spi_x->i2sctrl_bit.i2sen = new_state;
 1147              		.loc 1 447 3 view .LVU339
 1148              		.loc 1 447 28 is_stmt 0 view .LVU340
 1149 0000 C369     		ldr	r3, [r0, #28]
 1150 0002 61F38A23 		bfi	r3, r1, #10, #1
 1151 0006 C361     		str	r3, [r0, #28]
 448:./libraries/drivers/src/at32f413_spi.c **** }
 1152              		.loc 1 448 1 view .LVU341
 1153 0008 7047     		bx	lr
 1154              		.cfi_endproc
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 31


 1155              	.LFE148:
 1157              		.section	.text.spi_i2s_interrupt_enable,"ax",%progbits
 1158              		.align	1
 1159              		.global	spi_i2s_interrupt_enable
 1160              		.syntax unified
 1161              		.thumb
 1162              		.thumb_func
 1163              		.fpu fpv4-sp-d16
 1165              	spi_i2s_interrupt_enable:
 1166              	.LVL65:
 1167              	.LFB149:
 449:./libraries/drivers/src/at32f413_spi.c **** 
 450:./libraries/drivers/src/at32f413_spi.c **** /**
 451:./libraries/drivers/src/at32f413_spi.c ****   * @brief  enable or disable the specified spi/i2s interrupts.
 452:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_x: select the spi/i2s peripheral.
 453:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
 454:./libraries/drivers/src/at32f413_spi.c ****   *         SPI1, SPI2
 455:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_i2s_int: specifies the spi/i2s interrupt sources to be enabled or disabled.
 456:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
 457:./libraries/drivers/src/at32f413_spi.c ****   *         - SPI_I2S_ERROR_INT
 458:./libraries/drivers/src/at32f413_spi.c ****   *         - SPI_I2S_RDBF_INT
 459:./libraries/drivers/src/at32f413_spi.c ****   *         - SPI_I2S_TDBE_INT
 460:./libraries/drivers/src/at32f413_spi.c ****   * @param  new_state: new state of the specified spi/i2s interrupts.
 461:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be: TRUE or FALSE.
 462:./libraries/drivers/src/at32f413_spi.c ****   * @retval none
 463:./libraries/drivers/src/at32f413_spi.c ****   */
 464:./libraries/drivers/src/at32f413_spi.c **** void spi_i2s_interrupt_enable(spi_type* spi_x, uint32_t spi_i2s_int, confirm_state new_state)
 465:./libraries/drivers/src/at32f413_spi.c **** {
 1168              		.loc 1 465 1 is_stmt 1 view -0
 1169              		.cfi_startproc
 1170              		@ args = 0, pretend = 0, frame = 0
 1171              		@ frame_needed = 0, uses_anonymous_args = 0
 1172              		@ link register save eliminated.
 466:./libraries/drivers/src/at32f413_spi.c ****   if(new_state != FALSE)
 1173              		.loc 1 466 3 view .LVU343
 1174              		.loc 1 466 5 is_stmt 0 view .LVU344
 1175 0000 1AB1     		cbz	r2, .L75
 467:./libraries/drivers/src/at32f413_spi.c ****   {
 468:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl2 |= spi_i2s_int;
 1176              		.loc 1 468 5 is_stmt 1 view .LVU345
 1177              		.loc 1 468 18 is_stmt 0 view .LVU346
 1178 0002 4368     		ldr	r3, [r0, #4]
 1179 0004 1943     		orrs	r1, r1, r3
 1180              	.LVL66:
 1181              		.loc 1 468 18 view .LVU347
 1182 0006 4160     		str	r1, [r0, #4]
 1183 0008 7047     		bx	lr
 1184              	.LVL67:
 1185              	.L75:
 469:./libraries/drivers/src/at32f413_spi.c ****   }
 470:./libraries/drivers/src/at32f413_spi.c ****   else
 471:./libraries/drivers/src/at32f413_spi.c ****   {
 472:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl2 &= ~spi_i2s_int;
 1186              		.loc 1 472 5 is_stmt 1 view .LVU348
 1187              		.loc 1 472 18 is_stmt 0 view .LVU349
 1188 000a 4368     		ldr	r3, [r0, #4]
 1189 000c 23EA0101 		bic	r1, r3, r1
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 32


 1190              	.LVL68:
 1191              		.loc 1 472 18 view .LVU350
 1192 0010 4160     		str	r1, [r0, #4]
 473:./libraries/drivers/src/at32f413_spi.c ****   }
 474:./libraries/drivers/src/at32f413_spi.c **** }
 1193              		.loc 1 474 1 view .LVU351
 1194 0012 7047     		bx	lr
 1195              		.cfi_endproc
 1196              	.LFE149:
 1198              		.section	.text.spi_i2s_dma_transmitter_enable,"ax",%progbits
 1199              		.align	1
 1200              		.global	spi_i2s_dma_transmitter_enable
 1201              		.syntax unified
 1202              		.thumb
 1203              		.thumb_func
 1204              		.fpu fpv4-sp-d16
 1206              	spi_i2s_dma_transmitter_enable:
 1207              	.LVL69:
 1208              	.LFB150:
 475:./libraries/drivers/src/at32f413_spi.c **** 
 476:./libraries/drivers/src/at32f413_spi.c **** /**
 477:./libraries/drivers/src/at32f413_spi.c ****   * @brief  enable or disable the spi/i2s dma transmitter mode.
 478:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_x: select the spi/i2s peripheral.
 479:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
 480:./libraries/drivers/src/at32f413_spi.c ****   *         SPI1, SPI2
 481:./libraries/drivers/src/at32f413_spi.c ****   * @param  new_state: new state of the dma request.
 482:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be: TRUE or FALSE.
 483:./libraries/drivers/src/at32f413_spi.c ****   * @retval none
 484:./libraries/drivers/src/at32f413_spi.c ****   */
 485:./libraries/drivers/src/at32f413_spi.c **** void spi_i2s_dma_transmitter_enable(spi_type* spi_x, confirm_state new_state)
 486:./libraries/drivers/src/at32f413_spi.c **** {
 1209              		.loc 1 486 1 is_stmt 1 view -0
 1210              		.cfi_startproc
 1211              		@ args = 0, pretend = 0, frame = 0
 1212              		@ frame_needed = 0, uses_anonymous_args = 0
 1213              		@ link register save eliminated.
 487:./libraries/drivers/src/at32f413_spi.c ****   spi_x->ctrl2_bit.dmaten = new_state;
 1214              		.loc 1 487 3 view .LVU353
 1215              		.loc 1 487 27 is_stmt 0 view .LVU354
 1216 0000 4368     		ldr	r3, [r0, #4]
 1217 0002 61F34103 		bfi	r3, r1, #1, #1
 1218 0006 4360     		str	r3, [r0, #4]
 488:./libraries/drivers/src/at32f413_spi.c **** }
 1219              		.loc 1 488 1 view .LVU355
 1220 0008 7047     		bx	lr
 1221              		.cfi_endproc
 1222              	.LFE150:
 1224              		.section	.text.spi_i2s_dma_receiver_enable,"ax",%progbits
 1225              		.align	1
 1226              		.global	spi_i2s_dma_receiver_enable
 1227              		.syntax unified
 1228              		.thumb
 1229              		.thumb_func
 1230              		.fpu fpv4-sp-d16
 1232              	spi_i2s_dma_receiver_enable:
 1233              	.LVL70:
 1234              	.LFB151:
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 33


 489:./libraries/drivers/src/at32f413_spi.c **** 
 490:./libraries/drivers/src/at32f413_spi.c **** /**
 491:./libraries/drivers/src/at32f413_spi.c ****   * @brief  enable or disable the spi/i2s dma receiver mode.
 492:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_x: select the spi/i2s peripheral.
 493:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
 494:./libraries/drivers/src/at32f413_spi.c ****   *         SPI1, SPI2
 495:./libraries/drivers/src/at32f413_spi.c ****   * @param  new_state: new state of the dma request.
 496:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be: TRUE or FALSE.
 497:./libraries/drivers/src/at32f413_spi.c ****   * @retval none
 498:./libraries/drivers/src/at32f413_spi.c ****   */
 499:./libraries/drivers/src/at32f413_spi.c **** void spi_i2s_dma_receiver_enable(spi_type* spi_x, confirm_state new_state)
 500:./libraries/drivers/src/at32f413_spi.c **** {
 1235              		.loc 1 500 1 is_stmt 1 view -0
 1236              		.cfi_startproc
 1237              		@ args = 0, pretend = 0, frame = 0
 1238              		@ frame_needed = 0, uses_anonymous_args = 0
 1239              		@ link register save eliminated.
 501:./libraries/drivers/src/at32f413_spi.c ****   spi_x->ctrl2_bit.dmaren = new_state;
 1240              		.loc 1 501 3 view .LVU357
 1241              		.loc 1 501 27 is_stmt 0 view .LVU358
 1242 0000 4368     		ldr	r3, [r0, #4]
 1243 0002 61F30003 		bfi	r3, r1, #0, #1
 1244 0006 4360     		str	r3, [r0, #4]
 502:./libraries/drivers/src/at32f413_spi.c **** }
 1245              		.loc 1 502 1 view .LVU359
 1246 0008 7047     		bx	lr
 1247              		.cfi_endproc
 1248              	.LFE151:
 1250              		.section	.text.spi_i2s_data_transmit,"ax",%progbits
 1251              		.align	1
 1252              		.global	spi_i2s_data_transmit
 1253              		.syntax unified
 1254              		.thumb
 1255              		.thumb_func
 1256              		.fpu fpv4-sp-d16
 1258              	spi_i2s_data_transmit:
 1259              	.LVL71:
 1260              	.LFB152:
 503:./libraries/drivers/src/at32f413_spi.c **** 
 504:./libraries/drivers/src/at32f413_spi.c **** /**
 505:./libraries/drivers/src/at32f413_spi.c ****   * @brief  spi/i2s data transmit
 506:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_x: select the spi/i2s peripheral.
 507:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
 508:./libraries/drivers/src/at32f413_spi.c ****   *         SPI1, SPI2
 509:./libraries/drivers/src/at32f413_spi.c ****   * @param  tx_data: the data to be transmit.
 510:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be:
 511:./libraries/drivers/src/at32f413_spi.c ****   *         - (0x0000~0xFFFF)
 512:./libraries/drivers/src/at32f413_spi.c ****   * @retval none
 513:./libraries/drivers/src/at32f413_spi.c ****   */
 514:./libraries/drivers/src/at32f413_spi.c **** void spi_i2s_data_transmit(spi_type* spi_x, uint16_t tx_data)
 515:./libraries/drivers/src/at32f413_spi.c **** {
 1261              		.loc 1 515 1 is_stmt 1 view -0
 1262              		.cfi_startproc
 1263              		@ args = 0, pretend = 0, frame = 0
 1264              		@ frame_needed = 0, uses_anonymous_args = 0
 1265              		@ link register save eliminated.
 516:./libraries/drivers/src/at32f413_spi.c ****   spi_x->dt = tx_data;
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 34


 1266              		.loc 1 516 3 view .LVU361
 1267              		.loc 1 516 13 is_stmt 0 view .LVU362
 1268 0000 C160     		str	r1, [r0, #12]
 517:./libraries/drivers/src/at32f413_spi.c **** }
 1269              		.loc 1 517 1 view .LVU363
 1270 0002 7047     		bx	lr
 1271              		.cfi_endproc
 1272              	.LFE152:
 1274              		.section	.text.spi_i2s_data_receive,"ax",%progbits
 1275              		.align	1
 1276              		.global	spi_i2s_data_receive
 1277              		.syntax unified
 1278              		.thumb
 1279              		.thumb_func
 1280              		.fpu fpv4-sp-d16
 1282              	spi_i2s_data_receive:
 1283              	.LVL72:
 1284              	.LFB153:
 518:./libraries/drivers/src/at32f413_spi.c **** 
 519:./libraries/drivers/src/at32f413_spi.c **** /**
 520:./libraries/drivers/src/at32f413_spi.c ****   * @brief  spi/i2s data receive
 521:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_x: select the spi/i2s peripheral.
 522:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
 523:./libraries/drivers/src/at32f413_spi.c ****   *         SPI1, SPI2
 524:./libraries/drivers/src/at32f413_spi.c ****   * @retval the received data value
 525:./libraries/drivers/src/at32f413_spi.c ****   */
 526:./libraries/drivers/src/at32f413_spi.c **** uint16_t spi_i2s_data_receive(spi_type* spi_x)
 527:./libraries/drivers/src/at32f413_spi.c **** {
 1285              		.loc 1 527 1 is_stmt 1 view -0
 1286              		.cfi_startproc
 1287              		@ args = 0, pretend = 0, frame = 0
 1288              		@ frame_needed = 0, uses_anonymous_args = 0
 1289              		@ link register save eliminated.
 528:./libraries/drivers/src/at32f413_spi.c ****   return (uint16_t)spi_x->dt;
 1290              		.loc 1 528 3 view .LVU365
 1291              		.loc 1 528 25 is_stmt 0 view .LVU366
 1292 0000 C068     		ldr	r0, [r0, #12]
 1293              	.LVL73:
 529:./libraries/drivers/src/at32f413_spi.c **** }
 1294              		.loc 1 529 1 view .LVU367
 1295 0002 80B2     		uxth	r0, r0
 1296 0004 7047     		bx	lr
 1297              		.cfi_endproc
 1298              	.LFE153:
 1300              		.section	.text.spi_i2s_flag_get,"ax",%progbits
 1301              		.align	1
 1302              		.global	spi_i2s_flag_get
 1303              		.syntax unified
 1304              		.thumb
 1305              		.thumb_func
 1306              		.fpu fpv4-sp-d16
 1308              	spi_i2s_flag_get:
 1309              	.LVL74:
 1310              	.LFB154:
 530:./libraries/drivers/src/at32f413_spi.c **** 
 531:./libraries/drivers/src/at32f413_spi.c **** /**
 532:./libraries/drivers/src/at32f413_spi.c ****   * @brief  get flag of the specified spi/i2s peripheral.
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 35


 533:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_x: select the spi/i2s peripheral.
 534:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
 535:./libraries/drivers/src/at32f413_spi.c ****   *         SPI1, SPI2
 536:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_i2s_flag: select the spi/i2s flag
 537:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
 538:./libraries/drivers/src/at32f413_spi.c ****   *         - SPI_I2S_RDBF_FLAG
 539:./libraries/drivers/src/at32f413_spi.c ****   *         - SPI_I2S_TDBE_FLAG
 540:./libraries/drivers/src/at32f413_spi.c ****   *         - I2S_ACS_FLAG    (this flag only use in i2s mode)
 541:./libraries/drivers/src/at32f413_spi.c ****   *         - I2S_TUERR_FLAG  (this flag only use in i2s mode)
 542:./libraries/drivers/src/at32f413_spi.c ****   *         - SPI_CCERR_FLAG  (this flag only use in spi mode)
 543:./libraries/drivers/src/at32f413_spi.c ****   *         - SPI_MMERR_FLAG  (this flag only use in spi mode)
 544:./libraries/drivers/src/at32f413_spi.c ****   *         - SPI_I2S_ROERR_FLAG
 545:./libraries/drivers/src/at32f413_spi.c ****   *         - SPI_I2S_BF_FLAG
 546:./libraries/drivers/src/at32f413_spi.c ****   * @retval the new state of spi/i2s flag
 547:./libraries/drivers/src/at32f413_spi.c ****   */
 548:./libraries/drivers/src/at32f413_spi.c **** flag_status spi_i2s_flag_get(spi_type* spi_x, uint32_t spi_i2s_flag)
 549:./libraries/drivers/src/at32f413_spi.c **** {
 1311              		.loc 1 549 1 is_stmt 1 view -0
 1312              		.cfi_startproc
 1313              		@ args = 0, pretend = 0, frame = 0
 1314              		@ frame_needed = 0, uses_anonymous_args = 0
 1315              		@ link register save eliminated.
 550:./libraries/drivers/src/at32f413_spi.c ****   flag_status status = RESET;
 1316              		.loc 1 550 3 view .LVU369
 551:./libraries/drivers/src/at32f413_spi.c ****   if ((spi_x->sts & spi_i2s_flag) == RESET)
 1317              		.loc 1 551 3 view .LVU370
 1318              		.loc 1 551 13 is_stmt 0 view .LVU371
 1319 0000 8368     		ldr	r3, [r0, #8]
 1320              		.loc 1 551 6 view .LVU372
 1321 0002 0B42     		tst	r3, r1
 1322 0004 01D1     		bne	.L83
 552:./libraries/drivers/src/at32f413_spi.c ****   {
 553:./libraries/drivers/src/at32f413_spi.c ****     status = RESET;
 1323              		.loc 1 553 12 view .LVU373
 1324 0006 0020     		movs	r0, #0
 1325              	.LVL75:
 1326              		.loc 1 553 12 view .LVU374
 1327 0008 7047     		bx	lr
 1328              	.LVL76:
 1329              	.L83:
 554:./libraries/drivers/src/at32f413_spi.c ****   }
 555:./libraries/drivers/src/at32f413_spi.c ****   else
 556:./libraries/drivers/src/at32f413_spi.c ****   {
 557:./libraries/drivers/src/at32f413_spi.c ****     status = SET;
 1330              		.loc 1 557 12 view .LVU375
 1331 000a 0120     		movs	r0, #1
 1332              	.LVL77:
 558:./libraries/drivers/src/at32f413_spi.c ****   }
 559:./libraries/drivers/src/at32f413_spi.c ****   return status;
 1333              		.loc 1 559 3 is_stmt 1 view .LVU376
 560:./libraries/drivers/src/at32f413_spi.c **** }
 1334              		.loc 1 560 1 is_stmt 0 view .LVU377
 1335 000c 7047     		bx	lr
 1336              		.cfi_endproc
 1337              	.LFE154:
 1339              		.section	.text.spi_i2s_flag_clear,"ax",%progbits
 1340              		.align	1
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 36


 1341              		.global	spi_i2s_flag_clear
 1342              		.syntax unified
 1343              		.thumb
 1344              		.thumb_func
 1345              		.fpu fpv4-sp-d16
 1347              	spi_i2s_flag_clear:
 1348              	.LVL78:
 1349              	.LFB155:
 561:./libraries/drivers/src/at32f413_spi.c **** 
 562:./libraries/drivers/src/at32f413_spi.c **** /**
 563:./libraries/drivers/src/at32f413_spi.c ****   * @brief  clear flag of the specified spi/i2s peripheral.
 564:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_x: select the spi/i2s peripheral.
 565:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
 566:./libraries/drivers/src/at32f413_spi.c ****   *         SPI1, SPI2
 567:./libraries/drivers/src/at32f413_spi.c ****   * @param  spi_i2s_flag: select the spi/i2s flag
 568:./libraries/drivers/src/at32f413_spi.c ****   *         this parameter can be one of the following values:
 569:./libraries/drivers/src/at32f413_spi.c ****   *         - SPI_CCERR_FLAG
 570:./libraries/drivers/src/at32f413_spi.c ****   *         - SPI_I2S_RDBF_FLAG
 571:./libraries/drivers/src/at32f413_spi.c ****   *         - I2S_TUERR_FLAG
 572:./libraries/drivers/src/at32f413_spi.c ****   *         - SPI_MMERR_FLAG
 573:./libraries/drivers/src/at32f413_spi.c ****   *         - SPI_I2S_ROERR_FLAG
 574:./libraries/drivers/src/at32f413_spi.c ****   * @note
 575:./libraries/drivers/src/at32f413_spi.c ****   *         SPI_I2S_TDBE_FLAG  this flag is cleared when the tx buffer already contain data to be t
 576:./libraries/drivers/src/at32f413_spi.c ****   *         I2S_ACS_FLAG       this flag cann't cleared by software,the flag indicate the channel s
 577:./libraries/drivers/src/at32f413_spi.c ****   *         SPI_I2S_BF_FLAG    this flag cann't cleared by software, it's set and cleared by hardwa
 578:./libraries/drivers/src/at32f413_spi.c ****   * @retval none
 579:./libraries/drivers/src/at32f413_spi.c ****   */
 580:./libraries/drivers/src/at32f413_spi.c **** void spi_i2s_flag_clear(spi_type* spi_x, uint32_t spi_i2s_flag)
 581:./libraries/drivers/src/at32f413_spi.c **** {
 1350              		.loc 1 581 1 is_stmt 1 view -0
 1351              		.cfi_startproc
 1352              		@ args = 0, pretend = 0, frame = 8
 1353              		@ frame_needed = 0, uses_anonymous_args = 0
 1354              		@ link register save eliminated.
 1355              		.loc 1 581 1 is_stmt 0 view .LVU379
 1356 0000 82B0     		sub	sp, sp, #8
 1357              	.LCFI5:
 1358              		.cfi_def_cfa_offset 8
 582:./libraries/drivers/src/at32f413_spi.c ****   volatile uint32_t temp = 0;
 1359              		.loc 1 582 3 is_stmt 1 view .LVU380
 1360              		.loc 1 582 21 is_stmt 0 view .LVU381
 1361 0002 0023     		movs	r3, #0
 1362 0004 0193     		str	r3, [sp, #4]
 583:./libraries/drivers/src/at32f413_spi.c ****   temp = temp;
 1363              		.loc 1 583 3 is_stmt 1 view .LVU382
 1364              		.loc 1 583 8 is_stmt 0 view .LVU383
 1365 0006 019B     		ldr	r3, [sp, #4]
 1366 0008 0193     		str	r3, [sp, #4]
 584:./libraries/drivers/src/at32f413_spi.c ****   if(spi_i2s_flag == SPI_CCERR_FLAG)
 1367              		.loc 1 584 3 is_stmt 1 view .LVU384
 1368              		.loc 1 584 5 is_stmt 0 view .LVU385
 1369 000a 1029     		cmp	r1, #16
 1370 000c 0CD0     		beq	.L91
 585:./libraries/drivers/src/at32f413_spi.c ****     spi_x->sts = ~SPI_CCERR_FLAG;
 586:./libraries/drivers/src/at32f413_spi.c ****   else if(spi_i2s_flag == SPI_I2S_RDBF_FLAG)
 1371              		.loc 1 586 8 is_stmt 1 view .LVU386
 1372              		.loc 1 586 10 is_stmt 0 view .LVU387
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 37


 1373 000e 0129     		cmp	r1, #1
 1374 0010 0FD0     		beq	.L92
 587:./libraries/drivers/src/at32f413_spi.c ****     temp = REG32(&spi_x->dt);
 588:./libraries/drivers/src/at32f413_spi.c ****   else if(spi_i2s_flag == I2S_TUERR_FLAG)
 1375              		.loc 1 588 8 is_stmt 1 view .LVU388
 1376              		.loc 1 588 10 is_stmt 0 view .LVU389
 1377 0012 0829     		cmp	r1, #8
 1378 0014 10D0     		beq	.L93
 589:./libraries/drivers/src/at32f413_spi.c ****     temp = REG32(&spi_x->sts);
 590:./libraries/drivers/src/at32f413_spi.c ****   else if(spi_i2s_flag == SPI_MMERR_FLAG)
 1379              		.loc 1 590 8 is_stmt 1 view .LVU390
 1380              		.loc 1 590 10 is_stmt 0 view .LVU391
 1381 0016 2029     		cmp	r1, #32
 1382 0018 11D0     		beq	.L94
 591:./libraries/drivers/src/at32f413_spi.c ****   {
 592:./libraries/drivers/src/at32f413_spi.c ****     temp = REG32(&spi_x->sts);
 593:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1 = spi_x->ctrl1;
 594:./libraries/drivers/src/at32f413_spi.c ****   }
 595:./libraries/drivers/src/at32f413_spi.c ****   else if(spi_i2s_flag == SPI_I2S_ROERR_FLAG)
 1383              		.loc 1 595 8 is_stmt 1 view .LVU392
 1384              		.loc 1 595 10 is_stmt 0 view .LVU393
 1385 001a 4029     		cmp	r1, #64
 1386 001c 07D1     		bne	.L84
 596:./libraries/drivers/src/at32f413_spi.c ****   {
 597:./libraries/drivers/src/at32f413_spi.c ****     temp = REG32(&spi_x->dt);
 1387              		.loc 1 597 5 is_stmt 1 view .LVU394
 1388              		.loc 1 597 12 is_stmt 0 view .LVU395
 1389 001e C368     		ldr	r3, [r0, #12]
 1390              		.loc 1 597 10 view .LVU396
 1391 0020 0193     		str	r3, [sp, #4]
 598:./libraries/drivers/src/at32f413_spi.c ****     temp = REG32(&spi_x->sts);
 1392              		.loc 1 598 5 is_stmt 1 view .LVU397
 1393              		.loc 1 598 12 is_stmt 0 view .LVU398
 1394 0022 8368     		ldr	r3, [r0, #8]
 1395              		.loc 1 598 10 view .LVU399
 1396 0024 0193     		str	r3, [sp, #4]
 599:./libraries/drivers/src/at32f413_spi.c ****   }
 600:./libraries/drivers/src/at32f413_spi.c **** }
 1397              		.loc 1 600 1 view .LVU400
 1398 0026 02E0     		b	.L84
 1399              	.L91:
 585:./libraries/drivers/src/at32f413_spi.c ****   else if(spi_i2s_flag == SPI_I2S_RDBF_FLAG)
 1400              		.loc 1 585 5 is_stmt 1 view .LVU401
 585:./libraries/drivers/src/at32f413_spi.c ****   else if(spi_i2s_flag == SPI_I2S_RDBF_FLAG)
 1401              		.loc 1 585 16 is_stmt 0 view .LVU402
 1402 0028 6FF01003 		mvn	r3, #16
 1403 002c 8360     		str	r3, [r0, #8]
 1404              	.L84:
 1405              		.loc 1 600 1 view .LVU403
 1406 002e 02B0     		add	sp, sp, #8
 1407              	.LCFI6:
 1408              		.cfi_remember_state
 1409              		.cfi_def_cfa_offset 0
 1410              		@ sp needed
 1411 0030 7047     		bx	lr
 1412              	.L92:
 1413              	.LCFI7:
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 38


 1414              		.cfi_restore_state
 587:./libraries/drivers/src/at32f413_spi.c ****   else if(spi_i2s_flag == I2S_TUERR_FLAG)
 1415              		.loc 1 587 5 is_stmt 1 view .LVU404
 587:./libraries/drivers/src/at32f413_spi.c ****   else if(spi_i2s_flag == I2S_TUERR_FLAG)
 1416              		.loc 1 587 12 is_stmt 0 view .LVU405
 1417 0032 C368     		ldr	r3, [r0, #12]
 587:./libraries/drivers/src/at32f413_spi.c ****   else if(spi_i2s_flag == I2S_TUERR_FLAG)
 1418              		.loc 1 587 10 view .LVU406
 1419 0034 0193     		str	r3, [sp, #4]
 1420 0036 FAE7     		b	.L84
 1421              	.L93:
 589:./libraries/drivers/src/at32f413_spi.c ****   else if(spi_i2s_flag == SPI_MMERR_FLAG)
 1422              		.loc 1 589 5 is_stmt 1 view .LVU407
 589:./libraries/drivers/src/at32f413_spi.c ****   else if(spi_i2s_flag == SPI_MMERR_FLAG)
 1423              		.loc 1 589 12 is_stmt 0 view .LVU408
 1424 0038 8368     		ldr	r3, [r0, #8]
 589:./libraries/drivers/src/at32f413_spi.c ****   else if(spi_i2s_flag == SPI_MMERR_FLAG)
 1425              		.loc 1 589 10 view .LVU409
 1426 003a 0193     		str	r3, [sp, #4]
 1427 003c F7E7     		b	.L84
 1428              	.L94:
 592:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1 = spi_x->ctrl1;
 1429              		.loc 1 592 5 is_stmt 1 view .LVU410
 592:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1 = spi_x->ctrl1;
 1430              		.loc 1 592 12 is_stmt 0 view .LVU411
 1431 003e 8368     		ldr	r3, [r0, #8]
 592:./libraries/drivers/src/at32f413_spi.c ****     spi_x->ctrl1 = spi_x->ctrl1;
 1432              		.loc 1 592 10 view .LVU412
 1433 0040 0193     		str	r3, [sp, #4]
 593:./libraries/drivers/src/at32f413_spi.c ****   }
 1434              		.loc 1 593 5 is_stmt 1 view .LVU413
 593:./libraries/drivers/src/at32f413_spi.c ****   }
 1435              		.loc 1 593 25 is_stmt 0 view .LVU414
 1436 0042 0368     		ldr	r3, [r0]
 593:./libraries/drivers/src/at32f413_spi.c ****   }
 1437              		.loc 1 593 18 view .LVU415
 1438 0044 0360     		str	r3, [r0]
 1439 0046 F2E7     		b	.L84
 1440              		.cfi_endproc
 1441              	.LFE155:
 1443              		.text
 1444              	.Letext0:
 1445              		.file 2 "c:\\gcc-arm-none-eabi-10.3-2021.07\\arm-none-eabi\\include\\machine\\_default_types.h"
 1446              		.file 3 "c:\\gcc-arm-none-eabi-10.3-2021.07\\arm-none-eabi\\include\\sys\\_stdint.h"
 1447              		.file 4 "./libraries/cmsis/cm4/device_support/at32f413.h"
 1448              		.file 5 "./libraries/drivers/inc/at32f413_crm.h"
 1449              		.file 6 "./libraries/drivers/inc/at32f413_spi.h"
ARM GAS  C:\Users\J\AppData\Local\Temp\ccFDk0i4.s 			page 39


DEFINED SYMBOLS
                            *ABS*:00000000 at32f413_spi.c
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:18     .text.spi_i2s_reset:00000000 $t
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:26     .text.spi_i2s_reset:00000000 spi_i2s_reset
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:89     .text.spi_i2s_reset:0000003c $d
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:96     .text.spi_default_para_init:00000000 $t
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:103    .text.spi_default_para_init:00000000 spi_default_para_init
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:143    .text.spi_init:00000000 $t
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:150    .text.spi_init:00000000 spi_init
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:354    .text.spi_crc_next_transmit:00000000 $t
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:361    .text.spi_crc_next_transmit:00000000 spi_crc_next_transmit
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:380    .text.spi_crc_polynomial_set:00000000 $t
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:387    .text.spi_crc_polynomial_set:00000000 spi_crc_polynomial_set
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:408    .text.spi_crc_polynomial_get:00000000 $t
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:415    .text.spi_crc_polynomial_get:00000000 spi_crc_polynomial_get
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:434    .text.spi_crc_enable:00000000 $t
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:441    .text.spi_crc_enable:00000000 spi_crc_enable
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:460    .text.spi_crc_value_get:00000000 $t
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:467    .text.spi_crc_value_get:00000000 spi_crc_value_get
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:500    .text.spi_hardware_cs_output_enable:00000000 $t
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:507    .text.spi_hardware_cs_output_enable:00000000 spi_hardware_cs_output_enable
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:526    .text.spi_software_cs_internal_level_set:00000000 $t
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:533    .text.spi_software_cs_internal_level_set:00000000 spi_software_cs_internal_level_set
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:552    .text.spi_frame_bit_num_set:00000000 $t
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:559    .text.spi_frame_bit_num_set:00000000 spi_frame_bit_num_set
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:578    .text.spi_half_duplex_direction_set:00000000 $t
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:585    .text.spi_half_duplex_direction_set:00000000 spi_half_duplex_direction_set
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:604    .text.spi_enable:00000000 $t
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:611    .text.spi_enable:00000000 spi_enable
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:630    .text.i2s_default_para_init:00000000 $t
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:637    .text.i2s_default_para_init:00000000 i2s_default_para_init
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:672    .text.i2s_init:00000000 $t
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:679    .text.i2s_init:00000000 i2s_init
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:1127   .text.i2s_init:000001f8 $d
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:1132   .text.i2s_enable:00000000 $t
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:1139   .text.i2s_enable:00000000 i2s_enable
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:1158   .text.spi_i2s_interrupt_enable:00000000 $t
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:1165   .text.spi_i2s_interrupt_enable:00000000 spi_i2s_interrupt_enable
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:1199   .text.spi_i2s_dma_transmitter_enable:00000000 $t
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:1206   .text.spi_i2s_dma_transmitter_enable:00000000 spi_i2s_dma_transmitter_enable
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:1225   .text.spi_i2s_dma_receiver_enable:00000000 $t
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:1232   .text.spi_i2s_dma_receiver_enable:00000000 spi_i2s_dma_receiver_enable
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:1251   .text.spi_i2s_data_transmit:00000000 $t
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:1258   .text.spi_i2s_data_transmit:00000000 spi_i2s_data_transmit
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:1275   .text.spi_i2s_data_receive:00000000 $t
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:1282   .text.spi_i2s_data_receive:00000000 spi_i2s_data_receive
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:1301   .text.spi_i2s_flag_get:00000000 $t
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:1308   .text.spi_i2s_flag_get:00000000 spi_i2s_flag_get
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:1340   .text.spi_i2s_flag_clear:00000000 $t
C:\Users\J\AppData\Local\Temp\ccFDk0i4.s:1347   .text.spi_i2s_flag_clear:00000000 spi_i2s_flag_clear

UNDEFINED SYMBOLS
crm_periph_reset
crm_clocks_freq_get
