ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"at32f413_usb.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.usb_connect,"ax",%progbits
  18              		.align	1
  19              		.global	usb_connect
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	usb_connect:
  27              	.LVL0:
  28              	.LFB134:
  29              		.file 1 "./libraries/drivers/src/at32f413_usb.c"
   1:./libraries/drivers/src/at32f413_usb.c **** /**
   2:./libraries/drivers/src/at32f413_usb.c ****   **************************************************************************
   3:./libraries/drivers/src/at32f413_usb.c ****   * @file     at32f413_usb.c
   4:./libraries/drivers/src/at32f413_usb.c ****   * @version  v2.0.5
   5:./libraries/drivers/src/at32f413_usb.c ****   * @date     2022-05-20
   6:./libraries/drivers/src/at32f413_usb.c ****   * @brief    contains the functions for the usb firmware library
   7:./libraries/drivers/src/at32f413_usb.c ****   **************************************************************************
   8:./libraries/drivers/src/at32f413_usb.c ****   *                       Copyright notice & Disclaimer
   9:./libraries/drivers/src/at32f413_usb.c ****   *
  10:./libraries/drivers/src/at32f413_usb.c ****   * The software Board Support Package (BSP) that is made available to
  11:./libraries/drivers/src/at32f413_usb.c ****   * download from Artery official website is the copyrighted work of Artery.
  12:./libraries/drivers/src/at32f413_usb.c ****   * Artery authorizes customers to use, copy, and distribute the BSP
  13:./libraries/drivers/src/at32f413_usb.c ****   * software and its related documentation for the purpose of design and
  14:./libraries/drivers/src/at32f413_usb.c ****   * development in conjunction with Artery microcontrollers. Use of the
  15:./libraries/drivers/src/at32f413_usb.c ****   * software is governed by this copyright notice and the following disclaimer.
  16:./libraries/drivers/src/at32f413_usb.c ****   *
  17:./libraries/drivers/src/at32f413_usb.c ****   * THIS SOFTWARE IS PROVIDED ON "AS IS" BASIS WITHOUT WARRANTIES,
  18:./libraries/drivers/src/at32f413_usb.c ****   * GUARANTEES OR REPRESENTATIONS OF ANY KIND. ARTERY EXPRESSLY DISCLAIMS,
  19:./libraries/drivers/src/at32f413_usb.c ****   * TO THE FULLEST EXTENT PERMITTED BY LAW, ALL EXPRESS, IMPLIED OR
  20:./libraries/drivers/src/at32f413_usb.c ****   * STATUTORY OR OTHER WARRANTIES, GUARANTEES OR REPRESENTATIONS,
  21:./libraries/drivers/src/at32f413_usb.c ****   * INCLUDING BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY,
  22:./libraries/drivers/src/at32f413_usb.c ****   * FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT.
  23:./libraries/drivers/src/at32f413_usb.c ****   *
  24:./libraries/drivers/src/at32f413_usb.c ****   **************************************************************************
  25:./libraries/drivers/src/at32f413_usb.c ****   */
  26:./libraries/drivers/src/at32f413_usb.c **** 
  27:./libraries/drivers/src/at32f413_usb.c **** /** @addtogroup AT32F413_periph_driver
  28:./libraries/drivers/src/at32f413_usb.c ****   * @{
  29:./libraries/drivers/src/at32f413_usb.c ****   */
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 2


  30:./libraries/drivers/src/at32f413_usb.c **** 
  31:./libraries/drivers/src/at32f413_usb.c **** /** @defgroup USB
  32:./libraries/drivers/src/at32f413_usb.c ****   * @brief USB driver modules
  33:./libraries/drivers/src/at32f413_usb.c ****   * @{
  34:./libraries/drivers/src/at32f413_usb.c ****   */
  35:./libraries/drivers/src/at32f413_usb.c **** 
  36:./libraries/drivers/src/at32f413_usb.c **** #include "at32f413_conf.h"
  37:./libraries/drivers/src/at32f413_usb.c **** 
  38:./libraries/drivers/src/at32f413_usb.c **** 
  39:./libraries/drivers/src/at32f413_usb.c **** #ifdef USB_MODULE_ENABLED
  40:./libraries/drivers/src/at32f413_usb.c **** 
  41:./libraries/drivers/src/at32f413_usb.c **** /** @defgroup USB_private_functions
  42:./libraries/drivers/src/at32f413_usb.c ****   * @{
  43:./libraries/drivers/src/at32f413_usb.c ****   */
  44:./libraries/drivers/src/at32f413_usb.c **** 
  45:./libraries/drivers/src/at32f413_usb.c **** /**
  46:./libraries/drivers/src/at32f413_usb.c ****   * @brief usb packet buffer start address
  47:./libraries/drivers/src/at32f413_usb.c ****   */
  48:./libraries/drivers/src/at32f413_usb.c **** #define USB_ENDP_DESC_TABLE_OFFSET       0x40
  49:./libraries/drivers/src/at32f413_usb.c **** uint32_t g_usb_packet_address = USB_PACKET_BUFFER_ADDRESS;
  50:./libraries/drivers/src/at32f413_usb.c **** static uint16_t g_usb_offset_addr = USB_ENDP_DESC_TABLE_OFFSET;
  51:./libraries/drivers/src/at32f413_usb.c **** 
  52:./libraries/drivers/src/at32f413_usb.c **** /**
  53:./libraries/drivers/src/at32f413_usb.c ****   * @brief  initialize usb peripheral controller register
  54:./libraries/drivers/src/at32f413_usb.c ****   * @param  usbx: to select the usb peripheral.
  55:./libraries/drivers/src/at32f413_usb.c ****   *         parameter as following values: USB
  56:./libraries/drivers/src/at32f413_usb.c ****   * @retval none
  57:./libraries/drivers/src/at32f413_usb.c ****   */
  58:./libraries/drivers/src/at32f413_usb.c **** void usb_dev_init(usbd_type *usbx)
  59:./libraries/drivers/src/at32f413_usb.c **** {
  60:./libraries/drivers/src/at32f413_usb.c ****   /* clear usb core reset */
  61:./libraries/drivers/src/at32f413_usb.c ****   usbx->ctrl_bit.csrst = 0;
  62:./libraries/drivers/src/at32f413_usb.c **** 
  63:./libraries/drivers/src/at32f413_usb.c ****   /* clear usb interrupt status */
  64:./libraries/drivers/src/at32f413_usb.c ****   usbx->intsts = 0;
  65:./libraries/drivers/src/at32f413_usb.c **** 
  66:./libraries/drivers/src/at32f413_usb.c ****   /* set usb packet buffer descirption table address */
  67:./libraries/drivers/src/at32f413_usb.c ****   usbx->buftbl = USB_BUFFER_TABLE_ADDRESS;
  68:./libraries/drivers/src/at32f413_usb.c **** 
  69:./libraries/drivers/src/at32f413_usb.c ****   /* enable usb core and set device address to 0 */
  70:./libraries/drivers/src/at32f413_usb.c ****   usbx->devaddr = 0x80;
  71:./libraries/drivers/src/at32f413_usb.c **** 
  72:./libraries/drivers/src/at32f413_usb.c ****   usb_interrupt_enable(usbx, USB_SOF_INT | USB_RST_INT | USB_SP_INT | USB_WK_INT | USB_TC_INT, TRUE
  73:./libraries/drivers/src/at32f413_usb.c **** }
  74:./libraries/drivers/src/at32f413_usb.c **** 
  75:./libraries/drivers/src/at32f413_usb.c **** /**
  76:./libraries/drivers/src/at32f413_usb.c ****   * @brief  connect usb device
  77:./libraries/drivers/src/at32f413_usb.c ****   * @param  usbx: to select the usb peripheral.
  78:./libraries/drivers/src/at32f413_usb.c ****   *         parameter as following values: USB
  79:./libraries/drivers/src/at32f413_usb.c ****   * @retval none
  80:./libraries/drivers/src/at32f413_usb.c ****   */
  81:./libraries/drivers/src/at32f413_usb.c **** void usb_connect(usbd_type *usbx)
  82:./libraries/drivers/src/at32f413_usb.c **** {
  30              		.loc 1 82 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 3


  34              		@ link register save eliminated.
  83:./libraries/drivers/src/at32f413_usb.c ****   /* enable usb phy */
  84:./libraries/drivers/src/at32f413_usb.c ****   usbx->ctrl_bit.disusb = 0;
  35              		.loc 1 84 3 view .LVU1
  36              		.loc 1 84 25 is_stmt 0 view .LVU2
  37 0000 036C     		ldr	r3, [r0, #64]
  38 0002 6FF34103 		bfc	r3, #1, #1
  39 0006 0364     		str	r3, [r0, #64]
  85:./libraries/drivers/src/at32f413_usb.c **** }
  40              		.loc 1 85 1 view .LVU3
  41 0008 7047     		bx	lr
  42              		.cfi_endproc
  43              	.LFE134:
  45              		.section	.text.usb_disconnect,"ax",%progbits
  46              		.align	1
  47              		.global	usb_disconnect
  48              		.syntax unified
  49              		.thumb
  50              		.thumb_func
  51              		.fpu fpv4-sp-d16
  53              	usb_disconnect:
  54              	.LVL1:
  55              	.LFB135:
  86:./libraries/drivers/src/at32f413_usb.c **** 
  87:./libraries/drivers/src/at32f413_usb.c **** /**
  88:./libraries/drivers/src/at32f413_usb.c ****   * @brief  disconnect usb device
  89:./libraries/drivers/src/at32f413_usb.c ****   * @param  usbx: to select the usb peripheral.
  90:./libraries/drivers/src/at32f413_usb.c ****   *         parameter as following values: USB
  91:./libraries/drivers/src/at32f413_usb.c ****   * @retval none
  92:./libraries/drivers/src/at32f413_usb.c ****   */
  93:./libraries/drivers/src/at32f413_usb.c **** void usb_disconnect(usbd_type *usbx)
  94:./libraries/drivers/src/at32f413_usb.c **** {
  56              		.loc 1 94 1 is_stmt 1 view -0
  57              		.cfi_startproc
  58              		@ args = 0, pretend = 0, frame = 0
  59              		@ frame_needed = 0, uses_anonymous_args = 0
  60              		@ link register save eliminated.
  95:./libraries/drivers/src/at32f413_usb.c ****   /* disable usb phy */
  96:./libraries/drivers/src/at32f413_usb.c ****   usbx->ctrl_bit.disusb = TRUE;
  61              		.loc 1 96 3 view .LVU5
  62              		.loc 1 96 25 is_stmt 0 view .LVU6
  63 0000 036C     		ldr	r3, [r0, #64]
  64 0002 43F00203 		orr	r3, r3, #2
  65 0006 0364     		str	r3, [r0, #64]
  97:./libraries/drivers/src/at32f413_usb.c **** }
  66              		.loc 1 97 1 view .LVU7
  67 0008 7047     		bx	lr
  68              		.cfi_endproc
  69              	.LFE135:
  71              		.section	.text.usb_usbbufs_enable,"ax",%progbits
  72              		.align	1
  73              		.global	usb_usbbufs_enable
  74              		.syntax unified
  75              		.thumb
  76              		.thumb_func
  77              		.fpu fpv4-sp-d16
  79              	usb_usbbufs_enable:
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 4


  80              	.LVL2:
  81              	.LFB136:
  98:./libraries/drivers/src/at32f413_usb.c **** 
  99:./libraries/drivers/src/at32f413_usb.c **** 
 100:./libraries/drivers/src/at32f413_usb.c **** /**
 101:./libraries/drivers/src/at32f413_usb.c ****   * @brief  mapping usb packet buffer area
 102:./libraries/drivers/src/at32f413_usb.c ****   *         two mapping intervals are available for packet buffer area,
 103:./libraries/drivers/src/at32f413_usb.c ****   *         and are select by the usbbufs in the crm misc1 register.
 104:./libraries/drivers/src/at32f413_usb.c ****   *         when usbbufs is 0,sram size is 512 bytes, packet buffer start
 105:./libraries/drivers/src/at32f413_usb.c ****   *         address is 0x40006000.when usbbufs is 1, sram size is fixed to
 106:./libraries/drivers/src/at32f413_usb.c ****   *         768~1280 bytes, and the  packet buffer start address is fixed to
 107:./libraries/drivers/src/at32f413_usb.c ****   *         0x40007800,packet buffer size decided by whether can1 and can2 are
 108:./libraries/drivers/src/at32f413_usb.c ****   *         enabled;when both can1 and can2 are disabled, usb packet buffer can be set to the
 109:./libraries/drivers/src/at32f413_usb.c ****   *         maximum of 1280 bytes; when either can1 or can2 is enabled, usb packet buffer can be se
 110:./libraries/drivers/src/at32f413_usb.c ****   *         maximum of 1024 bytes; when both CAN1 and CAN2 are enabled, usb packet buffer can be se
 111:./libraries/drivers/src/at32f413_usb.c ****   *         maximum of 768 bytes.
 112:./libraries/drivers/src/at32f413_usb.c ****   * @param  usbx: to select the usb peripheral.
 113:./libraries/drivers/src/at32f413_usb.c ****   *         parameter as following values: USB
 114:./libraries/drivers/src/at32f413_usb.c ****   * @retval none
 115:./libraries/drivers/src/at32f413_usb.c ****   */
 116:./libraries/drivers/src/at32f413_usb.c **** void usb_usbbufs_enable(usbd_type *usbx, confirm_state state)
 117:./libraries/drivers/src/at32f413_usb.c **** {
  82              		.loc 1 117 1 is_stmt 1 view -0
  83              		.cfi_startproc
  84              		@ args = 0, pretend = 0, frame = 0
  85              		@ frame_needed = 0, uses_anonymous_args = 0
  86              		@ link register save eliminated.
 118:./libraries/drivers/src/at32f413_usb.c ****   if(state == TRUE)
  87              		.loc 1 118 3 view .LVU9
  88              		.loc 1 118 5 is_stmt 0 view .LVU10
  89 0000 0129     		cmp	r1, #1
  90 0002 08D0     		beq	.L6
 119:./libraries/drivers/src/at32f413_usb.c ****   {
 120:./libraries/drivers/src/at32f413_usb.c ****     /* enable usbbufs */
 121:./libraries/drivers/src/at32f413_usb.c ****     g_usb_packet_address = USB_PACKET_BUFFER_ADDRESS_EX;
 122:./libraries/drivers/src/at32f413_usb.c ****     CRM->misc1_bit.usbbufs = TRUE;
 123:./libraries/drivers/src/at32f413_usb.c ****   }
 124:./libraries/drivers/src/at32f413_usb.c ****   else
 125:./libraries/drivers/src/at32f413_usb.c ****   {
 126:./libraries/drivers/src/at32f413_usb.c ****     /* disable usbbufs */
 127:./libraries/drivers/src/at32f413_usb.c ****     g_usb_packet_address = USB_PACKET_BUFFER_ADDRESS;
  91              		.loc 1 127 5 is_stmt 1 view .LVU11
  92              		.loc 1 127 26 is_stmt 0 view .LVU12
  93 0004 094B     		ldr	r3, .L7
  94 0006 0A4A     		ldr	r2, .L7+4
  95 0008 1A60     		str	r2, [r3]
 128:./libraries/drivers/src/at32f413_usb.c ****     CRM->misc1_bit.usbbufs = FALSE;
  96              		.loc 1 128 5 is_stmt 1 view .LVU13
  97              		.loc 1 128 28 is_stmt 0 view .LVU14
  98 000a 0A4B     		ldr	r3, .L7+8
  99 000c 1A6B     		ldr	r2, [r3, #48]
 100 000e 6FF31862 		bfc	r2, #24, #1
 101 0012 1A63     		str	r2, [r3, #48]
 129:./libraries/drivers/src/at32f413_usb.c ****   }
 130:./libraries/drivers/src/at32f413_usb.c **** }
 102              		.loc 1 130 1 view .LVU15
 103 0014 7047     		bx	lr
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 5


 104              	.L6:
 121:./libraries/drivers/src/at32f413_usb.c ****     CRM->misc1_bit.usbbufs = TRUE;
 105              		.loc 1 121 5 is_stmt 1 view .LVU16
 121:./libraries/drivers/src/at32f413_usb.c ****     CRM->misc1_bit.usbbufs = TRUE;
 106              		.loc 1 121 26 is_stmt 0 view .LVU17
 107 0016 054B     		ldr	r3, .L7
 108 0018 074A     		ldr	r2, .L7+12
 109 001a 1A60     		str	r2, [r3]
 122:./libraries/drivers/src/at32f413_usb.c ****   }
 110              		.loc 1 122 5 is_stmt 1 view .LVU18
 122:./libraries/drivers/src/at32f413_usb.c ****   }
 111              		.loc 1 122 28 is_stmt 0 view .LVU19
 112 001c 02F5CC32 		add	r2, r2, #104448
 113 0020 136B     		ldr	r3, [r2, #48]
 114 0022 43F08073 		orr	r3, r3, #16777216
 115 0026 1363     		str	r3, [r2, #48]
 116 0028 7047     		bx	lr
 117              	.L8:
 118 002a 00BF     		.align	2
 119              	.L7:
 120 002c 00000000 		.word	.LANCHOR0
 121 0030 00600040 		.word	1073766400
 122 0034 00100240 		.word	1073876992
 123 0038 00780040 		.word	1073772544
 124              		.cfi_endproc
 125              	.LFE136:
 127              		.section	.text.usb_ept_open,"ax",%progbits
 128              		.align	1
 129              		.global	usb_ept_open
 130              		.syntax unified
 131              		.thumb
 132              		.thumb_func
 133              		.fpu fpv4-sp-d16
 135              	usb_ept_open:
 136              	.LVL3:
 137              	.LFB137:
 131:./libraries/drivers/src/at32f413_usb.c **** 
 132:./libraries/drivers/src/at32f413_usb.c **** /**
 133:./libraries/drivers/src/at32f413_usb.c ****   * @brief  open usb endpoint
 134:./libraries/drivers/src/at32f413_usb.c ****   * @param  usbx: to select the usb peripheral.
 135:./libraries/drivers/src/at32f413_usb.c ****   *         parameter as following values: USB
 136:./libraries/drivers/src/at32f413_usb.c ****   * @param  ept_info: endpoint information structure
 137:./libraries/drivers/src/at32f413_usb.c ****   * @retval none
 138:./libraries/drivers/src/at32f413_usb.c ****   */
 139:./libraries/drivers/src/at32f413_usb.c **** void usb_ept_open(usbd_type *usbx, usb_ept_info *ept_info)
 140:./libraries/drivers/src/at32f413_usb.c **** {
 138              		.loc 1 140 1 is_stmt 1 view -0
 139              		.cfi_startproc
 140              		@ args = 0, pretend = 0, frame = 0
 141              		@ frame_needed = 0, uses_anonymous_args = 0
 142              		@ link register save eliminated.
 143              		.loc 1 140 1 is_stmt 0 view .LVU21
 144 0000 30B4     		push	{r4, r5}
 145              	.LCFI0:
 146              		.cfi_def_cfa_offset 8
 147              		.cfi_offset 4, -8
 148              		.cfi_offset 5, -4
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 6


 141:./libraries/drivers/src/at32f413_usb.c ****   uint16_t type = 0;
 149              		.loc 1 141 3 is_stmt 1 view .LVU22
 150              	.LVL4:
 142:./libraries/drivers/src/at32f413_usb.c **** 
 143:./libraries/drivers/src/at32f413_usb.c ****   /* set endpoint address */
 144:./libraries/drivers/src/at32f413_usb.c ****   USB_SET_EPT_ADDRESS(ept_info->eptn, ept_info->ept_address);
 151              		.loc 1 144 3 view .LVU23
 152 0002 0878     		ldrb	r0, [r1]	@ zero_extendqisi2
 153              	.LVL5:
 154              		.loc 1 144 3 is_stmt 0 view .LVU24
 155 0004 954A     		ldr	r2, .L40
 156 0006 52F82030 		ldr	r3, [r2, r0, lsl #2]
 157 000a 23F4E043 		bic	r3, r3, #28672
 158 000e 23F07F03 		bic	r3, r3, #127
 159 0012 1B04     		lsls	r3, r3, #16
 160 0014 1B0C     		lsrs	r3, r3, #16
 161 0016 91F801C0 		ldrb	ip, [r1, #1]	@ zero_extendqisi2
 162 001a 43EA0C03 		orr	r3, r3, ip
 163 001e 42F82030 		str	r3, [r2, r0, lsl #2]
 145:./libraries/drivers/src/at32f413_usb.c **** 
 146:./libraries/drivers/src/at32f413_usb.c ****   /* select endpoint transfer type */
 147:./libraries/drivers/src/at32f413_usb.c ****   if(ept_info->trans_type == EPT_CONTROL_TYPE)
 164              		.loc 1 147 3 is_stmt 1 view .LVU25
 165              		.loc 1 147 14 is_stmt 0 view .LVU26
 166 0022 CB78     		ldrb	r3, [r1, #3]	@ zero_extendqisi2
 167              		.loc 1 147 5 view .LVU27
 168 0024 63B1     		cbz	r3, .L33
 148:./libraries/drivers/src/at32f413_usb.c ****   {
 149:./libraries/drivers/src/at32f413_usb.c ****     type = USB_EPT_CONTROL;
 150:./libraries/drivers/src/at32f413_usb.c ****   }
 151:./libraries/drivers/src/at32f413_usb.c ****   else if(ept_info->trans_type == EPT_BULK_TYPE)
 169              		.loc 1 151 8 is_stmt 1 view .LVU28
 170              		.loc 1 151 10 is_stmt 0 view .LVU29
 171 0026 012B     		cmp	r3, #1
 172 0028 6AD0     		beq	.L34
 152:./libraries/drivers/src/at32f413_usb.c ****   {
 153:./libraries/drivers/src/at32f413_usb.c ****     type = USB_EPT_BULK;
 154:./libraries/drivers/src/at32f413_usb.c ****   }
 155:./libraries/drivers/src/at32f413_usb.c ****   else if(ept_info->trans_type == EPT_INT_TYPE)
 173              		.loc 1 155 8 is_stmt 1 view .LVU30
 174              		.loc 1 155 10 is_stmt 0 view .LVU31
 175 002a 022B     		cmp	r3, #2
 176 002c 6AD0     		beq	.L35
 156:./libraries/drivers/src/at32f413_usb.c ****   {
 157:./libraries/drivers/src/at32f413_usb.c ****     type = USB_EPT_INT;
 158:./libraries/drivers/src/at32f413_usb.c ****   }
 159:./libraries/drivers/src/at32f413_usb.c ****   else if(ept_info->trans_type == EPT_ISO_TYPE)
 177              		.loc 1 159 8 is_stmt 1 view .LVU32
 178              		.loc 1 159 10 is_stmt 0 view .LVU33
 179 002e 032B     		cmp	r3, #3
 180 0030 01D0     		beq	.L38
 141:./libraries/drivers/src/at32f413_usb.c **** 
 181              		.loc 1 141 12 view .LVU34
 182 0032 0022     		movs	r2, #0
 183 0034 06E0     		b	.L10
 184              	.L38:
 160:./libraries/drivers/src/at32f413_usb.c ****   {
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 7


 161:./libraries/drivers/src/at32f413_usb.c ****     type = USB_EPT_ISO;
 185              		.loc 1 161 5 is_stmt 1 view .LVU35
 186              	.LVL6:
 162:./libraries/drivers/src/at32f413_usb.c ****     ept_info->is_double_buffer = TRUE;
 187              		.loc 1 162 5 view .LVU36
 188              		.loc 1 162 32 is_stmt 0 view .LVU37
 189 0036 0123     		movs	r3, #1
 190 0038 8B72     		strb	r3, [r1, #10]
 161:./libraries/drivers/src/at32f413_usb.c ****     ept_info->is_double_buffer = TRUE;
 191              		.loc 1 161 10 view .LVU38
 192 003a 4FF48062 		mov	r2, #1024
 193 003e 01E0     		b	.L10
 194              	.LVL7:
 195              	.L33:
 149:./libraries/drivers/src/at32f413_usb.c ****   }
 196              		.loc 1 149 10 view .LVU39
 197 0040 4FF40072 		mov	r2, #512
 198              	.LVL8:
 199              	.L10:
 163:./libraries/drivers/src/at32f413_usb.c ****   }
 164:./libraries/drivers/src/at32f413_usb.c **** 
 165:./libraries/drivers/src/at32f413_usb.c ****   /* configure endpoint transfer type (control, bulk, interrupt, isochronous) */
 166:./libraries/drivers/src/at32f413_usb.c ****   USB_SET_TRANS_TYPE(ept_info->eptn, type);
 200              		.loc 1 166 3 is_stmt 1 view .LVU40
 201 0044 91F800C0 		ldrb	ip, [r1]	@ zero_extendqisi2
 202 0048 8448     		ldr	r0, .L40
 203 004a 50F82C30 		ldr	r3, [r0, ip, lsl #2]
 204 004e 23F4EC43 		bic	r3, r3, #30208
 205 0052 23F07003 		bic	r3, r3, #112
 206 0056 1B04     		lsls	r3, r3, #16
 207 0058 1B0C     		lsrs	r3, r3, #16
 208 005a 1343     		orrs	r3, r3, r2
 209 005c 40F82C30 		str	r3, [r0, ip, lsl #2]
 167:./libraries/drivers/src/at32f413_usb.c **** 
 168:./libraries/drivers/src/at32f413_usb.c ****   /* endpoint is in transfer */
 169:./libraries/drivers/src/at32f413_usb.c ****   if(ept_info->inout == DATA_TRANS_IN)
 210              		.loc 1 169 3 view .LVU41
 211              		.loc 1 169 14 is_stmt 0 view .LVU42
 212 0060 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 213              		.loc 1 169 5 view .LVU43
 214 0062 012B     		cmp	r3, #1
 215 0064 51D0     		beq	.L39
 170:./libraries/drivers/src/at32f413_usb.c ****   {
 171:./libraries/drivers/src/at32f413_usb.c ****       if(ept_info->is_double_buffer == 0)
 172:./libraries/drivers/src/at32f413_usb.c ****       {
 173:./libraries/drivers/src/at32f413_usb.c ****         /* set in endpoint tx offset address */
 174:./libraries/drivers/src/at32f413_usb.c ****         USB_SET_TX_ADDRESS(ept_info->eptn, ept_info->tx_addr);
 175:./libraries/drivers/src/at32f413_usb.c **** 
 176:./libraries/drivers/src/at32f413_usb.c ****         /* clear in endpoint data toggle */
 177:./libraries/drivers/src/at32f413_usb.c ****         USB_CLEAR_TXDTS(ept_info->eptn);
 178:./libraries/drivers/src/at32f413_usb.c **** 
 179:./libraries/drivers/src/at32f413_usb.c ****         /* set endpoint transmission status: nak */
 180:./libraries/drivers/src/at32f413_usb.c ****         USB_SET_TXSTS(ept_info->eptn, USB_TX_NAK);
 181:./libraries/drivers/src/at32f413_usb.c ****       }
 182:./libraries/drivers/src/at32f413_usb.c ****       else
 183:./libraries/drivers/src/at32f413_usb.c ****       {
 184:./libraries/drivers/src/at32f413_usb.c ****         /* set double buffer endpoint*/
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 8


 185:./libraries/drivers/src/at32f413_usb.c ****         USB_SET_EPT_DOUBLE_BUFFER(ept_info->eptn);
 186:./libraries/drivers/src/at32f413_usb.c **** 
 187:./libraries/drivers/src/at32f413_usb.c ****         /* set in endpoint offset address0 and address1 */
 188:./libraries/drivers/src/at32f413_usb.c ****         USB_SET_DOUBLE_BUFF0_ADDRESS(ept_info->eptn, ept_info->tx_addr);
 189:./libraries/drivers/src/at32f413_usb.c ****         USB_SET_DOUBLE_BUFF1_ADDRESS(ept_info->eptn, ept_info->rx_addr);
 190:./libraries/drivers/src/at32f413_usb.c **** 
 191:./libraries/drivers/src/at32f413_usb.c ****         /* clear in and out data toggle */
 192:./libraries/drivers/src/at32f413_usb.c ****         USB_CLEAR_TXDTS(ept_info->eptn);
 193:./libraries/drivers/src/at32f413_usb.c ****         USB_CLEAR_RXDTS(ept_info->eptn);
 194:./libraries/drivers/src/at32f413_usb.c **** 
 195:./libraries/drivers/src/at32f413_usb.c ****         /* toggle rx data toggle flag */
 196:./libraries/drivers/src/at32f413_usb.c ****         USB_TOGGLE_RXDTS(ept_info->eptn);
 197:./libraries/drivers/src/at32f413_usb.c **** 
 198:./libraries/drivers/src/at32f413_usb.c ****         /* set endpoint reception status: disable */
 199:./libraries/drivers/src/at32f413_usb.c ****         USB_SET_RXSTS(ept_info->eptn, USB_RX_DISABLE);
 200:./libraries/drivers/src/at32f413_usb.c **** 
 201:./libraries/drivers/src/at32f413_usb.c ****         /* set endpoint transmision status: nak */
 202:./libraries/drivers/src/at32f413_usb.c ****         USB_SET_TXSTS(ept_info->eptn, USB_TX_NAK);
 203:./libraries/drivers/src/at32f413_usb.c ****       }
 204:./libraries/drivers/src/at32f413_usb.c ****   }
 205:./libraries/drivers/src/at32f413_usb.c ****   else
 206:./libraries/drivers/src/at32f413_usb.c ****   {
 207:./libraries/drivers/src/at32f413_usb.c ****     if(ept_info->is_double_buffer == 0)
 216              		.loc 1 207 5 is_stmt 1 view .LVU44
 217              		.loc 1 207 16 is_stmt 0 view .LVU45
 218 0066 8B7A     		ldrb	r3, [r1, #10]	@ zero_extendqisi2
 219              		.loc 1 207 7 view .LVU46
 220 0068 002B     		cmp	r3, #0
 221 006a 40F0FB80 		bne	.L17
 208:./libraries/drivers/src/at32f413_usb.c ****     {
 209:./libraries/drivers/src/at32f413_usb.c ****       /* set out endpoint rx offset address */
 210:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_RX_ADDRESS(ept_info->eptn, ept_info->rx_addr);
 222              		.loc 1 210 7 is_stmt 1 view .LVU47
 223 006e 7B48     		ldr	r0, .L40
 224 0070 036D     		ldr	r3, [r0, #80]
 225 0072 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 226              	.LVL9:
 227              		.loc 1 210 7 is_stmt 0 view .LVU48
 228 0074 03EBC203 		add	r3, r3, r2, lsl #3
 229 0078 0433     		adds	r3, r3, #4
 230 007a 794A     		ldr	r2, .L40+4
 231 007c 1268     		ldr	r2, [r2]
 232 007e CC88     		ldrh	r4, [r1, #6]
 233 0080 42F81340 		str	r4, [r2, r3, lsl #1]
 211:./libraries/drivers/src/at32f413_usb.c **** 
 212:./libraries/drivers/src/at32f413_usb.c ****       /* clear out endpoint data toggle */
 213:./libraries/drivers/src/at32f413_usb.c ****       USB_CLEAR_RXDTS(ept_info->eptn);
 234              		.loc 1 213 7 is_stmt 1 view .LVU49
 235 0084 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 236 0086 50F82230 		ldr	r3, [r0, r2, lsl #2]
 237 008a 13F4804F 		tst	r3, #16384
 238 008e 0BD0     		beq	.L18
 239              		.loc 1 213 7 discriminator 1 view .LVU50
 240 0090 50F82230 		ldr	r3, [r0, r2, lsl #2]
 241 0094 23F0F003 		bic	r3, r3, #240
 242 0098 1B05     		lsls	r3, r3, #20
 243 009a 1B0D     		lsrs	r3, r3, #20
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 9


 244 009c 43F44043 		orr	r3, r3, #49152
 245 00a0 43F08003 		orr	r3, r3, #128
 246 00a4 40F82230 		str	r3, [r0, r2, lsl #2]
 247              	.L18:
 248              		.loc 1 213 38 discriminator 3 view .LVU51
 249              	.LBB2:
 214:./libraries/drivers/src/at32f413_usb.c **** 
 215:./libraries/drivers/src/at32f413_usb.c ****       /* set out endpoint max reception buffer size */
 216:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_RXLEN(ept_info->eptn, ept_info->maxpacket);
 250              		.loc 1 216 7 discriminator 3 view .LVU52
 251 00a8 6C4B     		ldr	r3, .L40
 252 00aa 1B6D     		ldr	r3, [r3, #80]
 253 00ac 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 254 00ae 03EBC203 		add	r3, r3, r2, lsl #3
 255 00b2 0633     		adds	r3, r3, #6
 256 00b4 6A4A     		ldr	r2, .L40+4
 257 00b6 1468     		ldr	r4, [r2]
 258              	.LVL10:
 259              	.LBB3:
 260              		.loc 1 216 7 discriminator 3 view .LVU53
 261              		.loc 1 216 7 discriminator 3 view .LVU54
 262 00b8 0889     		ldrh	r0, [r1, #8]
 263 00ba 3E28     		cmp	r0, #62
 264 00bc 40F2C380 		bls	.L19
 265              		.loc 1 216 7 discriminator 1 view .LVU55
 266 00c0 4209     		lsrs	r2, r0, #5
 267              	.LVL11:
 268              		.loc 1 216 7 discriminator 1 view .LVU56
 269 00c2 10F01F0F 		tst	r0, #31
 270 00c6 01D1     		bne	.L20
 271              		.loc 1 216 7 discriminator 3 view .LVU57
 272 00c8 013A     		subs	r2, r2, #1
 273              	.LVL12:
 274              		.loc 1 216 7 is_stmt 0 discriminator 3 view .LVU58
 275 00ca 92B2     		uxth	r2, r2
 276              	.LVL13:
 277              	.L20:
 278              		.loc 1 216 7 is_stmt 1 discriminator 5 view .LVU59
 279 00cc 6FEAC262 		mvn	r2, r2, lsl #27
 280              	.LVL14:
 281              		.loc 1 216 7 is_stmt 0 discriminator 5 view .LVU60
 282 00d0 6FEA5242 		mvn	r2, r2, lsr #17
 283 00d4 92B2     		uxth	r2, r2
 284 00d6 44F81320 		str	r2, [r4, r3, lsl #1]
 285              		.loc 1 216 7 is_stmt 1 discriminator 5 view .LVU61
 286              	.L21:
 287              		.loc 1 216 7 discriminator 10 view .LVU62
 288              	.LBE3:
 289              		.loc 1 216 7 discriminator 10 view .LVU63
 290              	.LBE2:
 291              		.loc 1 216 57 discriminator 10 view .LVU64
 292              	.LBB5:
 217:./libraries/drivers/src/at32f413_usb.c **** 
 218:./libraries/drivers/src/at32f413_usb.c ****       /* set endpoint reception status: valid */
 219:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_RXSTS(ept_info->eptn, USB_RX_VALID);
 293              		.loc 1 219 7 discriminator 10 view .LVU65
 294 00da 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 10


 295              	.LVL15:
 296              		.loc 1 219 7 is_stmt 0 discriminator 10 view .LVU66
 297 00dc 5F4A     		ldr	r2, .L40
 298 00de 52F82130 		ldr	r3, [r2, r1, lsl #2]
 299              	.LVL16:
 300              		.loc 1 219 7 discriminator 10 view .LVU67
 301 00e2 9BB2     		uxth	r3, r3
 302 00e4 23F48043 		bic	r3, r3, #16384
 303 00e8 23F07003 		bic	r3, r3, #112
 304              	.LVL17:
 305              		.loc 1 219 7 is_stmt 1 discriminator 10 view .LVU68
 306              		.loc 1 219 7 discriminator 10 view .LVU69
 307              		.loc 1 219 7 discriminator 10 view .LVU70
 308              		.loc 1 219 7 discriminator 10 view .LVU71
 309 00ec 83F44053 		eor	r3, r3, #12288
 310              	.LVL18:
 311              		.loc 1 219 7 discriminator 10 view .LVU72
 312 00f0 43F40043 		orr	r3, r3, #32768
 313              	.LVL19:
 314              		.loc 1 219 7 is_stmt 0 discriminator 10 view .LVU73
 315 00f4 43F08003 		orr	r3, r3, #128
 316 00f8 42F82130 		str	r3, [r2, r1, lsl #2]
 317              	.LBE5:
 318              		.loc 1 219 50 is_stmt 1 discriminator 10 view .LVU74
 319              	.L9:
 220:./libraries/drivers/src/at32f413_usb.c ****     }
 221:./libraries/drivers/src/at32f413_usb.c ****     else
 222:./libraries/drivers/src/at32f413_usb.c ****     {
 223:./libraries/drivers/src/at32f413_usb.c ****       /* set double buffer endpoint */
 224:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_EPT_DOUBLE_BUFFER(ept_info->eptn);
 225:./libraries/drivers/src/at32f413_usb.c **** 
 226:./libraries/drivers/src/at32f413_usb.c ****       /* set out endpoint offset address0 and address1 */
 227:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_DOUBLE_BUFF0_ADDRESS(ept_info->eptn, ept_info->tx_addr);
 228:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_DOUBLE_BUFF1_ADDRESS(ept_info->eptn, ept_info->rx_addr);
 229:./libraries/drivers/src/at32f413_usb.c **** 
 230:./libraries/drivers/src/at32f413_usb.c ****       /* set out endpoint max reception buffer size */
 231:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_EPT_DOUBLE_BUF0_LEN(ept_info->eptn, ept_info->maxpacket, DATA_TRANS_OUT);
 232:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_EPT_DOUBLE_BUF1_LEN(ept_info->eptn, ept_info->maxpacket, DATA_TRANS_OUT);
 233:./libraries/drivers/src/at32f413_usb.c **** 
 234:./libraries/drivers/src/at32f413_usb.c ****       /* clear in and out data toggle */
 235:./libraries/drivers/src/at32f413_usb.c ****       USB_CLEAR_TXDTS(ept_info->eptn);
 236:./libraries/drivers/src/at32f413_usb.c ****       USB_CLEAR_RXDTS(ept_info->eptn);
 237:./libraries/drivers/src/at32f413_usb.c **** 
 238:./libraries/drivers/src/at32f413_usb.c ****       /* toggle tx data toggle flag */
 239:./libraries/drivers/src/at32f413_usb.c ****       USB_TOGGLE_TXDTS(ept_info->eptn);
 240:./libraries/drivers/src/at32f413_usb.c **** 
 241:./libraries/drivers/src/at32f413_usb.c ****       /* set endpoint reception status: valid */
 242:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_RXSTS(ept_info->eptn, USB_RX_VALID);
 243:./libraries/drivers/src/at32f413_usb.c **** 
 244:./libraries/drivers/src/at32f413_usb.c ****       /* set endpoint transmision status: disable */
 245:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_TXSTS(ept_info->eptn, USB_TX_DISABLE);
 246:./libraries/drivers/src/at32f413_usb.c ****     }
 247:./libraries/drivers/src/at32f413_usb.c ****   }
 248:./libraries/drivers/src/at32f413_usb.c **** }
 320              		.loc 1 248 1 is_stmt 0 view .LVU75
 321 00fc 30BC     		pop	{r4, r5}
 322              	.LCFI1:
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 11


 323              		.cfi_remember_state
 324              		.cfi_restore 5
 325              		.cfi_restore 4
 326              		.cfi_def_cfa_offset 0
 327 00fe 7047     		bx	lr
 328              	.LVL20:
 329              	.L34:
 330              	.LCFI2:
 331              		.cfi_restore_state
 153:./libraries/drivers/src/at32f413_usb.c ****   }
 332              		.loc 1 153 10 view .LVU76
 333 0100 0022     		movs	r2, #0
 334 0102 9FE7     		b	.L10
 335              	.L35:
 157:./libraries/drivers/src/at32f413_usb.c ****   }
 336              		.loc 1 157 10 view .LVU77
 337 0104 4FF4C062 		mov	r2, #1536
 338 0108 9CE7     		b	.L10
 339              	.LVL21:
 340              	.L39:
 171:./libraries/drivers/src/at32f413_usb.c ****       {
 341              		.loc 1 171 7 is_stmt 1 view .LVU78
 171:./libraries/drivers/src/at32f413_usb.c ****       {
 342              		.loc 1 171 18 is_stmt 0 view .LVU79
 343 010a 8B7A     		ldrb	r3, [r1, #10]	@ zero_extendqisi2
 171:./libraries/drivers/src/at32f413_usb.c ****       {
 344              		.loc 1 171 9 view .LVU80
 345 010c 63BB     		cbnz	r3, .L12
 174:./libraries/drivers/src/at32f413_usb.c **** 
 346              		.loc 1 174 9 is_stmt 1 view .LVU81
 347 010e 036D     		ldr	r3, [r0, #80]
 348 0110 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 349              	.LVL22:
 174:./libraries/drivers/src/at32f413_usb.c **** 
 350              		.loc 1 174 9 is_stmt 0 view .LVU82
 351 0112 03EBC203 		add	r3, r3, r2, lsl #3
 352 0116 524A     		ldr	r2, .L40+4
 353 0118 1268     		ldr	r2, [r2]
 354 011a 8C88     		ldrh	r4, [r1, #4]
 355 011c 42F81340 		str	r4, [r2, r3, lsl #1]
 177:./libraries/drivers/src/at32f413_usb.c **** 
 356              		.loc 1 177 9 is_stmt 1 view .LVU83
 357 0120 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 358 0122 50F82230 		ldr	r3, [r0, r2, lsl #2]
 359 0126 13F0400F 		tst	r3, #64
 360 012a 0BD0     		beq	.L13
 177:./libraries/drivers/src/at32f413_usb.c **** 
 361              		.loc 1 177 9 discriminator 1 view .LVU84
 362 012c 50F82230 		ldr	r3, [r0, r2, lsl #2]
 363 0130 23F0F003 		bic	r3, r3, #240
 364 0134 1B05     		lsls	r3, r3, #20
 365 0136 1B0D     		lsrs	r3, r3, #20
 366 0138 43F40043 		orr	r3, r3, #32768
 367 013c 43F0C003 		orr	r3, r3, #192
 368 0140 40F82230 		str	r3, [r0, r2, lsl #2]
 369              	.L13:
 177:./libraries/drivers/src/at32f413_usb.c **** 
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 12


 370              		.loc 1 177 40 discriminator 3 view .LVU85
 371              	.LBB6:
 180:./libraries/drivers/src/at32f413_usb.c ****       }
 372              		.loc 1 180 9 discriminator 3 view .LVU86
 373 0144 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 374              	.LVL23:
 180:./libraries/drivers/src/at32f413_usb.c ****       }
 375              		.loc 1 180 9 is_stmt 0 discriminator 3 view .LVU87
 376 0146 454A     		ldr	r2, .L40
 377 0148 52F82130 		ldr	r3, [r2, r1, lsl #2]
 378 014c 9BB2     		uxth	r3, r3
 379 014e 23F4E043 		bic	r3, r3, #28672
 380 0152 23F04003 		bic	r3, r3, #64
 381              	.LVL24:
 180:./libraries/drivers/src/at32f413_usb.c ****       }
 382              		.loc 1 180 9 is_stmt 1 discriminator 3 view .LVU88
 180:./libraries/drivers/src/at32f413_usb.c ****       }
 383              		.loc 1 180 9 discriminator 3 view .LVU89
 180:./libraries/drivers/src/at32f413_usb.c ****       }
 384              		.loc 1 180 9 discriminator 3 view .LVU90
 385 0156 83F02003 		eor	r3, r3, #32
 386              	.LVL25:
 180:./libraries/drivers/src/at32f413_usb.c ****       }
 387              		.loc 1 180 9 discriminator 3 view .LVU91
 388 015a 43F40043 		orr	r3, r3, #32768
 389              	.LVL26:
 180:./libraries/drivers/src/at32f413_usb.c ****       }
 390              		.loc 1 180 9 is_stmt 0 discriminator 3 view .LVU92
 391 015e 43F08003 		orr	r3, r3, #128
 392 0162 42F82130 		str	r3, [r2, r1, lsl #2]
 393              	.LBE6:
 180:./libraries/drivers/src/at32f413_usb.c ****       }
 394              		.loc 1 180 50 is_stmt 1 discriminator 3 view .LVU93
 395 0166 C9E7     		b	.L9
 396              	.LVL27:
 397              	.L12:
 185:./libraries/drivers/src/at32f413_usb.c **** 
 398              		.loc 1 185 9 view .LVU94
 399 0168 0878     		ldrb	r0, [r1]	@ zero_extendqisi2
 400 016a 3C4A     		ldr	r2, .L40
 401              	.LVL28:
 185:./libraries/drivers/src/at32f413_usb.c **** 
 402              		.loc 1 185 9 is_stmt 0 view .LVU95
 403 016c 52F82030 		ldr	r3, [r2, r0, lsl #2]
 404 0170 23F4F873 		bic	r3, r3, #496
 405 0174 1B05     		lsls	r3, r3, #20
 406 0176 1B0D     		lsrs	r3, r3, #20
 407 0178 43F40143 		orr	r3, r3, #33024
 408 017c 43F08003 		orr	r3, r3, #128
 409 0180 42F82030 		str	r3, [r2, r0, lsl #2]
 188:./libraries/drivers/src/at32f413_usb.c ****         USB_SET_DOUBLE_BUFF1_ADDRESS(ept_info->eptn, ept_info->rx_addr);
 410              		.loc 1 188 9 is_stmt 1 view .LVU96
 411 0184 136D     		ldr	r3, [r2, #80]
 412 0186 0878     		ldrb	r0, [r1]	@ zero_extendqisi2
 413 0188 03EBC003 		add	r3, r3, r0, lsl #3
 414 018c 3448     		ldr	r0, .L40+4
 415 018e 0468     		ldr	r4, [r0]
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 13


 416 0190 8D88     		ldrh	r5, [r1, #4]
 417 0192 44F81350 		str	r5, [r4, r3, lsl #1]
 189:./libraries/drivers/src/at32f413_usb.c **** 
 418              		.loc 1 189 9 view .LVU97
 419 0196 136D     		ldr	r3, [r2, #80]
 420 0198 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 421 019a 03EBC403 		add	r3, r3, r4, lsl #3
 422 019e 0433     		adds	r3, r3, #4
 423 01a0 0068     		ldr	r0, [r0]
 424 01a2 CC88     		ldrh	r4, [r1, #6]
 425 01a4 40F81340 		str	r4, [r0, r3, lsl #1]
 192:./libraries/drivers/src/at32f413_usb.c ****         USB_CLEAR_RXDTS(ept_info->eptn);
 426              		.loc 1 192 9 view .LVU98
 427 01a8 0878     		ldrb	r0, [r1]	@ zero_extendqisi2
 428 01aa 52F82030 		ldr	r3, [r2, r0, lsl #2]
 429 01ae 13F0400F 		tst	r3, #64
 430 01b2 0BD0     		beq	.L15
 192:./libraries/drivers/src/at32f413_usb.c ****         USB_CLEAR_RXDTS(ept_info->eptn);
 431              		.loc 1 192 9 discriminator 1 view .LVU99
 432 01b4 52F82030 		ldr	r3, [r2, r0, lsl #2]
 433 01b8 23F0F003 		bic	r3, r3, #240
 434 01bc 1B05     		lsls	r3, r3, #20
 435 01be 1B0D     		lsrs	r3, r3, #20
 436 01c0 43F40043 		orr	r3, r3, #32768
 437 01c4 43F0C003 		orr	r3, r3, #192
 438 01c8 42F82030 		str	r3, [r2, r0, lsl #2]
 439              	.L15:
 192:./libraries/drivers/src/at32f413_usb.c ****         USB_CLEAR_RXDTS(ept_info->eptn);
 440              		.loc 1 192 40 discriminator 3 view .LVU100
 193:./libraries/drivers/src/at32f413_usb.c **** 
 441              		.loc 1 193 9 discriminator 3 view .LVU101
 442 01cc 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 443 01ce 234B     		ldr	r3, .L40
 444 01d0 53F82230 		ldr	r3, [r3, r2, lsl #2]
 445 01d4 13F4804F 		tst	r3, #16384
 446 01d8 0CD0     		beq	.L16
 193:./libraries/drivers/src/at32f413_usb.c **** 
 447              		.loc 1 193 9 discriminator 1 view .LVU102
 448 01da 2048     		ldr	r0, .L40
 449 01dc 50F82230 		ldr	r3, [r0, r2, lsl #2]
 450 01e0 23F0F003 		bic	r3, r3, #240
 451 01e4 1B05     		lsls	r3, r3, #20
 452 01e6 1B0D     		lsrs	r3, r3, #20
 453 01e8 43F44043 		orr	r3, r3, #49152
 454 01ec 43F08003 		orr	r3, r3, #128
 455 01f0 40F82230 		str	r3, [r0, r2, lsl #2]
 456              	.L16:
 193:./libraries/drivers/src/at32f413_usb.c **** 
 457              		.loc 1 193 40 discriminator 3 view .LVU103
 196:./libraries/drivers/src/at32f413_usb.c **** 
 458              		.loc 1 196 9 discriminator 3 view .LVU104
 459 01f4 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 460 01f6 1948     		ldr	r0, .L40
 461 01f8 50F82230 		ldr	r3, [r0, r2, lsl #2]
 462 01fc 23F0F003 		bic	r3, r3, #240
 463 0200 1B05     		lsls	r3, r3, #20
 464 0202 1B0D     		lsrs	r3, r3, #20
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 14


 465 0204 43F44043 		orr	r3, r3, #49152
 466 0208 43F08003 		orr	r3, r3, #128
 467 020c 40F82230 		str	r3, [r0, r2, lsl #2]
 468              	.LBB7:
 199:./libraries/drivers/src/at32f413_usb.c **** 
 469              		.loc 1 199 9 discriminator 3 view .LVU105
 470 0210 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 471 0212 50F82320 		ldr	r2, [r0, r3, lsl #2]
 472 0216 92B2     		uxth	r2, r2
 473 0218 22F48042 		bic	r2, r2, #16384
 474 021c 22F07002 		bic	r2, r2, #112
 475              	.LVL29:
 199:./libraries/drivers/src/at32f413_usb.c **** 
 476              		.loc 1 199 9 discriminator 3 view .LVU106
 199:./libraries/drivers/src/at32f413_usb.c **** 
 477              		.loc 1 199 9 discriminator 3 view .LVU107
 199:./libraries/drivers/src/at32f413_usb.c **** 
 478              		.loc 1 199 9 discriminator 3 view .LVU108
 479 0220 48F28004 		movw	r4, #32896
 480 0224 2243     		orrs	r2, r2, r4
 481              	.LVL30:
 199:./libraries/drivers/src/at32f413_usb.c **** 
 482              		.loc 1 199 9 is_stmt 0 discriminator 3 view .LVU109
 483 0226 40F82320 		str	r2, [r0, r3, lsl #2]
 484              	.LBE7:
 199:./libraries/drivers/src/at32f413_usb.c **** 
 485              		.loc 1 199 54 is_stmt 1 discriminator 3 view .LVU110
 486              	.LBB8:
 202:./libraries/drivers/src/at32f413_usb.c ****       }
 487              		.loc 1 202 9 discriminator 3 view .LVU111
 488 022a 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 489 022c 50F82230 		ldr	r3, [r0, r2, lsl #2]
 490 0230 9BB2     		uxth	r3, r3
 491 0232 23F4E043 		bic	r3, r3, #28672
 492 0236 23F04003 		bic	r3, r3, #64
 493              	.LVL31:
 202:./libraries/drivers/src/at32f413_usb.c ****       }
 494              		.loc 1 202 9 discriminator 3 view .LVU112
 202:./libraries/drivers/src/at32f413_usb.c ****       }
 495              		.loc 1 202 9 discriminator 3 view .LVU113
 202:./libraries/drivers/src/at32f413_usb.c ****       }
 496              		.loc 1 202 9 discriminator 3 view .LVU114
 497 023a 83F02003 		eor	r3, r3, #32
 498              	.LVL32:
 202:./libraries/drivers/src/at32f413_usb.c ****       }
 499              		.loc 1 202 9 discriminator 3 view .LVU115
 500 023e 2343     		orrs	r3, r3, r4
 501              	.LVL33:
 202:./libraries/drivers/src/at32f413_usb.c ****       }
 502              		.loc 1 202 9 is_stmt 0 discriminator 3 view .LVU116
 503 0240 40F82230 		str	r3, [r0, r2, lsl #2]
 504 0244 5AE7     		b	.L9
 505              	.LVL34:
 506              	.L19:
 202:./libraries/drivers/src/at32f413_usb.c ****       }
 507              		.loc 1 202 9 discriminator 3 view .LVU117
 508              	.LBE8:
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 15


 509              	.LBB9:
 510              	.LBB4:
 216:./libraries/drivers/src/at32f413_usb.c **** 
 511              		.loc 1 216 7 is_stmt 1 discriminator 2 view .LVU118
 512 0246 4208     		lsrs	r2, r0, #1
 513              	.LVL35:
 216:./libraries/drivers/src/at32f413_usb.c **** 
 514              		.loc 1 216 7 discriminator 2 view .LVU119
 515 0248 10F0010F 		tst	r0, #1
 516 024c 00D1     		bne	.L22
 216:./libraries/drivers/src/at32f413_usb.c **** 
 517              		.loc 1 216 7 discriminator 7 view .LVU120
 518 024e 0132     		adds	r2, r2, #1
 519              	.LVL36:
 520              	.L22:
 216:./libraries/drivers/src/at32f413_usb.c **** 
 521              		.loc 1 216 7 discriminator 9 view .LVU121
 522 0250 9202     		lsls	r2, r2, #10
 523              	.LVL37:
 216:./libraries/drivers/src/at32f413_usb.c **** 
 524              		.loc 1 216 7 is_stmt 0 discriminator 9 view .LVU122
 525 0252 92B2     		uxth	r2, r2
 526 0254 44F81320 		str	r2, [r4, r3, lsl #1]
 527 0258 3FE7     		b	.L21
 528              	.L41:
 529 025a 00BF     		.align	2
 530              	.L40:
 531 025c 005C0040 		.word	1073765376
 532 0260 00000000 		.word	.LANCHOR0
 533              	.LVL38:
 534              	.L17:
 216:./libraries/drivers/src/at32f413_usb.c **** 
 535              		.loc 1 216 7 discriminator 9 view .LVU123
 536              	.LBE4:
 537              	.LBE9:
 224:./libraries/drivers/src/at32f413_usb.c **** 
 538              		.loc 1 224 7 is_stmt 1 view .LVU124
 539 0264 0878     		ldrb	r0, [r1]	@ zero_extendqisi2
 540 0266 594A     		ldr	r2, .L42
 541              	.LVL39:
 224:./libraries/drivers/src/at32f413_usb.c **** 
 542              		.loc 1 224 7 is_stmt 0 view .LVU125
 543 0268 52F82030 		ldr	r3, [r2, r0, lsl #2]
 544 026c 23F4F873 		bic	r3, r3, #496
 545 0270 1B05     		lsls	r3, r3, #20
 546 0272 1B0D     		lsrs	r3, r3, #20
 547 0274 43F40143 		orr	r3, r3, #33024
 548 0278 43F08003 		orr	r3, r3, #128
 549 027c 42F82030 		str	r3, [r2, r0, lsl #2]
 227:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_DOUBLE_BUFF1_ADDRESS(ept_info->eptn, ept_info->rx_addr);
 550              		.loc 1 227 7 is_stmt 1 view .LVU126
 551 0280 136D     		ldr	r3, [r2, #80]
 552 0282 0878     		ldrb	r0, [r1]	@ zero_extendqisi2
 553 0284 03EBC003 		add	r3, r3, r0, lsl #3
 554 0288 5148     		ldr	r0, .L42+4
 555 028a 0468     		ldr	r4, [r0]
 556 028c 8D88     		ldrh	r5, [r1, #4]
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 16


 557 028e 44F81350 		str	r5, [r4, r3, lsl #1]
 228:./libraries/drivers/src/at32f413_usb.c **** 
 558              		.loc 1 228 7 view .LVU127
 559 0292 136D     		ldr	r3, [r2, #80]
 560 0294 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 561 0296 03EBC403 		add	r3, r3, r4, lsl #3
 562 029a 0433     		adds	r3, r3, #4
 563 029c 0468     		ldr	r4, [r0]
 564 029e CD88     		ldrh	r5, [r1, #6]
 565 02a0 44F81350 		str	r5, [r4, r3, lsl #1]
 231:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_EPT_DOUBLE_BUF1_LEN(ept_info->eptn, ept_info->maxpacket, DATA_TRANS_OUT);
 566              		.loc 1 231 7 view .LVU128
 567              	.LBB10:
 231:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_EPT_DOUBLE_BUF1_LEN(ept_info->eptn, ept_info->maxpacket, DATA_TRANS_OUT);
 568              		.loc 1 231 7 view .LVU129
 569 02a4 136D     		ldr	r3, [r2, #80]
 570 02a6 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 571 02a8 03EBC203 		add	r3, r3, r2, lsl #3
 572 02ac 0233     		adds	r3, r3, #2
 573 02ae 0468     		ldr	r4, [r0]
 574              	.LVL40:
 575              	.LBB11:
 231:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_EPT_DOUBLE_BUF1_LEN(ept_info->eptn, ept_info->maxpacket, DATA_TRANS_OUT);
 576              		.loc 1 231 7 view .LVU130
 231:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_EPT_DOUBLE_BUF1_LEN(ept_info->eptn, ept_info->maxpacket, DATA_TRANS_OUT);
 577              		.loc 1 231 7 view .LVU131
 578 02b0 0889     		ldrh	r0, [r1, #8]
 579 02b2 3E28     		cmp	r0, #62
 580 02b4 76D9     		bls	.L23
 231:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_EPT_DOUBLE_BUF1_LEN(ept_info->eptn, ept_info->maxpacket, DATA_TRANS_OUT);
 581              		.loc 1 231 7 discriminator 3 view .LVU132
 582 02b6 4209     		lsrs	r2, r0, #5
 583              	.LVL41:
 231:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_EPT_DOUBLE_BUF1_LEN(ept_info->eptn, ept_info->maxpacket, DATA_TRANS_OUT);
 584              		.loc 1 231 7 discriminator 3 view .LVU133
 585 02b8 10F01F0F 		tst	r0, #31
 586 02bc 01D1     		bne	.L24
 231:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_EPT_DOUBLE_BUF1_LEN(ept_info->eptn, ept_info->maxpacket, DATA_TRANS_OUT);
 587              		.loc 1 231 7 discriminator 5 view .LVU134
 588 02be 013A     		subs	r2, r2, #1
 589              	.LVL42:
 231:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_EPT_DOUBLE_BUF1_LEN(ept_info->eptn, ept_info->maxpacket, DATA_TRANS_OUT);
 590              		.loc 1 231 7 is_stmt 0 discriminator 5 view .LVU135
 591 02c0 92B2     		uxth	r2, r2
 592              	.LVL43:
 593              	.L24:
 231:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_EPT_DOUBLE_BUF1_LEN(ept_info->eptn, ept_info->maxpacket, DATA_TRANS_OUT);
 594              		.loc 1 231 7 is_stmt 1 discriminator 7 view .LVU136
 595 02c2 6FEAC262 		mvn	r2, r2, lsl #27
 596              	.LVL44:
 231:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_EPT_DOUBLE_BUF1_LEN(ept_info->eptn, ept_info->maxpacket, DATA_TRANS_OUT);
 597              		.loc 1 231 7 is_stmt 0 discriminator 7 view .LVU137
 598 02c6 6FEA5242 		mvn	r2, r2, lsr #17
 599 02ca 92B2     		uxth	r2, r2
 600 02cc 44F81320 		str	r2, [r4, r3, lsl #1]
 231:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_EPT_DOUBLE_BUF1_LEN(ept_info->eptn, ept_info->maxpacket, DATA_TRANS_OUT);
 601              		.loc 1 231 7 is_stmt 1 discriminator 7 view .LVU138
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 17


 602              	.L25:
 231:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_EPT_DOUBLE_BUF1_LEN(ept_info->eptn, ept_info->maxpacket, DATA_TRANS_OUT);
 603              		.loc 1 231 7 discriminator 1 view .LVU139
 604              	.LBE11:
 231:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_EPT_DOUBLE_BUF1_LEN(ept_info->eptn, ept_info->maxpacket, DATA_TRANS_OUT);
 605              		.loc 1 231 7 discriminator 1 view .LVU140
 606              	.LBE10:
 231:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_EPT_DOUBLE_BUF1_LEN(ept_info->eptn, ept_info->maxpacket, DATA_TRANS_OUT);
 607              		.loc 1 231 7 discriminator 1 view .LVU141
 231:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_EPT_DOUBLE_BUF1_LEN(ept_info->eptn, ept_info->maxpacket, DATA_TRANS_OUT);
 608              		.loc 1 231 87 discriminator 1 view .LVU142
 232:./libraries/drivers/src/at32f413_usb.c **** 
 609              		.loc 1 232 7 discriminator 1 view .LVU143
 610              	.LBB13:
 232:./libraries/drivers/src/at32f413_usb.c **** 
 611              		.loc 1 232 7 discriminator 1 view .LVU144
 612 02d0 3E4B     		ldr	r3, .L42
 613              	.LVL45:
 232:./libraries/drivers/src/at32f413_usb.c **** 
 614              		.loc 1 232 7 is_stmt 0 discriminator 1 view .LVU145
 615 02d2 1B6D     		ldr	r3, [r3, #80]
 616 02d4 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 617 02d6 03EBC203 		add	r3, r3, r2, lsl #3
 618 02da 0633     		adds	r3, r3, #6
 619 02dc 3C4A     		ldr	r2, .L42+4
 620 02de 1468     		ldr	r4, [r2]
 621              	.LVL46:
 622              	.LBB14:
 232:./libraries/drivers/src/at32f413_usb.c **** 
 623              		.loc 1 232 7 is_stmt 1 discriminator 1 view .LVU146
 232:./libraries/drivers/src/at32f413_usb.c **** 
 624              		.loc 1 232 7 discriminator 1 view .LVU147
 625 02e0 0889     		ldrh	r0, [r1, #8]
 626 02e2 3E28     		cmp	r0, #62
 627 02e4 68D9     		bls	.L27
 232:./libraries/drivers/src/at32f413_usb.c **** 
 628              		.loc 1 232 7 discriminator 3 view .LVU148
 629 02e6 4209     		lsrs	r2, r0, #5
 630              	.LVL47:
 232:./libraries/drivers/src/at32f413_usb.c **** 
 631              		.loc 1 232 7 discriminator 3 view .LVU149
 632 02e8 10F01F0F 		tst	r0, #31
 633 02ec 01D1     		bne	.L28
 232:./libraries/drivers/src/at32f413_usb.c **** 
 634              		.loc 1 232 7 discriminator 5 view .LVU150
 635 02ee 013A     		subs	r2, r2, #1
 636              	.LVL48:
 232:./libraries/drivers/src/at32f413_usb.c **** 
 637              		.loc 1 232 7 is_stmt 0 discriminator 5 view .LVU151
 638 02f0 92B2     		uxth	r2, r2
 639              	.LVL49:
 640              	.L28:
 232:./libraries/drivers/src/at32f413_usb.c **** 
 641              		.loc 1 232 7 is_stmt 1 discriminator 7 view .LVU152
 642 02f2 6FEAC262 		mvn	r2, r2, lsl #27
 643              	.LVL50:
 232:./libraries/drivers/src/at32f413_usb.c **** 
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 18


 644              		.loc 1 232 7 is_stmt 0 discriminator 7 view .LVU153
 645 02f6 6FEA5242 		mvn	r2, r2, lsr #17
 646 02fa 92B2     		uxth	r2, r2
 647 02fc 44F81320 		str	r2, [r4, r3, lsl #1]
 232:./libraries/drivers/src/at32f413_usb.c **** 
 648              		.loc 1 232 7 is_stmt 1 discriminator 7 view .LVU154
 649              	.L29:
 232:./libraries/drivers/src/at32f413_usb.c **** 
 650              		.loc 1 232 7 discriminator 13 view .LVU155
 651              	.LBE14:
 232:./libraries/drivers/src/at32f413_usb.c **** 
 652              		.loc 1 232 7 discriminator 13 view .LVU156
 653              	.LBE13:
 232:./libraries/drivers/src/at32f413_usb.c **** 
 654              		.loc 1 232 7 discriminator 13 view .LVU157
 232:./libraries/drivers/src/at32f413_usb.c **** 
 655              		.loc 1 232 87 discriminator 13 view .LVU158
 235:./libraries/drivers/src/at32f413_usb.c ****       USB_CLEAR_RXDTS(ept_info->eptn);
 656              		.loc 1 235 7 discriminator 13 view .LVU159
 657 0300 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 658 0302 324B     		ldr	r3, .L42
 659              	.LVL51:
 235:./libraries/drivers/src/at32f413_usb.c ****       USB_CLEAR_RXDTS(ept_info->eptn);
 660              		.loc 1 235 7 is_stmt 0 discriminator 13 view .LVU160
 661 0304 53F82230 		ldr	r3, [r3, r2, lsl #2]
 662 0308 13F0400F 		tst	r3, #64
 663 030c 0CD0     		beq	.L31
 235:./libraries/drivers/src/at32f413_usb.c ****       USB_CLEAR_RXDTS(ept_info->eptn);
 664              		.loc 1 235 7 is_stmt 1 discriminator 1 view .LVU161
 665 030e 2F48     		ldr	r0, .L42
 666 0310 50F82230 		ldr	r3, [r0, r2, lsl #2]
 667 0314 23F0F003 		bic	r3, r3, #240
 668 0318 1B05     		lsls	r3, r3, #20
 669 031a 1B0D     		lsrs	r3, r3, #20
 670 031c 43F40043 		orr	r3, r3, #32768
 671 0320 43F0C003 		orr	r3, r3, #192
 672 0324 40F82230 		str	r3, [r0, r2, lsl #2]
 673              	.L31:
 235:./libraries/drivers/src/at32f413_usb.c ****       USB_CLEAR_RXDTS(ept_info->eptn);
 674              		.loc 1 235 38 discriminator 3 view .LVU162
 236:./libraries/drivers/src/at32f413_usb.c **** 
 675              		.loc 1 236 7 discriminator 3 view .LVU163
 676 0328 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 677 032a 284B     		ldr	r3, .L42
 678 032c 53F82230 		ldr	r3, [r3, r2, lsl #2]
 679 0330 13F4804F 		tst	r3, #16384
 680 0334 0CD0     		beq	.L32
 236:./libraries/drivers/src/at32f413_usb.c **** 
 681              		.loc 1 236 7 discriminator 1 view .LVU164
 682 0336 2548     		ldr	r0, .L42
 683 0338 50F82230 		ldr	r3, [r0, r2, lsl #2]
 684 033c 23F0F003 		bic	r3, r3, #240
 685 0340 1B05     		lsls	r3, r3, #20
 686 0342 1B0D     		lsrs	r3, r3, #20
 687 0344 43F44043 		orr	r3, r3, #49152
 688 0348 43F08003 		orr	r3, r3, #128
 689 034c 40F82230 		str	r3, [r0, r2, lsl #2]
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 19


 690              	.L32:
 236:./libraries/drivers/src/at32f413_usb.c **** 
 691              		.loc 1 236 38 discriminator 3 view .LVU165
 239:./libraries/drivers/src/at32f413_usb.c **** 
 692              		.loc 1 239 7 discriminator 3 view .LVU166
 693 0350 0878     		ldrb	r0, [r1]	@ zero_extendqisi2
 694 0352 1E4A     		ldr	r2, .L42
 695 0354 52F82030 		ldr	r3, [r2, r0, lsl #2]
 696 0358 23F0F003 		bic	r3, r3, #240
 697 035c 1B05     		lsls	r3, r3, #20
 698 035e 1B0D     		lsrs	r3, r3, #20
 699 0360 43F40043 		orr	r3, r3, #32768
 700 0364 43F0C003 		orr	r3, r3, #192
 701 0368 42F82030 		str	r3, [r2, r0, lsl #2]
 702              	.LBB16:
 242:./libraries/drivers/src/at32f413_usb.c **** 
 703              		.loc 1 242 7 discriminator 3 view .LVU167
 704 036c 91F800C0 		ldrb	ip, [r1]	@ zero_extendqisi2
 705 0370 52F82C30 		ldr	r3, [r2, ip, lsl #2]
 706 0374 9BB2     		uxth	r3, r3
 707 0376 23F48043 		bic	r3, r3, #16384
 708 037a 23F07003 		bic	r3, r3, #112
 709              	.LVL52:
 242:./libraries/drivers/src/at32f413_usb.c **** 
 710              		.loc 1 242 7 discriminator 3 view .LVU168
 242:./libraries/drivers/src/at32f413_usb.c **** 
 711              		.loc 1 242 7 discriminator 3 view .LVU169
 242:./libraries/drivers/src/at32f413_usb.c **** 
 712              		.loc 1 242 7 discriminator 3 view .LVU170
 242:./libraries/drivers/src/at32f413_usb.c **** 
 713              		.loc 1 242 7 discriminator 3 view .LVU171
 714 037e 83F44053 		eor	r3, r3, #12288
 715              	.LVL53:
 242:./libraries/drivers/src/at32f413_usb.c **** 
 716              		.loc 1 242 7 discriminator 3 view .LVU172
 717 0382 48F28000 		movw	r0, #32896
 718 0386 0343     		orrs	r3, r3, r0
 719              	.LVL54:
 242:./libraries/drivers/src/at32f413_usb.c **** 
 720              		.loc 1 242 7 is_stmt 0 discriminator 3 view .LVU173
 721 0388 42F82C30 		str	r3, [r2, ip, lsl #2]
 722              	.LBE16:
 242:./libraries/drivers/src/at32f413_usb.c **** 
 723              		.loc 1 242 50 is_stmt 1 discriminator 3 view .LVU174
 724              	.LBB17:
 245:./libraries/drivers/src/at32f413_usb.c ****     }
 725              		.loc 1 245 7 discriminator 3 view .LVU175
 726 038c 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 727              	.LVL55:
 245:./libraries/drivers/src/at32f413_usb.c ****     }
 728              		.loc 1 245 7 is_stmt 0 discriminator 3 view .LVU176
 729 038e 52F82130 		ldr	r3, [r2, r1, lsl #2]
 730 0392 9BB2     		uxth	r3, r3
 731 0394 23F4E043 		bic	r3, r3, #28672
 732 0398 23F04003 		bic	r3, r3, #64
 733              	.LVL56:
 245:./libraries/drivers/src/at32f413_usb.c ****     }
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 20


 734              		.loc 1 245 7 is_stmt 1 discriminator 3 view .LVU177
 245:./libraries/drivers/src/at32f413_usb.c ****     }
 735              		.loc 1 245 7 discriminator 3 view .LVU178
 245:./libraries/drivers/src/at32f413_usb.c ****     }
 736              		.loc 1 245 7 discriminator 3 view .LVU179
 737 039c 0343     		orrs	r3, r3, r0
 738              	.LVL57:
 245:./libraries/drivers/src/at32f413_usb.c ****     }
 739              		.loc 1 245 7 is_stmt 0 discriminator 3 view .LVU180
 740 039e 42F82130 		str	r3, [r2, r1, lsl #2]
 741              	.LBE17:
 245:./libraries/drivers/src/at32f413_usb.c ****     }
 742              		.loc 1 245 52 is_stmt 1 discriminator 3 view .LVU181
 743              		.loc 1 248 1 is_stmt 0 discriminator 3 view .LVU182
 744 03a2 ABE6     		b	.L9
 745              	.LVL58:
 746              	.L23:
 747              	.LBB18:
 748              	.LBB12:
 231:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_EPT_DOUBLE_BUF1_LEN(ept_info->eptn, ept_info->maxpacket, DATA_TRANS_OUT);
 749              		.loc 1 231 7 is_stmt 1 discriminator 4 view .LVU183
 750 03a4 4208     		lsrs	r2, r0, #1
 751              	.LVL59:
 231:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_EPT_DOUBLE_BUF1_LEN(ept_info->eptn, ept_info->maxpacket, DATA_TRANS_OUT);
 752              		.loc 1 231 7 discriminator 4 view .LVU184
 753 03a6 10F0010F 		tst	r0, #1
 754 03aa 00D1     		bne	.L26
 231:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_EPT_DOUBLE_BUF1_LEN(ept_info->eptn, ept_info->maxpacket, DATA_TRANS_OUT);
 755              		.loc 1 231 7 discriminator 9 view .LVU185
 756 03ac 0132     		adds	r2, r2, #1
 757              	.LVL60:
 758              	.L26:
 231:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_EPT_DOUBLE_BUF1_LEN(ept_info->eptn, ept_info->maxpacket, DATA_TRANS_OUT);
 759              		.loc 1 231 7 discriminator 11 view .LVU186
 760 03ae 9202     		lsls	r2, r2, #10
 761              	.LVL61:
 231:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_EPT_DOUBLE_BUF1_LEN(ept_info->eptn, ept_info->maxpacket, DATA_TRANS_OUT);
 762              		.loc 1 231 7 is_stmt 0 discriminator 11 view .LVU187
 763 03b0 92B2     		uxth	r2, r2
 764 03b2 44F81320 		str	r2, [r4, r3, lsl #1]
 765 03b6 8BE7     		b	.L25
 766              	.LVL62:
 767              	.L27:
 231:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_EPT_DOUBLE_BUF1_LEN(ept_info->eptn, ept_info->maxpacket, DATA_TRANS_OUT);
 768              		.loc 1 231 7 discriminator 11 view .LVU188
 769              	.LBE12:
 770              	.LBE18:
 771              	.LBB19:
 772              	.LBB15:
 232:./libraries/drivers/src/at32f413_usb.c **** 
 773              		.loc 1 232 7 is_stmt 1 discriminator 4 view .LVU189
 774 03b8 4208     		lsrs	r2, r0, #1
 775              	.LVL63:
 232:./libraries/drivers/src/at32f413_usb.c **** 
 776              		.loc 1 232 7 discriminator 4 view .LVU190
 777 03ba 10F0010F 		tst	r0, #1
 778 03be 00D1     		bne	.L30
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 21


 232:./libraries/drivers/src/at32f413_usb.c **** 
 779              		.loc 1 232 7 discriminator 9 view .LVU191
 780 03c0 0132     		adds	r2, r2, #1
 781              	.LVL64:
 782              	.L30:
 232:./libraries/drivers/src/at32f413_usb.c **** 
 783              		.loc 1 232 7 discriminator 11 view .LVU192
 784 03c2 9202     		lsls	r2, r2, #10
 785              	.LVL65:
 232:./libraries/drivers/src/at32f413_usb.c **** 
 786              		.loc 1 232 7 is_stmt 0 discriminator 11 view .LVU193
 787 03c4 92B2     		uxth	r2, r2
 788 03c6 44F81320 		str	r2, [r4, r3, lsl #1]
 789 03ca 99E7     		b	.L29
 790              	.L43:
 791              		.align	2
 792              	.L42:
 793 03cc 005C0040 		.word	1073765376
 794 03d0 00000000 		.word	.LANCHOR0
 795              	.LBE15:
 796              	.LBE19:
 797              		.cfi_endproc
 798              	.LFE137:
 800              		.section	.text.usb_ept_close,"ax",%progbits
 801              		.align	1
 802              		.global	usb_ept_close
 803              		.syntax unified
 804              		.thumb
 805              		.thumb_func
 806              		.fpu fpv4-sp-d16
 808              	usb_ept_close:
 809              	.LVL66:
 810              	.LFB138:
 249:./libraries/drivers/src/at32f413_usb.c **** 
 250:./libraries/drivers/src/at32f413_usb.c **** 
 251:./libraries/drivers/src/at32f413_usb.c **** /**
 252:./libraries/drivers/src/at32f413_usb.c ****   * @brief  close usb endpoint
 253:./libraries/drivers/src/at32f413_usb.c ****   * @param  usbx: to select the usb peripheral.
 254:./libraries/drivers/src/at32f413_usb.c ****   *         parameter as following values: USB
 255:./libraries/drivers/src/at32f413_usb.c ****   * @param  ept_info: endpoint information structure
 256:./libraries/drivers/src/at32f413_usb.c ****   * @retval none
 257:./libraries/drivers/src/at32f413_usb.c ****   */
 258:./libraries/drivers/src/at32f413_usb.c **** void usb_ept_close(usbd_type *usbx, usb_ept_info *ept_info)
 259:./libraries/drivers/src/at32f413_usb.c **** {
 811              		.loc 1 259 1 is_stmt 1 view -0
 812              		.cfi_startproc
 813              		@ args = 0, pretend = 0, frame = 0
 814              		@ frame_needed = 0, uses_anonymous_args = 0
 815              		@ link register save eliminated.
 260:./libraries/drivers/src/at32f413_usb.c ****   if(ept_info->is_double_buffer == 0)
 816              		.loc 1 260 3 view .LVU195
 817              		.loc 1 260 14 is_stmt 0 view .LVU196
 818 0000 8B7A     		ldrb	r3, [r1, #10]	@ zero_extendqisi2
 819              		.loc 1 260 5 view .LVU197
 820 0002 002B     		cmp	r3, #0
 821 0004 4AD1     		bne	.L45
 261:./libraries/drivers/src/at32f413_usb.c ****   {
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 22


 262:./libraries/drivers/src/at32f413_usb.c ****     if(ept_info->inout == DATA_TRANS_IN)
 822              		.loc 1 262 5 is_stmt 1 view .LVU198
 823              		.loc 1 262 16 is_stmt 0 view .LVU199
 824 0006 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 825              		.loc 1 262 7 view .LVU200
 826 0008 012B     		cmp	r3, #1
 827 000a 23D0     		beq	.L53
 263:./libraries/drivers/src/at32f413_usb.c ****     {
 264:./libraries/drivers/src/at32f413_usb.c ****       /*clear tx data toggle */
 265:./libraries/drivers/src/at32f413_usb.c ****       USB_CLEAR_TXDTS(ept_info->eptn);
 266:./libraries/drivers/src/at32f413_usb.c **** 
 267:./libraries/drivers/src/at32f413_usb.c ****       /* set tx status: disable */
 268:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_TXSTS(ept_info->eptn, USB_TX_DISABLE);
 269:./libraries/drivers/src/at32f413_usb.c ****     }
 270:./libraries/drivers/src/at32f413_usb.c ****     else
 271:./libraries/drivers/src/at32f413_usb.c ****     {
 272:./libraries/drivers/src/at32f413_usb.c ****       /*clear rx data toggle */
 273:./libraries/drivers/src/at32f413_usb.c ****       USB_CLEAR_RXDTS(ept_info->eptn);
 828              		.loc 1 273 7 is_stmt 1 view .LVU201
 829 000c 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 830 000e 624B     		ldr	r3, .L55
 831 0010 53F82230 		ldr	r3, [r3, r2, lsl #2]
 832 0014 13F4804F 		tst	r3, #16384
 833 0018 0CD0     		beq	.L49
 834              		.loc 1 273 7 discriminator 1 view .LVU202
 835 001a 5F48     		ldr	r0, .L55
 836              	.LVL67:
 837              		.loc 1 273 7 is_stmt 0 discriminator 1 view .LVU203
 838 001c 50F82230 		ldr	r3, [r0, r2, lsl #2]
 839 0020 23F0F003 		bic	r3, r3, #240
 840 0024 1B05     		lsls	r3, r3, #20
 841 0026 1B0D     		lsrs	r3, r3, #20
 842 0028 43F44043 		orr	r3, r3, #49152
 843 002c 43F08003 		orr	r3, r3, #128
 844 0030 40F82230 		str	r3, [r0, r2, lsl #2]
 845              	.L49:
 846              		.loc 1 273 38 is_stmt 1 discriminator 3 view .LVU204
 847              	.LBB20:
 274:./libraries/drivers/src/at32f413_usb.c **** 
 275:./libraries/drivers/src/at32f413_usb.c ****       /* set rx status: disable */
 276:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_RXSTS(ept_info->eptn, USB_RX_DISABLE);
 848              		.loc 1 276 7 discriminator 3 view .LVU205
 849 0034 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 850              	.LVL68:
 851              		.loc 1 276 7 is_stmt 0 discriminator 3 view .LVU206
 852 0036 584A     		ldr	r2, .L55
 853 0038 52F82130 		ldr	r3, [r2, r1, lsl #2]
 854 003c 9BB2     		uxth	r3, r3
 855 003e 23F48043 		bic	r3, r3, #16384
 856 0042 23F07003 		bic	r3, r3, #112
 857              	.LVL69:
 858              		.loc 1 276 7 is_stmt 1 discriminator 3 view .LVU207
 859              		.loc 1 276 7 discriminator 3 view .LVU208
 860              		.loc 1 276 7 discriminator 3 view .LVU209
 861 0046 43F40043 		orr	r3, r3, #32768
 862              	.LVL70:
 863              		.loc 1 276 7 is_stmt 0 discriminator 3 view .LVU210
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 23


 864 004a 43F08003 		orr	r3, r3, #128
 865 004e 42F82130 		str	r3, [r2, r1, lsl #2]
 866 0052 7047     		bx	lr
 867              	.LVL71:
 868              	.L53:
 869              		.loc 1 276 7 discriminator 3 view .LVU211
 870              	.LBE20:
 265:./libraries/drivers/src/at32f413_usb.c **** 
 871              		.loc 1 265 7 is_stmt 1 view .LVU212
 872 0054 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 873 0056 504B     		ldr	r3, .L55
 874 0058 53F82230 		ldr	r3, [r3, r2, lsl #2]
 875 005c 13F0400F 		tst	r3, #64
 876 0060 0CD0     		beq	.L47
 265:./libraries/drivers/src/at32f413_usb.c **** 
 877              		.loc 1 265 7 discriminator 1 view .LVU213
 878 0062 4D48     		ldr	r0, .L55
 879              	.LVL72:
 265:./libraries/drivers/src/at32f413_usb.c **** 
 880              		.loc 1 265 7 is_stmt 0 discriminator 1 view .LVU214
 881 0064 50F82230 		ldr	r3, [r0, r2, lsl #2]
 882 0068 23F0F003 		bic	r3, r3, #240
 883 006c 1B05     		lsls	r3, r3, #20
 884 006e 1B0D     		lsrs	r3, r3, #20
 885 0070 43F40043 		orr	r3, r3, #32768
 886 0074 43F0C003 		orr	r3, r3, #192
 887 0078 40F82230 		str	r3, [r0, r2, lsl #2]
 888              	.L47:
 265:./libraries/drivers/src/at32f413_usb.c **** 
 889              		.loc 1 265 38 is_stmt 1 discriminator 3 view .LVU215
 890              	.LBB21:
 268:./libraries/drivers/src/at32f413_usb.c ****     }
 891              		.loc 1 268 7 discriminator 3 view .LVU216
 892 007c 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 893              	.LVL73:
 268:./libraries/drivers/src/at32f413_usb.c ****     }
 894              		.loc 1 268 7 is_stmt 0 discriminator 3 view .LVU217
 895 007e 464A     		ldr	r2, .L55
 896 0080 52F82130 		ldr	r3, [r2, r1, lsl #2]
 897 0084 9BB2     		uxth	r3, r3
 898 0086 23F4E043 		bic	r3, r3, #28672
 899 008a 23F04003 		bic	r3, r3, #64
 900              	.LVL74:
 268:./libraries/drivers/src/at32f413_usb.c ****     }
 901              		.loc 1 268 7 is_stmt 1 discriminator 3 view .LVU218
 268:./libraries/drivers/src/at32f413_usb.c ****     }
 902              		.loc 1 268 7 discriminator 3 view .LVU219
 268:./libraries/drivers/src/at32f413_usb.c ****     }
 903              		.loc 1 268 7 discriminator 3 view .LVU220
 904 008e 43F40043 		orr	r3, r3, #32768
 905              	.LVL75:
 268:./libraries/drivers/src/at32f413_usb.c ****     }
 906              		.loc 1 268 7 is_stmt 0 discriminator 3 view .LVU221
 907 0092 43F08003 		orr	r3, r3, #128
 908 0096 42F82130 		str	r3, [r2, r1, lsl #2]
 909              	.LBE21:
 268:./libraries/drivers/src/at32f413_usb.c ****     }
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 24


 910              		.loc 1 268 52 is_stmt 1 discriminator 3 view .LVU222
 911 009a 7047     		bx	lr
 912              	.LVL76:
 913              	.L45:
 277:./libraries/drivers/src/at32f413_usb.c **** 
 278:./libraries/drivers/src/at32f413_usb.c ****     }
 279:./libraries/drivers/src/at32f413_usb.c ****   }
 280:./libraries/drivers/src/at32f413_usb.c ****   else
 281:./libraries/drivers/src/at32f413_usb.c ****   {
 282:./libraries/drivers/src/at32f413_usb.c ****     /* double buffer */
 283:./libraries/drivers/src/at32f413_usb.c **** 
 284:./libraries/drivers/src/at32f413_usb.c ****     /*clear rx and tx data toggle */
 285:./libraries/drivers/src/at32f413_usb.c ****     USB_CLEAR_TXDTS(ept_info->eptn);
 914              		.loc 1 285 5 view .LVU223
 915 009c 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 916 009e 3E4B     		ldr	r3, .L55
 917 00a0 53F82230 		ldr	r3, [r3, r2, lsl #2]
 918 00a4 13F0400F 		tst	r3, #64
 919 00a8 0CD0     		beq	.L50
 920              		.loc 1 285 5 discriminator 1 view .LVU224
 921 00aa 3B48     		ldr	r0, .L55
 922              	.LVL77:
 923              		.loc 1 285 5 is_stmt 0 discriminator 1 view .LVU225
 924 00ac 50F82230 		ldr	r3, [r0, r2, lsl #2]
 925 00b0 23F0F003 		bic	r3, r3, #240
 926 00b4 1B05     		lsls	r3, r3, #20
 927 00b6 1B0D     		lsrs	r3, r3, #20
 928 00b8 43F40043 		orr	r3, r3, #32768
 929 00bc 43F0C003 		orr	r3, r3, #192
 930 00c0 40F82230 		str	r3, [r0, r2, lsl #2]
 931              	.L50:
 932              		.loc 1 285 36 is_stmt 1 discriminator 3 view .LVU226
 286:./libraries/drivers/src/at32f413_usb.c ****     USB_CLEAR_RXDTS(ept_info->eptn);
 933              		.loc 1 286 5 discriminator 3 view .LVU227
 934 00c4 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 935 00c6 344B     		ldr	r3, .L55
 936 00c8 53F82230 		ldr	r3, [r3, r2, lsl #2]
 937 00cc 13F4804F 		tst	r3, #16384
 938 00d0 0CD0     		beq	.L51
 939              		.loc 1 286 5 discriminator 1 view .LVU228
 940 00d2 3148     		ldr	r0, .L55
 941 00d4 50F82230 		ldr	r3, [r0, r2, lsl #2]
 942 00d8 23F0F003 		bic	r3, r3, #240
 943 00dc 1B05     		lsls	r3, r3, #20
 944 00de 1B0D     		lsrs	r3, r3, #20
 945 00e0 43F44043 		orr	r3, r3, #49152
 946 00e4 43F08003 		orr	r3, r3, #128
 947 00e8 40F82230 		str	r3, [r0, r2, lsl #2]
 948              	.L51:
 949              		.loc 1 286 36 discriminator 3 view .LVU229
 287:./libraries/drivers/src/at32f413_usb.c **** 
 288:./libraries/drivers/src/at32f413_usb.c ****     if(ept_info->inout == DATA_TRANS_IN)
 950              		.loc 1 288 5 discriminator 3 view .LVU230
 951              		.loc 1 288 16 is_stmt 0 discriminator 3 view .LVU231
 952 00ec 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 953              		.loc 1 288 7 discriminator 3 view .LVU232
 954 00ee 012B     		cmp	r3, #1
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 25


 955 00f0 28D0     		beq	.L54
 289:./libraries/drivers/src/at32f413_usb.c ****     {
 290:./libraries/drivers/src/at32f413_usb.c ****       /* toggle tx */
 291:./libraries/drivers/src/at32f413_usb.c ****       USB_TOGGLE_TXDTS(ept_info->eptn);
 292:./libraries/drivers/src/at32f413_usb.c **** 
 293:./libraries/drivers/src/at32f413_usb.c ****       /* set tx and rx status: disable */
 294:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_TXSTS(ept_info->eptn, USB_TX_DISABLE);
 295:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_RXSTS(ept_info->eptn, USB_RX_DISABLE);
 296:./libraries/drivers/src/at32f413_usb.c ****     }
 297:./libraries/drivers/src/at32f413_usb.c ****     else
 298:./libraries/drivers/src/at32f413_usb.c ****     {
 299:./libraries/drivers/src/at32f413_usb.c ****       /* toggle rx */
 300:./libraries/drivers/src/at32f413_usb.c ****       USB_TOGGLE_RXDTS(ept_info->eptn);
 956              		.loc 1 300 7 is_stmt 1 view .LVU233
 957 00f2 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 958 00f4 2848     		ldr	r0, .L55
 959 00f6 50F82230 		ldr	r3, [r0, r2, lsl #2]
 960 00fa 23F0F003 		bic	r3, r3, #240
 961 00fe 1B05     		lsls	r3, r3, #20
 962 0100 1B0D     		lsrs	r3, r3, #20
 963 0102 43F44043 		orr	r3, r3, #49152
 964 0106 43F08003 		orr	r3, r3, #128
 965 010a 40F82230 		str	r3, [r0, r2, lsl #2]
 966              	.LBB22:
 301:./libraries/drivers/src/at32f413_usb.c **** 
 302:./libraries/drivers/src/at32f413_usb.c ****       /* set tx and rx status: disable */
 303:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_TXSTS(ept_info->eptn, USB_TX_DISABLE);
 967              		.loc 1 303 7 view .LVU234
 968 010e 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 969 0110 50F82320 		ldr	r2, [r0, r3, lsl #2]
 970 0114 92B2     		uxth	r2, r2
 971 0116 22F4E042 		bic	r2, r2, #28672
 972 011a 22F04002 		bic	r2, r2, #64
 973              	.LVL78:
 974              		.loc 1 303 7 view .LVU235
 975              		.loc 1 303 7 view .LVU236
 976              		.loc 1 303 7 view .LVU237
 977 011e 48F2800C 		movw	ip, #32896
 978 0122 42EA0C02 		orr	r2, r2, ip
 979              	.LVL79:
 980              		.loc 1 303 7 is_stmt 0 view .LVU238
 981 0126 40F82320 		str	r2, [r0, r3, lsl #2]
 982              	.LBE22:
 983              		.loc 1 303 52 is_stmt 1 view .LVU239
 984              	.LBB23:
 304:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_RXSTS(ept_info->eptn, USB_RX_DISABLE);
 985              		.loc 1 304 7 view .LVU240
 986 012a 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 987 012c 50F82230 		ldr	r3, [r0, r2, lsl #2]
 988 0130 9BB2     		uxth	r3, r3
 989 0132 23F48043 		bic	r3, r3, #16384
 990 0136 23F07003 		bic	r3, r3, #112
 991              	.LVL80:
 992              		.loc 1 304 7 view .LVU241
 993              		.loc 1 304 7 view .LVU242
 994              		.loc 1 304 7 view .LVU243
 995 013a 43EA0C03 		orr	r3, r3, ip
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 26


 996              	.LVL81:
 997              		.loc 1 304 7 is_stmt 0 view .LVU244
 998 013e 40F82230 		str	r3, [r0, r2, lsl #2]
 999              	.LBE23:
 1000              		.loc 1 304 52 is_stmt 1 view .LVU245
 305:./libraries/drivers/src/at32f413_usb.c ****     }
 306:./libraries/drivers/src/at32f413_usb.c ****   }
 307:./libraries/drivers/src/at32f413_usb.c **** }
 1001              		.loc 1 307 1 is_stmt 0 view .LVU246
 1002 0142 7047     		bx	lr
 1003              	.L54:
 291:./libraries/drivers/src/at32f413_usb.c **** 
 1004              		.loc 1 291 7 is_stmt 1 view .LVU247
 1005 0144 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1006 0146 1448     		ldr	r0, .L55
 1007 0148 50F82230 		ldr	r3, [r0, r2, lsl #2]
 1008 014c 23F0F003 		bic	r3, r3, #240
 1009 0150 1B05     		lsls	r3, r3, #20
 1010 0152 1B0D     		lsrs	r3, r3, #20
 1011 0154 43F40043 		orr	r3, r3, #32768
 1012 0158 43F0C003 		orr	r3, r3, #192
 1013 015c 40F82230 		str	r3, [r0, r2, lsl #2]
 1014              	.LBB24:
 294:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_RXSTS(ept_info->eptn, USB_RX_DISABLE);
 1015              		.loc 1 294 7 view .LVU248
 1016 0160 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1017 0162 50F82320 		ldr	r2, [r0, r3, lsl #2]
 1018 0166 92B2     		uxth	r2, r2
 1019 0168 22F4E042 		bic	r2, r2, #28672
 1020 016c 22F04002 		bic	r2, r2, #64
 1021              	.LVL82:
 294:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_RXSTS(ept_info->eptn, USB_RX_DISABLE);
 1022              		.loc 1 294 7 view .LVU249
 294:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_RXSTS(ept_info->eptn, USB_RX_DISABLE);
 1023              		.loc 1 294 7 view .LVU250
 294:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_RXSTS(ept_info->eptn, USB_RX_DISABLE);
 1024              		.loc 1 294 7 view .LVU251
 1025 0170 48F2800C 		movw	ip, #32896
 1026 0174 42EA0C02 		orr	r2, r2, ip
 1027              	.LVL83:
 294:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_RXSTS(ept_info->eptn, USB_RX_DISABLE);
 1028              		.loc 1 294 7 is_stmt 0 view .LVU252
 1029 0178 40F82320 		str	r2, [r0, r3, lsl #2]
 1030              	.LBE24:
 294:./libraries/drivers/src/at32f413_usb.c ****       USB_SET_RXSTS(ept_info->eptn, USB_RX_DISABLE);
 1031              		.loc 1 294 52 is_stmt 1 view .LVU253
 1032              	.LBB25:
 295:./libraries/drivers/src/at32f413_usb.c ****     }
 1033              		.loc 1 295 7 view .LVU254
 1034 017c 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 1035 017e 50F82230 		ldr	r3, [r0, r2, lsl #2]
 1036 0182 9BB2     		uxth	r3, r3
 1037 0184 23F48043 		bic	r3, r3, #16384
 1038 0188 23F07003 		bic	r3, r3, #112
 1039              	.LVL84:
 295:./libraries/drivers/src/at32f413_usb.c ****     }
 1040              		.loc 1 295 7 view .LVU255
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 27


 295:./libraries/drivers/src/at32f413_usb.c ****     }
 1041              		.loc 1 295 7 view .LVU256
 295:./libraries/drivers/src/at32f413_usb.c ****     }
 1042              		.loc 1 295 7 view .LVU257
 1043 018c 43EA0C03 		orr	r3, r3, ip
 1044              	.LVL85:
 295:./libraries/drivers/src/at32f413_usb.c ****     }
 1045              		.loc 1 295 7 is_stmt 0 view .LVU258
 1046 0190 40F82230 		str	r3, [r0, r2, lsl #2]
 1047              	.LBE25:
 295:./libraries/drivers/src/at32f413_usb.c ****     }
 1048              		.loc 1 295 52 is_stmt 1 view .LVU259
 1049 0194 7047     		bx	lr
 1050              	.L56:
 1051 0196 00BF     		.align	2
 1052              	.L55:
 1053 0198 005C0040 		.word	1073765376
 1054              		.cfi_endproc
 1055              	.LFE138:
 1057              		.section	.text.usb_write_packet,"ax",%progbits
 1058              		.align	1
 1059              		.global	usb_write_packet
 1060              		.syntax unified
 1061              		.thumb
 1062              		.thumb_func
 1063              		.fpu fpv4-sp-d16
 1065              	usb_write_packet:
 1066              	.LVL86:
 1067              	.LFB139:
 308:./libraries/drivers/src/at32f413_usb.c **** 
 309:./libraries/drivers/src/at32f413_usb.c **** /**
 310:./libraries/drivers/src/at32f413_usb.c ****   * @brief  write data from user memory to usb buffer
 311:./libraries/drivers/src/at32f413_usb.c ****   * @param  pusr_buf: point to user buffer
 312:./libraries/drivers/src/at32f413_usb.c ****   * @param  offset_addr: endpoint tx offset address
 313:./libraries/drivers/src/at32f413_usb.c ****   * @param  nbytes: number of bytes data write to usb buffer
 314:./libraries/drivers/src/at32f413_usb.c ****   * @retval none
 315:./libraries/drivers/src/at32f413_usb.c ****   */
 316:./libraries/drivers/src/at32f413_usb.c **** void usb_write_packet(uint8_t *pusr_buf, uint16_t offset_addr, uint16_t nbytes)
 317:./libraries/drivers/src/at32f413_usb.c **** {
 1068              		.loc 1 317 1 view -0
 1069              		.cfi_startproc
 1070              		@ args = 0, pretend = 0, frame = 0
 1071              		@ frame_needed = 0, uses_anonymous_args = 0
 1072              		@ link register save eliminated.
 318:./libraries/drivers/src/at32f413_usb.c ****   /* endpoint tx buffer address */
 319:./libraries/drivers/src/at32f413_usb.c ****   __IO uint16_t *d_addr = (__IO uint16_t *)(offset_addr * 2 + g_usb_packet_address);
 1073              		.loc 1 319 3 view .LVU261
 1074              		.loc 1 319 61 is_stmt 0 view .LVU262
 1075 0000 084B     		ldr	r3, .L60
 1076 0002 1B68     		ldr	r3, [r3]
 1077 0004 03EB4101 		add	r1, r3, r1, lsl #1
 1078              	.LVL87:
 320:./libraries/drivers/src/at32f413_usb.c **** 
 321:./libraries/drivers/src/at32f413_usb.c ****   uint32_t nhbytes = (nbytes + 1) >> 1;
 1079              		.loc 1 321 3 is_stmt 1 view .LVU263
 1080              		.loc 1 321 30 is_stmt 0 view .LVU264
 1081 0008 0132     		adds	r2, r2, #1
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 28


 1082              	.LVL88:
 1083              		.loc 1 321 35 view .LVU265
 1084 000a 4FEA620C 		asr	ip, r2, #1
 1085              	.LVL89:
 322:./libraries/drivers/src/at32f413_usb.c ****   uint32_t n_index;
 1086              		.loc 1 322 3 is_stmt 1 view .LVU266
 323:./libraries/drivers/src/at32f413_usb.c ****   uint16_t *pbuf = (uint16_t *)pusr_buf;
 1087              		.loc 1 323 3 view .LVU267
 324:./libraries/drivers/src/at32f413_usb.c ****   for(n_index = 0; n_index < nhbytes; n_index ++)
 1088              		.loc 1 324 3 view .LVU268
 1089              		.loc 1 324 15 is_stmt 0 view .LVU269
 1090 000e 0023     		movs	r3, #0
 1091              		.loc 1 324 3 view .LVU270
 1092 0010 04E0     		b	.L58
 1093              	.LVL90:
 1094              	.L59:
 325:./libraries/drivers/src/at32f413_usb.c ****   {
 326:./libraries/drivers/src/at32f413_usb.c **** #if defined (__ICCARM__) && (__VER__ < 7000000)
 327:./libraries/drivers/src/at32f413_usb.c ****     *d_addr++  = *(__packed uint16_t *)pbuf;
 328:./libraries/drivers/src/at32f413_usb.c **** #else
 329:./libraries/drivers/src/at32f413_usb.c ****     *d_addr++ = __UNALIGNED_UINT16_READ(pbuf);
 1095              		.loc 1 329 5 is_stmt 1 discriminator 3 view .LVU271
 1096              		.loc 1 329 17 is_stmt 0 discriminator 3 view .LVU272
 1097 0012 30F8022B 		ldrh	r2, [r0], #2	@ unaligned
 1098              	.LVL91:
 1099              		.loc 1 329 15 discriminator 3 view .LVU273
 1100 0016 21F8042B 		strh	r2, [r1], #4	@ movhi
 1101              	.LVL92:
 330:./libraries/drivers/src/at32f413_usb.c **** #endif
 331:./libraries/drivers/src/at32f413_usb.c ****     d_addr ++;
 1102              		.loc 1 331 5 is_stmt 1 discriminator 3 view .LVU274
 332:./libraries/drivers/src/at32f413_usb.c ****     pbuf ++;
 1103              		.loc 1 332 5 discriminator 3 view .LVU275
 324:./libraries/drivers/src/at32f413_usb.c ****   {
 1104              		.loc 1 324 39 discriminator 3 view .LVU276
 324:./libraries/drivers/src/at32f413_usb.c ****   {
 1105              		.loc 1 324 47 is_stmt 0 discriminator 3 view .LVU277
 1106 001a 0133     		adds	r3, r3, #1
 1107              	.LVL93:
 1108              	.L58:
 324:./libraries/drivers/src/at32f413_usb.c ****   {
 1109              		.loc 1 324 20 is_stmt 1 discriminator 1 view .LVU278
 324:./libraries/drivers/src/at32f413_usb.c ****   {
 1110              		.loc 1 324 3 is_stmt 0 discriminator 1 view .LVU279
 1111 001c 6345     		cmp	r3, ip
 1112 001e F8D3     		bcc	.L59
 333:./libraries/drivers/src/at32f413_usb.c ****   }
 334:./libraries/drivers/src/at32f413_usb.c **** }
 1113              		.loc 1 334 1 view .LVU280
 1114 0020 7047     		bx	lr
 1115              	.L61:
 1116 0022 00BF     		.align	2
 1117              	.L60:
 1118 0024 00000000 		.word	.LANCHOR0
 1119              		.cfi_endproc
 1120              	.LFE139:
 1122              		.section	.text.usb_read_packet,"ax",%progbits
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 29


 1123              		.align	1
 1124              		.global	usb_read_packet
 1125              		.syntax unified
 1126              		.thumb
 1127              		.thumb_func
 1128              		.fpu fpv4-sp-d16
 1130              	usb_read_packet:
 1131              	.LVL94:
 1132              	.LFB140:
 335:./libraries/drivers/src/at32f413_usb.c **** 
 336:./libraries/drivers/src/at32f413_usb.c **** /**
 337:./libraries/drivers/src/at32f413_usb.c ****   * @brief  read data from usb buffer to user buffer
 338:./libraries/drivers/src/at32f413_usb.c ****   * @param  pusr_buf: point to user buffer
 339:./libraries/drivers/src/at32f413_usb.c ****   * @param  offset_addr: endpoint rx offset address
 340:./libraries/drivers/src/at32f413_usb.c ****   * @param  nbytes: number of bytes data write to usb buffer
 341:./libraries/drivers/src/at32f413_usb.c ****   * @retval none
 342:./libraries/drivers/src/at32f413_usb.c ****   */
 343:./libraries/drivers/src/at32f413_usb.c **** void usb_read_packet(uint8_t *pusr_buf, uint16_t offset_addr, uint16_t nbytes)
 344:./libraries/drivers/src/at32f413_usb.c **** {
 1133              		.loc 1 344 1 is_stmt 1 view -0
 1134              		.cfi_startproc
 1135              		@ args = 0, pretend = 0, frame = 0
 1136              		@ frame_needed = 0, uses_anonymous_args = 0
 1137              		@ link register save eliminated.
 345:./libraries/drivers/src/at32f413_usb.c ****   __IO uint16_t *s_addr = (__IO uint16_t *)(offset_addr * 2 + g_usb_packet_address);
 1138              		.loc 1 345 3 view .LVU282
 1139              		.loc 1 345 61 is_stmt 0 view .LVU283
 1140 0000 084B     		ldr	r3, .L65
 1141 0002 1B68     		ldr	r3, [r3]
 1142 0004 03EB4101 		add	r1, r3, r1, lsl #1
 1143              	.LVL95:
 346:./libraries/drivers/src/at32f413_usb.c ****   uint32_t nhbytes = (nbytes + 1) >> 1;
 1144              		.loc 1 346 3 is_stmt 1 view .LVU284
 1145              		.loc 1 346 30 is_stmt 0 view .LVU285
 1146 0008 0132     		adds	r2, r2, #1
 1147              	.LVL96:
 1148              		.loc 1 346 35 view .LVU286
 1149 000a 4FEA620C 		asr	ip, r2, #1
 1150              	.LVL97:
 347:./libraries/drivers/src/at32f413_usb.c ****   uint32_t n_index;
 1151              		.loc 1 347 3 is_stmt 1 view .LVU287
 348:./libraries/drivers/src/at32f413_usb.c ****   uint16_t *pbuf = (uint16_t *)pusr_buf;
 1152              		.loc 1 348 3 view .LVU288
 349:./libraries/drivers/src/at32f413_usb.c ****   for(n_index = 0; n_index < nhbytes; n_index ++)
 1153              		.loc 1 349 3 view .LVU289
 1154              		.loc 1 349 15 is_stmt 0 view .LVU290
 1155 000e 0023     		movs	r3, #0
 1156              		.loc 1 349 3 view .LVU291
 1157 0010 04E0     		b	.L63
 1158              	.LVL98:
 1159              	.L64:
 350:./libraries/drivers/src/at32f413_usb.c ****   {
 351:./libraries/drivers/src/at32f413_usb.c **** #if defined (__ICCARM__) && (__VER__ < 7000000)
 352:./libraries/drivers/src/at32f413_usb.c ****     *(__packed uint16_t *)pbuf = *(__IO uint16_t *)s_addr ++;
 353:./libraries/drivers/src/at32f413_usb.c **** #else
 354:./libraries/drivers/src/at32f413_usb.c ****     __UNALIGNED_UINT16_WRITE(pbuf, *(__IO uint16_t *)s_addr ++);
 1160              		.loc 1 354 5 is_stmt 1 discriminator 3 view .LVU292
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 30


 1161              		.loc 1 354 5 is_stmt 0 discriminator 3 view .LVU293
 1162 0012 31F8042B 		ldrh	r2, [r1], #4
 1163              	.LVL99:
 1164              		.loc 1 354 5 discriminator 3 view .LVU294
 1165 0016 20F8022B 		strh	r2, [r0], #2	@ unaligned
 1166              	.LVL100:
 355:./libraries/drivers/src/at32f413_usb.c **** #endif
 356:./libraries/drivers/src/at32f413_usb.c ****     s_addr ++;
 1167              		.loc 1 356 5 is_stmt 1 discriminator 3 view .LVU295
 357:./libraries/drivers/src/at32f413_usb.c ****     pbuf ++;
 1168              		.loc 1 357 5 discriminator 3 view .LVU296
 349:./libraries/drivers/src/at32f413_usb.c ****   {
 1169              		.loc 1 349 39 discriminator 3 view .LVU297
 349:./libraries/drivers/src/at32f413_usb.c ****   {
 1170              		.loc 1 349 47 is_stmt 0 discriminator 3 view .LVU298
 1171 001a 0133     		adds	r3, r3, #1
 1172              	.LVL101:
 1173              	.L63:
 349:./libraries/drivers/src/at32f413_usb.c ****   {
 1174              		.loc 1 349 20 is_stmt 1 discriminator 1 view .LVU299
 349:./libraries/drivers/src/at32f413_usb.c ****   {
 1175              		.loc 1 349 3 is_stmt 0 discriminator 1 view .LVU300
 1176 001c 6345     		cmp	r3, ip
 1177 001e F8D3     		bcc	.L64
 358:./libraries/drivers/src/at32f413_usb.c ****   }
 359:./libraries/drivers/src/at32f413_usb.c **** }
 1178              		.loc 1 359 1 view .LVU301
 1179 0020 7047     		bx	lr
 1180              	.L66:
 1181 0022 00BF     		.align	2
 1182              	.L65:
 1183 0024 00000000 		.word	.LANCHOR0
 1184              		.cfi_endproc
 1185              	.LFE140:
 1187              		.section	.text.usb_interrupt_enable,"ax",%progbits
 1188              		.align	1
 1189              		.global	usb_interrupt_enable
 1190              		.syntax unified
 1191              		.thumb
 1192              		.thumb_func
 1193              		.fpu fpv4-sp-d16
 1195              	usb_interrupt_enable:
 1196              	.LVL102:
 1197              	.LFB141:
 360:./libraries/drivers/src/at32f413_usb.c **** 
 361:./libraries/drivers/src/at32f413_usb.c **** 
 362:./libraries/drivers/src/at32f413_usb.c **** /**
 363:./libraries/drivers/src/at32f413_usb.c ****   * @brief  usb interrupt enable
 364:./libraries/drivers/src/at32f413_usb.c ****   * @param  usbx: to select the usb peripheral.
 365:./libraries/drivers/src/at32f413_usb.c ****   *         parameter as following values: USB
 366:./libraries/drivers/src/at32f413_usb.c ****   * @param  interrupt:
 367:./libraries/drivers/src/at32f413_usb.c ****   *         this parameter can be any combination of the following values:
 368:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_LSOF_INT
 369:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_SOF_INT
 370:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_RST_INT
 371:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_SP_INT
 372:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_WK_INT
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 31


 373:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_BE_INT
 374:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_UCFOR_INT
 375:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_TC_INT
 376:./libraries/drivers/src/at32f413_usb.c ****   * @param  new_state (TRUE or FALSE)
 377:./libraries/drivers/src/at32f413_usb.c ****   * @retval none
 378:./libraries/drivers/src/at32f413_usb.c ****   */
 379:./libraries/drivers/src/at32f413_usb.c **** void usb_interrupt_enable(usbd_type *usbx, uint16_t interrupt, confirm_state new_state)
 380:./libraries/drivers/src/at32f413_usb.c **** {
 1198              		.loc 1 380 1 is_stmt 1 view -0
 1199              		.cfi_startproc
 1200              		@ args = 0, pretend = 0, frame = 0
 1201              		@ frame_needed = 0, uses_anonymous_args = 0
 1202              		@ link register save eliminated.
 381:./libraries/drivers/src/at32f413_usb.c ****   if(new_state == TRUE)
 1203              		.loc 1 381 3 view .LVU303
 1204              		.loc 1 381 5 is_stmt 0 view .LVU304
 1205 0000 012A     		cmp	r2, #1
 1206 0002 04D0     		beq	.L70
 382:./libraries/drivers/src/at32f413_usb.c ****   {
 383:./libraries/drivers/src/at32f413_usb.c ****     usbx->ctrl |= interrupt;
 384:./libraries/drivers/src/at32f413_usb.c ****   }
 385:./libraries/drivers/src/at32f413_usb.c ****   else
 386:./libraries/drivers/src/at32f413_usb.c ****   {
 387:./libraries/drivers/src/at32f413_usb.c ****     usbx->ctrl &= ~interrupt;
 1207              		.loc 1 387 5 is_stmt 1 view .LVU305
 1208              		.loc 1 387 16 is_stmt 0 view .LVU306
 1209 0004 036C     		ldr	r3, [r0, #64]
 1210 0006 23EA0101 		bic	r1, r3, r1
 1211              	.LVL103:
 1212              		.loc 1 387 16 view .LVU307
 1213 000a 0164     		str	r1, [r0, #64]
 388:./libraries/drivers/src/at32f413_usb.c ****   }
 389:./libraries/drivers/src/at32f413_usb.c **** }
 1214              		.loc 1 389 1 view .LVU308
 1215 000c 7047     		bx	lr
 1216              	.LVL104:
 1217              	.L70:
 383:./libraries/drivers/src/at32f413_usb.c ****   }
 1218              		.loc 1 383 5 is_stmt 1 view .LVU309
 383:./libraries/drivers/src/at32f413_usb.c ****   }
 1219              		.loc 1 383 16 is_stmt 0 view .LVU310
 1220 000e 036C     		ldr	r3, [r0, #64]
 1221 0010 1943     		orrs	r1, r1, r3
 1222              	.LVL105:
 383:./libraries/drivers/src/at32f413_usb.c ****   }
 1223              		.loc 1 383 16 view .LVU311
 1224 0012 0164     		str	r1, [r0, #64]
 1225 0014 7047     		bx	lr
 1226              		.cfi_endproc
 1227              	.LFE141:
 1229              		.section	.text.usb_dev_init,"ax",%progbits
 1230              		.align	1
 1231              		.global	usb_dev_init
 1232              		.syntax unified
 1233              		.thumb
 1234              		.thumb_func
 1235              		.fpu fpv4-sp-d16
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 32


 1237              	usb_dev_init:
 1238              	.LVL106:
 1239              	.LFB133:
  59:./libraries/drivers/src/at32f413_usb.c ****   /* clear usb core reset */
 1240              		.loc 1 59 1 is_stmt 1 view -0
 1241              		.cfi_startproc
 1242              		@ args = 0, pretend = 0, frame = 0
 1243              		@ frame_needed = 0, uses_anonymous_args = 0
  59:./libraries/drivers/src/at32f413_usb.c ****   /* clear usb core reset */
 1244              		.loc 1 59 1 is_stmt 0 view .LVU313
 1245 0000 08B5     		push	{r3, lr}
 1246              	.LCFI3:
 1247              		.cfi_def_cfa_offset 8
 1248              		.cfi_offset 3, -8
 1249              		.cfi_offset 14, -4
  61:./libraries/drivers/src/at32f413_usb.c **** 
 1250              		.loc 1 61 3 is_stmt 1 view .LVU314
  61:./libraries/drivers/src/at32f413_usb.c **** 
 1251              		.loc 1 61 24 is_stmt 0 view .LVU315
 1252 0002 026C     		ldr	r2, [r0, #64]
 1253 0004 6FF30002 		bfc	r2, #0, #1
 1254 0008 0264     		str	r2, [r0, #64]
  64:./libraries/drivers/src/at32f413_usb.c **** 
 1255              		.loc 1 64 3 is_stmt 1 view .LVU316
  64:./libraries/drivers/src/at32f413_usb.c **** 
 1256              		.loc 1 64 16 is_stmt 0 view .LVU317
 1257 000a 0022     		movs	r2, #0
 1258 000c 4264     		str	r2, [r0, #68]
  67:./libraries/drivers/src/at32f413_usb.c **** 
 1259              		.loc 1 67 3 is_stmt 1 view .LVU318
  67:./libraries/drivers/src/at32f413_usb.c **** 
 1260              		.loc 1 67 16 is_stmt 0 view .LVU319
 1261 000e 0265     		str	r2, [r0, #80]
  70:./libraries/drivers/src/at32f413_usb.c **** 
 1262              		.loc 1 70 3 is_stmt 1 view .LVU320
  70:./libraries/drivers/src/at32f413_usb.c **** 
 1263              		.loc 1 70 17 is_stmt 0 view .LVU321
 1264 0010 8022     		movs	r2, #128
 1265 0012 C264     		str	r2, [r0, #76]
  72:./libraries/drivers/src/at32f413_usb.c **** }
 1266              		.loc 1 72 3 is_stmt 1 view .LVU322
 1267 0014 0122     		movs	r2, #1
 1268 0016 4FF41E41 		mov	r1, #40448
 1269 001a FFF7FEFF 		bl	usb_interrupt_enable
 1270              	.LVL107:
  73:./libraries/drivers/src/at32f413_usb.c **** 
 1271              		.loc 1 73 1 is_stmt 0 view .LVU323
 1272 001e 08BD     		pop	{r3, pc}
 1273              		.cfi_endproc
 1274              	.LFE133:
 1276              		.section	.text.usb_set_address,"ax",%progbits
 1277              		.align	1
 1278              		.global	usb_set_address
 1279              		.syntax unified
 1280              		.thumb
 1281              		.thumb_func
 1282              		.fpu fpv4-sp-d16
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 33


 1284              	usb_set_address:
 1285              	.LVL108:
 1286              	.LFB142:
 390:./libraries/drivers/src/at32f413_usb.c **** 
 391:./libraries/drivers/src/at32f413_usb.c **** /**
 392:./libraries/drivers/src/at32f413_usb.c ****   * @brief  set the host assignment address
 393:./libraries/drivers/src/at32f413_usb.c ****   * @param  usbx: to select the usb peripheral.
 394:./libraries/drivers/src/at32f413_usb.c ****   *         parameter as following values: USB
 395:./libraries/drivers/src/at32f413_usb.c ****   * @param  address: host assignment address
 396:./libraries/drivers/src/at32f413_usb.c ****   * @retval none
 397:./libraries/drivers/src/at32f413_usb.c ****   */
 398:./libraries/drivers/src/at32f413_usb.c **** void usb_set_address(usbd_type *usbx, uint8_t address)
 399:./libraries/drivers/src/at32f413_usb.c **** {
 1287              		.loc 1 399 1 is_stmt 1 view -0
 1288              		.cfi_startproc
 1289              		@ args = 0, pretend = 0, frame = 0
 1290              		@ frame_needed = 0, uses_anonymous_args = 0
 1291              		@ link register save eliminated.
 400:./libraries/drivers/src/at32f413_usb.c ****   usbx->devaddr_bit.addr = address;
 1292              		.loc 1 400 3 view .LVU325
 1293              		.loc 1 400 26 is_stmt 0 view .LVU326
 1294 0000 C36C     		ldr	r3, [r0, #76]
 1295 0002 61F30603 		bfi	r3, r1, #0, #7
 1296 0006 C364     		str	r3, [r0, #76]
 401:./libraries/drivers/src/at32f413_usb.c ****   usbx->devaddr_bit.cen = TRUE;
 1297              		.loc 1 401 3 is_stmt 1 view .LVU327
 1298              		.loc 1 401 25 is_stmt 0 view .LVU328
 1299 0008 C36C     		ldr	r3, [r0, #76]
 1300 000a 43F08003 		orr	r3, r3, #128
 1301 000e C364     		str	r3, [r0, #76]
 402:./libraries/drivers/src/at32f413_usb.c **** }
 1302              		.loc 1 402 1 view .LVU329
 1303 0010 7047     		bx	lr
 1304              		.cfi_endproc
 1305              	.LFE142:
 1307              		.section	.text.usb_ept_stall,"ax",%progbits
 1308              		.align	1
 1309              		.global	usb_ept_stall
 1310              		.syntax unified
 1311              		.thumb
 1312              		.thumb_func
 1313              		.fpu fpv4-sp-d16
 1315              	usb_ept_stall:
 1316              	.LVL109:
 1317              	.LFB143:
 403:./libraries/drivers/src/at32f413_usb.c **** 
 404:./libraries/drivers/src/at32f413_usb.c **** /**
 405:./libraries/drivers/src/at32f413_usb.c ****   * @brief  set endpoint tx or rx status to stall
 406:./libraries/drivers/src/at32f413_usb.c ****   * @param  usbx: to select the usb peripheral.
 407:./libraries/drivers/src/at32f413_usb.c ****   *         parameter as following values: USB
 408:./libraries/drivers/src/at32f413_usb.c ****   * @param  ept_info: endpoint information structure
 409:./libraries/drivers/src/at32f413_usb.c ****   * @retval none
 410:./libraries/drivers/src/at32f413_usb.c ****   */
 411:./libraries/drivers/src/at32f413_usb.c **** void usb_ept_stall(usbd_type *usbx, usb_ept_info *ept_info)
 412:./libraries/drivers/src/at32f413_usb.c **** {
 1318              		.loc 1 412 1 is_stmt 1 view -0
 1319              		.cfi_startproc
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 34


 1320              		@ args = 0, pretend = 0, frame = 0
 1321              		@ frame_needed = 0, uses_anonymous_args = 0
 1322              		@ link register save eliminated.
 413:./libraries/drivers/src/at32f413_usb.c ****   if(ept_info->inout == DATA_TRANS_IN)
 1323              		.loc 1 413 3 view .LVU331
 1324              		.loc 1 413 14 is_stmt 0 view .LVU332
 1325 0000 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 1326              		.loc 1 413 5 view .LVU333
 1327 0002 012B     		cmp	r3, #1
 1328 0004 11D0     		beq	.L77
 1329              	.LBB26:
 414:./libraries/drivers/src/at32f413_usb.c ****   {
 415:./libraries/drivers/src/at32f413_usb.c ****     USB_SET_TXSTS(ept_info->eptn, USB_TX_STALL)
 416:./libraries/drivers/src/at32f413_usb.c ****   }
 417:./libraries/drivers/src/at32f413_usb.c ****   else
 418:./libraries/drivers/src/at32f413_usb.c ****   {
 419:./libraries/drivers/src/at32f413_usb.c ****     USB_SET_RXSTS(ept_info->eptn, USB_RX_STALL)
 1330              		.loc 1 419 5 is_stmt 1 view .LVU334
 1331 0006 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 1332              	.LVL110:
 1333              		.loc 1 419 5 is_stmt 0 view .LVU335
 1334 0008 114A     		ldr	r2, .L78
 1335 000a 52F82130 		ldr	r3, [r2, r1, lsl #2]
 1336 000e 9BB2     		uxth	r3, r3
 1337 0010 23F48043 		bic	r3, r3, #16384
 1338 0014 23F07003 		bic	r3, r3, #112
 1339              	.LVL111:
 1340              		.loc 1 419 5 is_stmt 1 view .LVU336
 1341              		.loc 1 419 5 view .LVU337
 1342 0018 83F48053 		eor	r3, r3, #4096
 1343              	.LVL112:
 1344              		.loc 1 419 5 view .LVU338
 1345              		.loc 1 419 5 view .LVU339
 1346 001c 43F40043 		orr	r3, r3, #32768
 1347              	.LVL113:
 1348              		.loc 1 419 5 is_stmt 0 view .LVU340
 1349 0020 43F08003 		orr	r3, r3, #128
 1350 0024 42F82130 		str	r3, [r2, r1, lsl #2]
 1351              	.LBE26:
 420:./libraries/drivers/src/at32f413_usb.c ****   }
 421:./libraries/drivers/src/at32f413_usb.c **** }
 1352              		.loc 1 421 1 view .LVU341
 1353 0028 7047     		bx	lr
 1354              	.LVL114:
 1355              	.L77:
 1356              	.LBB27:
 415:./libraries/drivers/src/at32f413_usb.c ****   }
 1357              		.loc 1 415 5 is_stmt 1 view .LVU342
 1358 002a 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 1359              	.LVL115:
 415:./libraries/drivers/src/at32f413_usb.c ****   }
 1360              		.loc 1 415 5 is_stmt 0 view .LVU343
 1361 002c 084A     		ldr	r2, .L78
 1362 002e 52F82130 		ldr	r3, [r2, r1, lsl #2]
 1363 0032 9BB2     		uxth	r3, r3
 1364 0034 23F4E043 		bic	r3, r3, #28672
 1365 0038 23F04003 		bic	r3, r3, #64
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 35


 1366              	.LVL116:
 415:./libraries/drivers/src/at32f413_usb.c ****   }
 1367              		.loc 1 415 5 is_stmt 1 view .LVU344
 415:./libraries/drivers/src/at32f413_usb.c ****   }
 1368              		.loc 1 415 5 view .LVU345
 1369 003c 83F01003 		eor	r3, r3, #16
 1370              	.LVL117:
 415:./libraries/drivers/src/at32f413_usb.c ****   }
 1371              		.loc 1 415 5 view .LVU346
 415:./libraries/drivers/src/at32f413_usb.c ****   }
 1372              		.loc 1 415 5 view .LVU347
 1373 0040 43F40043 		orr	r3, r3, #32768
 1374              	.LVL118:
 415:./libraries/drivers/src/at32f413_usb.c ****   }
 1375              		.loc 1 415 5 is_stmt 0 view .LVU348
 1376 0044 43F08003 		orr	r3, r3, #128
 1377 0048 42F82130 		str	r3, [r2, r1, lsl #2]
 1378              	.LBE27:
 1379 004c 7047     		bx	lr
 1380              	.L79:
 1381 004e 00BF     		.align	2
 1382              	.L78:
 1383 0050 005C0040 		.word	1073765376
 1384              		.cfi_endproc
 1385              	.LFE143:
 1387              		.section	.text.usb_enter_suspend,"ax",%progbits
 1388              		.align	1
 1389              		.global	usb_enter_suspend
 1390              		.syntax unified
 1391              		.thumb
 1392              		.thumb_func
 1393              		.fpu fpv4-sp-d16
 1395              	usb_enter_suspend:
 1396              	.LVL119:
 1397              	.LFB144:
 422:./libraries/drivers/src/at32f413_usb.c **** 
 423:./libraries/drivers/src/at32f413_usb.c **** /**
 424:./libraries/drivers/src/at32f413_usb.c ****   * @brief  usb device enter suspend mode
 425:./libraries/drivers/src/at32f413_usb.c ****   * @param  usbx: to select the usb peripheral.
 426:./libraries/drivers/src/at32f413_usb.c ****   *         parameter as following values: USB
 427:./libraries/drivers/src/at32f413_usb.c ****   * @retval none
 428:./libraries/drivers/src/at32f413_usb.c ****   */
 429:./libraries/drivers/src/at32f413_usb.c **** void usb_enter_suspend(usbd_type *usbx)
 430:./libraries/drivers/src/at32f413_usb.c **** {
 1398              		.loc 1 430 1 is_stmt 1 view -0
 1399              		.cfi_startproc
 1400              		@ args = 0, pretend = 0, frame = 0
 1401              		@ frame_needed = 0, uses_anonymous_args = 0
 1402              		@ link register save eliminated.
 431:./libraries/drivers/src/at32f413_usb.c ****   usbx->ctrl_bit.ssp = TRUE;
 1403              		.loc 1 431 3 view .LVU350
 1404              		.loc 1 431 22 is_stmt 0 view .LVU351
 1405 0000 036C     		ldr	r3, [r0, #64]
 1406 0002 43F00803 		orr	r3, r3, #8
 1407 0006 0364     		str	r3, [r0, #64]
 432:./libraries/drivers/src/at32f413_usb.c ****   usbx->ctrl_bit.lpm = TRUE;
 1408              		.loc 1 432 3 is_stmt 1 view .LVU352
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 36


 1409              		.loc 1 432 22 is_stmt 0 view .LVU353
 1410 0008 036C     		ldr	r3, [r0, #64]
 1411 000a 43F00403 		orr	r3, r3, #4
 1412 000e 0364     		str	r3, [r0, #64]
 433:./libraries/drivers/src/at32f413_usb.c **** }
 1413              		.loc 1 433 1 view .LVU354
 1414 0010 7047     		bx	lr
 1415              		.cfi_endproc
 1416              	.LFE144:
 1418              		.section	.text.usb_exit_suspend,"ax",%progbits
 1419              		.align	1
 1420              		.global	usb_exit_suspend
 1421              		.syntax unified
 1422              		.thumb
 1423              		.thumb_func
 1424              		.fpu fpv4-sp-d16
 1426              	usb_exit_suspend:
 1427              	.LVL120:
 1428              	.LFB145:
 434:./libraries/drivers/src/at32f413_usb.c **** 
 435:./libraries/drivers/src/at32f413_usb.c **** /**
 436:./libraries/drivers/src/at32f413_usb.c ****   * @brief  usb device exit suspend mode
 437:./libraries/drivers/src/at32f413_usb.c ****   * @param  usbx: to select the usb peripheral.
 438:./libraries/drivers/src/at32f413_usb.c ****   *         parameter as following values: USB
 439:./libraries/drivers/src/at32f413_usb.c ****   * @retval none
 440:./libraries/drivers/src/at32f413_usb.c ****   */
 441:./libraries/drivers/src/at32f413_usb.c **** void usb_exit_suspend(usbd_type *usbx)
 442:./libraries/drivers/src/at32f413_usb.c **** {
 1429              		.loc 1 442 1 is_stmt 1 view -0
 1430              		.cfi_startproc
 1431              		@ args = 0, pretend = 0, frame = 0
 1432              		@ frame_needed = 0, uses_anonymous_args = 0
 1433              		@ link register save eliminated.
 443:./libraries/drivers/src/at32f413_usb.c ****   usbx->ctrl_bit.ssp = FALSE;
 1434              		.loc 1 443 3 view .LVU356
 1435              		.loc 1 443 22 is_stmt 0 view .LVU357
 1436 0000 036C     		ldr	r3, [r0, #64]
 1437 0002 6FF3C303 		bfc	r3, #3, #1
 1438 0006 0364     		str	r3, [r0, #64]
 444:./libraries/drivers/src/at32f413_usb.c ****   usbx->ctrl_bit.lpm = FALSE;
 1439              		.loc 1 444 3 is_stmt 1 view .LVU358
 1440              		.loc 1 444 22 is_stmt 0 view .LVU359
 1441 0008 036C     		ldr	r3, [r0, #64]
 1442 000a 6FF38203 		bfc	r3, #2, #1
 1443 000e 0364     		str	r3, [r0, #64]
 445:./libraries/drivers/src/at32f413_usb.c **** }
 1444              		.loc 1 445 1 view .LVU360
 1445 0010 7047     		bx	lr
 1446              		.cfi_endproc
 1447              	.LFE145:
 1449              		.section	.text.usb_remote_wkup_set,"ax",%progbits
 1450              		.align	1
 1451              		.global	usb_remote_wkup_set
 1452              		.syntax unified
 1453              		.thumb
 1454              		.thumb_func
 1455              		.fpu fpv4-sp-d16
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 37


 1457              	usb_remote_wkup_set:
 1458              	.LVL121:
 1459              	.LFB146:
 446:./libraries/drivers/src/at32f413_usb.c **** 
 447:./libraries/drivers/src/at32f413_usb.c **** /**
 448:./libraries/drivers/src/at32f413_usb.c ****   * @brief  usb remote wakeup set
 449:./libraries/drivers/src/at32f413_usb.c ****   * @param  usbx: to select the usb peripheral.
 450:./libraries/drivers/src/at32f413_usb.c ****   *         parameter as following values: USB
 451:./libraries/drivers/src/at32f413_usb.c ****   * @retval none
 452:./libraries/drivers/src/at32f413_usb.c ****   */
 453:./libraries/drivers/src/at32f413_usb.c **** void usb_remote_wkup_set(usbd_type *usbx)
 454:./libraries/drivers/src/at32f413_usb.c **** {
 1460              		.loc 1 454 1 is_stmt 1 view -0
 1461              		.cfi_startproc
 1462              		@ args = 0, pretend = 0, frame = 0
 1463              		@ frame_needed = 0, uses_anonymous_args = 0
 1464              		@ link register save eliminated.
 455:./libraries/drivers/src/at32f413_usb.c ****    usbx->ctrl_bit.gresume = TRUE;
 1465              		.loc 1 455 4 view .LVU362
 1466              		.loc 1 455 27 is_stmt 0 view .LVU363
 1467 0000 036C     		ldr	r3, [r0, #64]
 1468 0002 43F01003 		orr	r3, r3, #16
 1469 0006 0364     		str	r3, [r0, #64]
 456:./libraries/drivers/src/at32f413_usb.c **** }
 1470              		.loc 1 456 1 view .LVU364
 1471 0008 7047     		bx	lr
 1472              		.cfi_endproc
 1473              	.LFE146:
 1475              		.section	.text.usb_remote_wkup_clear,"ax",%progbits
 1476              		.align	1
 1477              		.global	usb_remote_wkup_clear
 1478              		.syntax unified
 1479              		.thumb
 1480              		.thumb_func
 1481              		.fpu fpv4-sp-d16
 1483              	usb_remote_wkup_clear:
 1484              	.LVL122:
 1485              	.LFB147:
 457:./libraries/drivers/src/at32f413_usb.c **** 
 458:./libraries/drivers/src/at32f413_usb.c **** /**
 459:./libraries/drivers/src/at32f413_usb.c ****   * @brief  usb remote wakeup clear
 460:./libraries/drivers/src/at32f413_usb.c ****   * @param  usbx: to select the usb peripheral.
 461:./libraries/drivers/src/at32f413_usb.c ****   *         parameter as following values: USB
 462:./libraries/drivers/src/at32f413_usb.c ****   * @retval none
 463:./libraries/drivers/src/at32f413_usb.c ****   */
 464:./libraries/drivers/src/at32f413_usb.c **** void usb_remote_wkup_clear(usbd_type *usbx)
 465:./libraries/drivers/src/at32f413_usb.c **** {
 1486              		.loc 1 465 1 is_stmt 1 view -0
 1487              		.cfi_startproc
 1488              		@ args = 0, pretend = 0, frame = 0
 1489              		@ frame_needed = 0, uses_anonymous_args = 0
 1490              		@ link register save eliminated.
 466:./libraries/drivers/src/at32f413_usb.c ****   usbx->ctrl_bit.gresume = FALSE;
 1491              		.loc 1 466 3 view .LVU366
 1492              		.loc 1 466 26 is_stmt 0 view .LVU367
 1493 0000 036C     		ldr	r3, [r0, #64]
 1494 0002 6FF30413 		bfc	r3, #4, #1
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 38


 1495 0006 0364     		str	r3, [r0, #64]
 467:./libraries/drivers/src/at32f413_usb.c **** }
 1496              		.loc 1 467 1 view .LVU368
 1497 0008 7047     		bx	lr
 1498              		.cfi_endproc
 1499              	.LFE147:
 1501              		.section	.text.usb_buffer_malloc,"ax",%progbits
 1502              		.align	1
 1503              		.global	usb_buffer_malloc
 1504              		.syntax unified
 1505              		.thumb
 1506              		.thumb_func
 1507              		.fpu fpv4-sp-d16
 1509              	usb_buffer_malloc:
 1510              	.LVL123:
 1511              	.LFB148:
 468:./libraries/drivers/src/at32f413_usb.c **** 
 469:./libraries/drivers/src/at32f413_usb.c **** /**
 470:./libraries/drivers/src/at32f413_usb.c ****   * @brief  usb auto malloc endpoint buffer
 471:./libraries/drivers/src/at32f413_usb.c ****   * @param  mapacket: endpoint support max packet size
 472:./libraries/drivers/src/at32f413_usb.c ****   * @retval none
 473:./libraries/drivers/src/at32f413_usb.c ****   */
 474:./libraries/drivers/src/at32f413_usb.c **** uint16_t usb_buffer_malloc(uint16_t maxpacket)
 475:./libraries/drivers/src/at32f413_usb.c **** {
 1512              		.loc 1 475 1 is_stmt 1 view -0
 1513              		.cfi_startproc
 1514              		@ args = 0, pretend = 0, frame = 0
 1515              		@ frame_needed = 0, uses_anonymous_args = 0
 1516              		@ link register save eliminated.
 1517              		.loc 1 475 1 is_stmt 0 view .LVU370
 1518 0000 0346     		mov	r3, r0
 476:./libraries/drivers/src/at32f413_usb.c ****   uint16_t offset = g_usb_offset_addr;
 1519              		.loc 1 476 3 is_stmt 1 view .LVU371
 1520              		.loc 1 476 12 is_stmt 0 view .LVU372
 1521 0002 024A     		ldr	r2, .L85
 1522 0004 1088     		ldrh	r0, [r2]
 1523              	.LVL124:
 477:./libraries/drivers/src/at32f413_usb.c ****   g_usb_offset_addr += maxpacket;
 1524              		.loc 1 477 3 is_stmt 1 view .LVU373
 1525              		.loc 1 477 21 is_stmt 0 view .LVU374
 1526 0006 0344     		add	r3, r3, r0
 1527 0008 1380     		strh	r3, [r2]	@ movhi
 478:./libraries/drivers/src/at32f413_usb.c ****   return offset;
 1528              		.loc 1 478 3 is_stmt 1 view .LVU375
 479:./libraries/drivers/src/at32f413_usb.c **** }
 1529              		.loc 1 479 1 is_stmt 0 view .LVU376
 1530 000a 7047     		bx	lr
 1531              	.L86:
 1532              		.align	2
 1533              	.L85:
 1534 000c 00000000 		.word	.LANCHOR1
 1535              		.cfi_endproc
 1536              	.LFE148:
 1538              		.section	.text.usb_buffer_free,"ax",%progbits
 1539              		.align	1
 1540              		.global	usb_buffer_free
 1541              		.syntax unified
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 39


 1542              		.thumb
 1543              		.thumb_func
 1544              		.fpu fpv4-sp-d16
 1546              	usb_buffer_free:
 1547              	.LFB149:
 480:./libraries/drivers/src/at32f413_usb.c **** 
 481:./libraries/drivers/src/at32f413_usb.c **** /**
 482:./libraries/drivers/src/at32f413_usb.c ****   * @brief  free usb endpoint buffer
 483:./libraries/drivers/src/at32f413_usb.c ****   * @param  none
 484:./libraries/drivers/src/at32f413_usb.c ****   * @retval none
 485:./libraries/drivers/src/at32f413_usb.c ****   */
 486:./libraries/drivers/src/at32f413_usb.c **** void usb_buffer_free(void)
 487:./libraries/drivers/src/at32f413_usb.c **** {
 1548              		.loc 1 487 1 is_stmt 1 view -0
 1549              		.cfi_startproc
 1550              		@ args = 0, pretend = 0, frame = 0
 1551              		@ frame_needed = 0, uses_anonymous_args = 0
 1552              		@ link register save eliminated.
 488:./libraries/drivers/src/at32f413_usb.c ****   g_usb_offset_addr = USB_ENDP_DESC_TABLE_OFFSET;
 1553              		.loc 1 488 3 view .LVU378
 1554              		.loc 1 488 21 is_stmt 0 view .LVU379
 1555 0000 014B     		ldr	r3, .L88
 1556 0002 4022     		movs	r2, #64
 1557 0004 1A80     		strh	r2, [r3]	@ movhi
 489:./libraries/drivers/src/at32f413_usb.c **** }
 1558              		.loc 1 489 1 view .LVU380
 1559 0006 7047     		bx	lr
 1560              	.L89:
 1561              		.align	2
 1562              	.L88:
 1563 0008 00000000 		.word	.LANCHOR1
 1564              		.cfi_endproc
 1565              	.LFE149:
 1567              		.section	.text.usb_flag_get,"ax",%progbits
 1568              		.align	1
 1569              		.global	usb_flag_get
 1570              		.syntax unified
 1571              		.thumb
 1572              		.thumb_func
 1573              		.fpu fpv4-sp-d16
 1575              	usb_flag_get:
 1576              	.LVL125:
 1577              	.LFB150:
 490:./libraries/drivers/src/at32f413_usb.c **** 
 491:./libraries/drivers/src/at32f413_usb.c **** /**
 492:./libraries/drivers/src/at32f413_usb.c ****   * @brief  get flag of usb.
 493:./libraries/drivers/src/at32f413_usb.c ****   * @param  usbx: select the usb peripheral
 494:./libraries/drivers/src/at32f413_usb.c ****   * @param  flag: select the usb flag
 495:./libraries/drivers/src/at32f413_usb.c ****   *         this parameter can be one of the following values:
 496:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_INOUT_FLAG
 497:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_LSOF_FLAG
 498:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_SOF_FLAG
 499:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_RST_FLAG
 500:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_SP_FLAG
 501:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_WK_FLAG
 502:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_BE_FLAG
 503:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_UCFOR_FLAG
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 40


 504:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_TC_FLAG
 505:./libraries/drivers/src/at32f413_usb.c ****   * @retval none
 506:./libraries/drivers/src/at32f413_usb.c ****   */
 507:./libraries/drivers/src/at32f413_usb.c **** flag_status usb_flag_get(usbd_type *usbx, uint16_t flag)
 508:./libraries/drivers/src/at32f413_usb.c **** {
 1578              		.loc 1 508 1 is_stmt 1 view -0
 1579              		.cfi_startproc
 1580              		@ args = 0, pretend = 0, frame = 0
 1581              		@ frame_needed = 0, uses_anonymous_args = 0
 1582              		@ link register save eliminated.
 509:./libraries/drivers/src/at32f413_usb.c ****   flag_status status = RESET;
 1583              		.loc 1 509 3 view .LVU382
 510:./libraries/drivers/src/at32f413_usb.c **** 
 511:./libraries/drivers/src/at32f413_usb.c ****   if((usbx->intsts & flag) == RESET)
 1584              		.loc 1 511 3 view .LVU383
 1585              		.loc 1 511 11 is_stmt 0 view .LVU384
 1586 0000 436C     		ldr	r3, [r0, #68]
 1587              		.loc 1 511 5 view .LVU385
 1588 0002 1942     		tst	r1, r3
 1589 0004 01D1     		bne	.L92
 512:./libraries/drivers/src/at32f413_usb.c ****   {
 513:./libraries/drivers/src/at32f413_usb.c ****     status = RESET;
 1590              		.loc 1 513 12 view .LVU386
 1591 0006 0020     		movs	r0, #0
 1592              	.LVL126:
 1593              		.loc 1 513 12 view .LVU387
 1594 0008 7047     		bx	lr
 1595              	.LVL127:
 1596              	.L92:
 514:./libraries/drivers/src/at32f413_usb.c ****   }
 515:./libraries/drivers/src/at32f413_usb.c ****   else
 516:./libraries/drivers/src/at32f413_usb.c ****   {
 517:./libraries/drivers/src/at32f413_usb.c ****     status = SET;
 1597              		.loc 1 517 12 view .LVU388
 1598 000a 0120     		movs	r0, #1
 1599              	.LVL128:
 518:./libraries/drivers/src/at32f413_usb.c ****   }
 519:./libraries/drivers/src/at32f413_usb.c ****   return status;
 1600              		.loc 1 519 3 is_stmt 1 view .LVU389
 520:./libraries/drivers/src/at32f413_usb.c **** }
 1601              		.loc 1 520 1 is_stmt 0 view .LVU390
 1602 000c 7047     		bx	lr
 1603              		.cfi_endproc
 1604              	.LFE150:
 1606              		.section	.text.usb_flag_clear,"ax",%progbits
 1607              		.align	1
 1608              		.global	usb_flag_clear
 1609              		.syntax unified
 1610              		.thumb
 1611              		.thumb_func
 1612              		.fpu fpv4-sp-d16
 1614              	usb_flag_clear:
 1615              	.LVL129:
 1616              	.LFB151:
 521:./libraries/drivers/src/at32f413_usb.c **** 
 522:./libraries/drivers/src/at32f413_usb.c **** /**
 523:./libraries/drivers/src/at32f413_usb.c ****   * @brief  clear flag of usb.
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 41


 524:./libraries/drivers/src/at32f413_usb.c ****   * @param  usbx: select the usb peripheral
 525:./libraries/drivers/src/at32f413_usb.c ****   * @param  flag: select the usb flag
 526:./libraries/drivers/src/at32f413_usb.c ****   *         this parameter can be one of the following values:
 527:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_INOUT_FLAG
 528:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_LSOF_FLAG
 529:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_SOF_FLAG
 530:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_RST_FLAG
 531:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_SP_FLAG
 532:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_WK_FLAG
 533:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_BE_FLAG
 534:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_UCFOR_FLAG
 535:./libraries/drivers/src/at32f413_usb.c ****   *         - USB_TC_FLAG
 536:./libraries/drivers/src/at32f413_usb.c ****   * @retval none
 537:./libraries/drivers/src/at32f413_usb.c ****   */
 538:./libraries/drivers/src/at32f413_usb.c **** void usb_flag_clear(usbd_type *usbx, uint16_t flag)
 539:./libraries/drivers/src/at32f413_usb.c **** {
 1617              		.loc 1 539 1 is_stmt 1 view -0
 1618              		.cfi_startproc
 1619              		@ args = 0, pretend = 0, frame = 0
 1620              		@ frame_needed = 0, uses_anonymous_args = 0
 1621              		@ link register save eliminated.
 540:./libraries/drivers/src/at32f413_usb.c ****   usbx->intsts = ~flag;
 1622              		.loc 1 540 3 view .LVU392
 1623              		.loc 1 540 18 is_stmt 0 view .LVU393
 1624 0000 C943     		mvns	r1, r1
 1625              	.LVL130:
 1626              		.loc 1 540 16 view .LVU394
 1627 0002 4164     		str	r1, [r0, #68]
 541:./libraries/drivers/src/at32f413_usb.c **** }
 1628              		.loc 1 541 1 view .LVU395
 1629 0004 7047     		bx	lr
 1630              		.cfi_endproc
 1631              	.LFE151:
 1633              		.global	g_usb_packet_address
 1634              		.section	.data.g_usb_offset_addr,"aw"
 1635              		.align	1
 1636              		.set	.LANCHOR1,. + 0
 1639              	g_usb_offset_addr:
 1640 0000 4000     		.short	64
 1641              		.section	.data.g_usb_packet_address,"aw"
 1642              		.align	2
 1643              		.set	.LANCHOR0,. + 0
 1646              	g_usb_packet_address:
 1647 0000 00600040 		.word	1073766400
 1648              		.text
 1649              	.Letext0:
 1650              		.file 2 "c:\\gcc-arm-none-eabi-10.3-2021.07\\arm-none-eabi\\include\\machine\\_default_types.h"
 1651              		.file 3 "c:\\gcc-arm-none-eabi-10.3-2021.07\\arm-none-eabi\\include\\sys\\_stdint.h"
 1652              		.file 4 "./libraries/cmsis/cm4/core_support/cmsis_gcc.h"
 1653              		.file 5 "./libraries/cmsis/cm4/device_support/at32f413.h"
 1654              		.file 6 "./libraries/drivers/inc/at32f413_crm.h"
 1655              		.file 7 "./libraries/drivers/inc/at32f413_tmr.h"
 1656              		.file 8 "./libraries/drivers/inc/at32f413_usb.h"
ARM GAS  C:\Users\J\AppData\Local\Temp\ccGpzJyl.s 			page 42


DEFINED SYMBOLS
                            *ABS*:00000000 at32f413_usb.c
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:18     .text.usb_connect:00000000 $t
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:26     .text.usb_connect:00000000 usb_connect
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:46     .text.usb_disconnect:00000000 $t
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:53     .text.usb_disconnect:00000000 usb_disconnect
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:72     .text.usb_usbbufs_enable:00000000 $t
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:79     .text.usb_usbbufs_enable:00000000 usb_usbbufs_enable
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:120    .text.usb_usbbufs_enable:0000002c $d
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:128    .text.usb_ept_open:00000000 $t
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:135    .text.usb_ept_open:00000000 usb_ept_open
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:531    .text.usb_ept_open:0000025c $d
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:539    .text.usb_ept_open:00000264 $t
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:793    .text.usb_ept_open:000003cc $d
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:801    .text.usb_ept_close:00000000 $t
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:808    .text.usb_ept_close:00000000 usb_ept_close
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1053   .text.usb_ept_close:00000198 $d
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1058   .text.usb_write_packet:00000000 $t
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1065   .text.usb_write_packet:00000000 usb_write_packet
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1118   .text.usb_write_packet:00000024 $d
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1123   .text.usb_read_packet:00000000 $t
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1130   .text.usb_read_packet:00000000 usb_read_packet
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1183   .text.usb_read_packet:00000024 $d
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1188   .text.usb_interrupt_enable:00000000 $t
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1195   .text.usb_interrupt_enable:00000000 usb_interrupt_enable
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1230   .text.usb_dev_init:00000000 $t
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1237   .text.usb_dev_init:00000000 usb_dev_init
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1277   .text.usb_set_address:00000000 $t
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1284   .text.usb_set_address:00000000 usb_set_address
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1308   .text.usb_ept_stall:00000000 $t
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1315   .text.usb_ept_stall:00000000 usb_ept_stall
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1383   .text.usb_ept_stall:00000050 $d
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1388   .text.usb_enter_suspend:00000000 $t
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1395   .text.usb_enter_suspend:00000000 usb_enter_suspend
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1419   .text.usb_exit_suspend:00000000 $t
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1426   .text.usb_exit_suspend:00000000 usb_exit_suspend
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1450   .text.usb_remote_wkup_set:00000000 $t
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1457   .text.usb_remote_wkup_set:00000000 usb_remote_wkup_set
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1476   .text.usb_remote_wkup_clear:00000000 $t
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1483   .text.usb_remote_wkup_clear:00000000 usb_remote_wkup_clear
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1502   .text.usb_buffer_malloc:00000000 $t
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1509   .text.usb_buffer_malloc:00000000 usb_buffer_malloc
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1534   .text.usb_buffer_malloc:0000000c $d
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1539   .text.usb_buffer_free:00000000 $t
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1546   .text.usb_buffer_free:00000000 usb_buffer_free
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1563   .text.usb_buffer_free:00000008 $d
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1568   .text.usb_flag_get:00000000 $t
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1575   .text.usb_flag_get:00000000 usb_flag_get
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1607   .text.usb_flag_clear:00000000 $t
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1614   .text.usb_flag_clear:00000000 usb_flag_clear
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1646   .data.g_usb_packet_address:00000000 g_usb_packet_address
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1635   .data.g_usb_offset_addr:00000000 $d
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1639   .data.g_usb_offset_addr:00000000 g_usb_offset_addr
C:\Users\J\AppData\Local\Temp\ccGpzJyl.s:1642   .data.g_usb_packet_address:00000000 $d

NO UNDEFINED SYMBOLS
